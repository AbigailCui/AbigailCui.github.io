<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScript-1 | Abigail Cuiçš„å°ç«™</title><meta name="keywords" content="JS"><meta name="author" content="è·¯å°é›¨"><meta name="copyright" content="è·¯å°é›¨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaScriptåŸºç¡€åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰æ•°æ®ç±»å‹çš„æ¦‚å¿µã€‚ åœ¨JavaScriptä¸­ï¼Œæ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚å…¶ä¸­åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬Undefined,Null,Boolean,Number,String5ç§ç±»å‹ã€‚åœ¨ES6ä¸­æ–°å¢äº†ä¸€ç§åŸºæœ¬çš„æ•°æ®ç±»å‹Symbol. å¼•ç”¨ç±»å‹æœ‰Object,Function,Array,Dateç­‰ã€‚ é—®é¢˜ï¼šä¸¤ç§ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å­˜å‚¨ä½">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript-1">
<meta property="og:url" content="https://www.abigailcui.com/2020/09/25/JavaScript-1/index.html">
<meta property="og:site_name" content="Abigail Cuiçš„å°ç«™">
<meta property="og:description" content="JavaScriptåŸºç¡€åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰æ•°æ®ç±»å‹çš„æ¦‚å¿µã€‚ åœ¨JavaScriptä¸­ï¼Œæ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚å…¶ä¸­åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬Undefined,Null,Boolean,Number,String5ç§ç±»å‹ã€‚åœ¨ES6ä¸­æ–°å¢äº†ä¸€ç§åŸºæœ¬çš„æ•°æ®ç±»å‹Symbol. å¼•ç”¨ç±»å‹æœ‰Object,Function,Array,Dateç­‰ã€‚ é—®é¢˜ï¼šä¸¤ç§ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ å­˜å‚¨ä½">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg">
<meta property="article:published_time" content="2020-09-25T00:04:15.000Z">
<meta property="article:modified_time" content="2021-09-25T09:05:24.079Z">
<meta property="article:author" content="è·¯å°é›¨">
<meta property="article:tag" content="JS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.abigailcui.com/2020/09/25/JavaScript-1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaScript-1',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-25 17:05:24'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"><div id="aplayer"></div><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js" async></script><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    document.addEventListener('pjax:complete', detectApple)})(window)</script><link rel="stylesheet" href="/css/custom.css"><style type="text/css">#universe{display: block;position: fixed;margin: 0;padding: 0;border: 0;outline: 0;left: 0;top: 0;width: 100%;height: 100%;pointer-events: none;z-index: -1;}</style><style type="text/css">#toggle-sidebar {bottom: 80px}</style><style type="text/css">#toggle-sidebar {left:100px}</style><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.css"><!-- hexo injector head_end end --><style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loaderé¡µé¢æ¶ˆå¤±é‡‡ç”¨æ¸éšçš„æ–¹å¼*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }
    
    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }
    
   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}
    
    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}
    
   
    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logoå‡ºç°åŠ¨ç”» */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//ä½¿ç”¨æ¸éšçš„æ–¹æ³•æ·¡å‡ºloading page
            // document.getElementById("body-wrap").style.display="flex";
            document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//å¼ºåˆ¶æ˜¾ç¤ºloading page 1s  
    };
    loaded();
})()
 </script><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>
 <div id="loading-container">
     <p class="loading-text"> å…¨å‘˜åŠ é€Ÿä¸­ . . . </p> 
     <div class="loading-image">
         <div></div>
         <div></div>
         <div></div>
         <div></div> 
         <div></div>
     </div>
 </div><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">30</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">16</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/todo-List/index.html#/myday"><i class="fa-fw fas fa-clock"></i><span> ToDo-List</span></a></li><li><a class="site-page child" href="/te/"><i class="fa-fw fas fa-envelope"></i><span> ç–«æƒ…åœ°å›¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> å°æ¸¸æˆ</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/catch-cat-master/index.html"><i class="fa-fw fas fa-certificate"></i><span> å µä½é»‘çŒ«!</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://daxigua.guole.fun/"><i class="fa-fw fas fa-asterisk"></i><span> åˆæˆå¤§ğŸ‰</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://blog-game.vercel.app/znm/"><i class="fa-fw fas fa-podcast"></i><span> è§£å‹å…­è¾¹å½¢</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Abigail Cuiçš„å°ç«™</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-heart"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/todo-List/index.html#/myday"><i class="fa-fw fas fa-clock"></i><span> ToDo-List</span></a></li><li><a class="site-page child" href="/te/"><i class="fa-fw fas fa-envelope"></i><span> ç–«æƒ…åœ°å›¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-gamepad"></i><span> å°æ¸¸æˆ</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/catch-cat-master/index.html"><i class="fa-fw fas fa-certificate"></i><span> å µä½é»‘çŒ«!</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://daxigua.guole.fun/"><i class="fa-fw fas fa-asterisk"></i><span> åˆæˆå¤§ğŸ‰</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://blog-game.vercel.app/znm/"><i class="fa-fw fas fa-podcast"></i><span> è§£å‹å…­è¾¹å½¢</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaScript-1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2020-09-25T00:04:15.000Z" title="å‘è¡¨äº 2020-09-25 08:04:15">2020-09-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-09-25T09:05:24.079Z" title="æ›´æ–°äº 2021-09-25 17:05:24">2021-09-25</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JS/">JS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">64.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>242åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaScript-1"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JavaScriptåŸºç¡€"><a href="#JavaScriptåŸºç¡€" class="headerlink" title="JavaScriptåŸºç¡€"></a>JavaScriptåŸºç¡€</h1><h2 id="åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»"><a href="#åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»"></a>åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»</h2><p>æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰æ•°æ®ç±»å‹çš„æ¦‚å¿µã€‚</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚å…¶ä¸­åŸºæœ¬æ•°æ®ç±»å‹åŒ…æ‹¬<code>Undefined</code>,<code>Null</code>,<code>Boolean</code>,<code>Number</code>,<code>String</code>5ç§ç±»å‹ã€‚åœ¨<code>ES6</code>ä¸­æ–°å¢äº†ä¸€ç§åŸºæœ¬çš„æ•°æ®ç±»å‹<code>Symbol</code>.</p>
<p>å¼•ç”¨ç±»å‹æœ‰<code>Object</code>,<code>Function</code>,<code>Array</code>,<code>Date</code>ç­‰ã€‚</p>
<p>é—®é¢˜ï¼šä¸¤ç§ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p>å­˜å‚¨ä½ç½®ä¸åŒ</p>
<table>
<thead>
<tr>
<th><strong>åŒºåˆ«</strong></th>
<th>åŸºæœ¬æ•°æ®ç±»å‹</th>
<th>å¼•ç”¨æ•°æ®ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>å­˜å‚¨ä½ç½®</td>
<td>æ ˆ(stack)</td>
<td>å †(heap)</td>
</tr>
<tr>
<td>å æ®ç©ºé—´</td>
<td>å°ï¼Œå¤§å°å›ºå®š</td>
<td>å¤§ï¼Œå¤§å°ä¸å›ºå®š</td>
</tr>
</tbody></table>
<p>å¼•ç”¨æ•°æ®ç±»å‹åœ¨æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®ä½“ã€‚</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B.png"></p>
<p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥å›é¡¾åŸºæœ¬æ•°æ®ç±»å‹çš„å†…å®¹ï¼Œåé¢å†å¤ä¹ å¼•ç”¨ç±»å‹çš„å†…å®¹ï¼Œä»¥åŠçœ‹ä¸€ä¸‹å¯¹åº”çš„å¸¸è§çš„é¢è¯•é¢˜ã€‚</p>
<h3 id="Undefinedç±»å‹"><a href="#Undefinedç±»å‹" class="headerlink" title="Undefinedç±»å‹"></a>Undefinedç±»å‹</h3><p><code>Undefined</code>ç±»å‹åªæœ‰ä¸€ä¸ªå”¯ä¸€çš„å­—é¢å€¼<code>undefined</code>,è¡¨ç¤ºçš„å«ä¹‰æ˜¯ä¸€ä¸ªå˜é‡ä¸å­˜åœ¨ã€‚</p>
<p>é—®é¢˜ï¼šå“ªäº›åœºæ™¯ä¸­ä¼šå‡ºç°<code>undefined</code>?</p>
<p>ç¬¬ä¸€ï¼šä½¿ç”¨åªå£°æ˜è€Œæœªåˆå§‹åŒ–çš„å˜é‡æ—¶ï¼Œä¼šè¿”å›<code>undefined</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">//undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šè·å–ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šè¿”å›<code>undefined</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj={</span><br><span class="line">    <span class="attr">userName</span>:<span class="string">'zhangsan'</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(obj.age)<span class="comment">//undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šå‡½æ•°æ²¡æœ‰æ˜ç¡®çš„è¿”å›å€¼ï¼Œå´å¯¹å‡½æ•°çš„è°ƒç”¨ç»“æœè¿›è¡Œæ‰“å°</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>{}</span><br><span class="line"><span class="built_in">console</span>.log(fn()) <span class="comment">//undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼šå‡½æ•°å®šä¹‰çš„æ—¶å€™ï¼Œä½¿ç”¨äº†å¤šä¸ªå½¢å‚ï¼Œä½†æ˜¯åœ¨è°ƒç”¨çš„æ—¶å€™ä¼ é€’çš„å‚æ•°çš„æ•°é‡å°‘äºå½¢å‚æ•°é‡ï¼Œé‚£ä¹ˆæ²¡æœ‰åŒ¹é…ä¸Šçš„å‚æ•°å°±ä¸º<code>undefined</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">p1,p2,p3</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(p3) <span class="comment">//undefined</span></span><br><span class="line">}</span><br><span class="line">fn(<span class="number">1</span>,<span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Nullç±»å‹"><a href="#Nullç±»å‹" class="headerlink" title="Nullç±»å‹"></a>Nullç±»å‹</h3><p>â€‹    <code>Null</code>ç±»å‹åªæœ‰ä¸€ä¸ªå”¯ä¸€çš„å­—é¢å€¼<code>null</code>,è¡¨ç¤ºä¸€ä¸ªç©ºæŒ‡é’ˆçš„å¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯åœ¨ä½¿ç”¨<code>typeof</code>è¿è¡Œç¬¦æ£€æµ‹<code>null</code>å€¼æ—¶ä¼šè¿”å›<code>object</code>çš„åŸå› ã€‚</p>
<p>é—®é¢˜ï¼šå“ªäº›åœºæ™¯ä¸­ä¼šå‡ºç°<code>null</code>ï¼Ÿ</p>
<p>ç¬¬ä¸€ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœå£°æ˜çš„å˜é‡æ˜¯ä¸ºäº†ä»¥åä¿å­˜æŸä¸ªå€¼ï¼Œåˆ™åº”è¯¥åœ¨å£°æ˜æ—¶å°±å°†å…¶èµ‹å€¼ä¸º<code>null</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=<span class="literal">null</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">userName</span>:<span class="string">'zhangsan'</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">obj=foo();</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼š<code>JavaScript</code>åœ¨è·å–<code>DOM</code>å…ƒç´ æ—¶ï¼Œå¦‚æœæ²¡æœ‰è·å–åˆ°æŒ‡å®šçš„å…ƒç´ å¯¹è±¡ï¼Œå°±ä¼šè¿”å›<code>null</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#id'</span>) <span class="comment">//null</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šåœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…çš„ç»“æœï¼Œå°±ä¼šè¿”å›<code>null</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'test'</span>.match(<span class="regexp">/a/</span>);<span class="comment">// null</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="Undefinedä¸nullæ¯”è¾ƒ"><a href="#Undefinedä¸nullæ¯”è¾ƒ" class="headerlink" title="Undefinedä¸nullæ¯”è¾ƒ"></a>Undefinedä¸nullæ¯”è¾ƒ</h3><p><code>Undefined</code>å’Œ<code>Null</code>è™½ç„¶æ˜¯ä¸¤ç§ä¸åŒçš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†æ˜¯åœ¨æŸäº›æƒ…å†µä¹Ÿå­˜åœ¨ç›¸åŒä¹‹å¤„ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹å®ƒä»¬ä¸¤è€…ç›¸åŒç‚¹å’Œä¸åŒç‚¹ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰ç›¸åŒç‚¹</strong></p>
<p> ç¬¬ä¸€ï¼š<code>Undefined</code>å’Œ<code>Null</code>ä¸¤ç§æ•°æ®ç±»å‹éƒ½åªæœ‰ä¸€ä¸ªå­—é¢å€¼ï¼Œåˆ†åˆ«æ˜¯<code>undefined</code>å’Œ<code>null</code>.</p>
<p>ç¬¬äºŒï¼š<code>Undefined</code>å’Œ<code>Null</code>ç±»å‹åœ¨è½¬æ¢ä¸º<code>Boolean</code>ç±»å‹çš„å€¼æ—¶ï¼Œéƒ½ä¼šè½¬æ¢ä¸º<code>false</code>.</p>
<p>ç¬¬ä¸‰ï¼šåœ¨éœ€è¦å°†ä¸¤è€…è½¬æ¢æˆå¯¹è±¡çš„æ—¶å€™ï¼Œéƒ½ä¼šæŠ›å‡ºä¸€ä¸ª<code>TypeError</code>çš„å¼‚å¸¸ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="keyword">var</span> b=<span class="literal">null</span>;</span><br><span class="line">cosnole.log(a.name);<span class="comment">//Cannot read property 'name' of undefined</span></span><br><span class="line">cosnole.log(b.name);<span class="comment">//Cannot read property 'name' of undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼š<code>Undefined</code>ç±»å‹æ´¾ç”Ÿè‡ª<code>Null</code>ç±»å‹ï¼Œæ‰€ä»¥åœ¨éä¸¥æ ¼ç›¸ç­‰çš„æ¯”è¾ƒä¸‹ï¼Œä¸¤è€…æ˜¯ç›¸ç­‰çš„ã€‚å¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span>==<span class="literal">undefined</span> <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>(2)ä¸åŒç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼š<code>null</code>æ˜¯<code>JavaScript</code>çš„å…³é”®å­—ï¼Œè€Œ<code>undefined</code>æ˜¯<code>JavaScript</code>çš„ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä¹Ÿå°±æ˜¯æŒ‚è½½åœ¨<code>window</code>å¯¹è±¡ä¸Šçš„ä¸€ä¸ªå˜é‡ï¼Œå¹¶ä¸æ˜¯å…³é”®å­—ã€‚</p>
<p>ç¬¬äºŒï¼šåœ¨ä½¿ç”¨<code>typeof</code>è¿ç®—ç¬¦è¿›è¡Œæ£€æµ‹æ—¶ï¼Œ<code>Undefined</code>ç±»å‹çš„å€¼ä¼šè¿”å›<code>undefined</code>.è€Œ<code>Null</code>ç±»å‹çš„å€¼è¿”å›ä¸º<code>object</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> ;<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> ;<span class="comment">//object</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šåœ¨éœ€è¦è¿›è¡Œå­—ç¬¦ä¸²ç±»å‹çš„è½¬æ¢æ—¶ï¼Œ<code>null</code>ä¼šè½¬æ¢æˆå­—ç¬¦ä¸²<code>null</code>,è€Œ<code>undefined</code>ä¼šè½¬æ¢å­—ç¬¦ä¸²<code>undefined</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span>+<span class="string">" abc"</span> <span class="comment">//"undefined abc"</span></span><br><span class="line"><span class="literal">null</span>+<span class="string">" abc"</span> <span class="comment">//"null abc"</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼šåœ¨è¿›è¡Œæ•°å€¼ç±»å‹çš„è½¬æ¢æ—¶ï¼Œ<code>undefined</code>ä¼šè½¬æ¢ä¸º<code>NaN</code>,æ— æ³•å‚ä¸è®¡ç®—ï¼Œè€Œ<code>null</code>ä¼šè½¬æ¢ä¸º<code>0</code>,å¯ä»¥å‚ä¸è®¡ç®—ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span> +<span class="number">0</span>;<span class="comment">// NaN</span></span><br><span class="line"><span class="literal">null</span>+<span class="number">0</span> ;<span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äº”ï¼šå»ºè®®ï¼šæ— è®ºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éƒ½æ²¡æœ‰å¿…è¦å°†ä¸€ä¸ªå˜é‡æ˜¾ç¤ºçš„èµ‹å€¼ä¸º<code>undefined</code>ã€‚å¦‚æœéœ€è¦å®šä¹‰æŸä¸ªå˜é‡æ¥ä¿å­˜å°†æ¥è¦ä½¿ç”¨çš„å¯¹è±¡ï¼Œåº”è¯¥å°†å…¶åˆå§‹åŒ–ä¸º<code>null</code>.</p>
<h3 id="Booleanç±»å‹"><a href="#Booleanç±»å‹" class="headerlink" title="Booleanç±»å‹"></a>Booleanç±»å‹</h3><p><code>Boolean</code>ç±»å‹(å¸ƒå°”ç±»å‹)çš„å­—é¢é‡åªæœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯<code>true</code>å’Œ<code>false</code>,å®ƒä»¬æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚</p>
<p><code>Boolean</code>ç±»å‹ä½¿ç”¨æœ€å¤šçš„åœºæ™¯å°±æ˜¯ç”¨äº<code>if</code>è¯­å¥çš„åˆ¤æ–­ã€‚åœ¨<code>JavaScript</code>ä¸­ï¼Œ<code>if</code>è¯­å¥å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼ï¼Œå³<code>if(a)</code>è¯­å¥ä¸­çš„<code>a</code>,å¯ä»¥æ˜¯<code>Boolean</code>,<code>Number</code>,<code>String</code>,<code>Object</code>ï¼Œ<code>Null</code>,<code>Undefined</code>ç­‰ç±»å‹ã€‚</p>
<p>å¦‚æœ<code>a</code>ä¸æ˜¯<code>Boolean</code>ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆ<code>JavaScript</code>è§£æå™¨ä¼šè‡ªåŠ¨è°ƒç”¨<code>Boolean( )</code>å‡½æ•°å¯¹<code>a</code>è¿›è¡Œç±»å‹çš„è½¬æ¢ï¼Œè¿”å›æœ€ç»ˆç¬¦åˆ<code>if</code>è¯­å¥åˆ¤æ–­çš„<code>true</code>æˆ–è€…æ˜¯<code>false</code>å€¼ã€‚</p>
<p>ä¸åŒç±»å‹ä¸<code>Boolean</code>ç±»å‹çš„å€¼çš„è½¬æ¢æ˜¯<code>Boolean</code>ç±»å‹çš„é‡ç‚¹ã€‚</p>
<p>ç¬¬ä¸€ï¼š<code>String</code>ç±»å‹è½¬æ¢ä¸º<code>Boolean</code>ç±»å‹</p>
<p>ç©ºå­—ç¬¦éƒ½ä¼šè½¬æ¢æˆ<code>false</code>,è€Œä»»ä½•éç©ºå­—ç¬¦ä¸²éƒ½ä¼šè½¬æ¢ä¸º<code>true</code></p>
<p>ç¬¬äºŒï¼š<code>Number</code>ç±»å‹è½¬æ¢ä¸º<code>Boolean</code>ç±»å‹</p>
<p><code>0</code>å’Œ<code>NaN</code>éƒ½ä¼šè½¬æ¢ä¸º<code>false</code>.è€Œé™¤äº†<code>0</code>å’Œ<code>NaN</code>ä»¥å¤–éƒ½ä¼šè½¬æ¢<code>true</code>.</p>
<p>ç¬¬ä¸‰ï¼š<code>Object</code>ç±»å‹è½¬æ¢<code>Boolean</code>ç±»å‹</p>
<p>å¦‚æœ<code>object</code>ä¸º<code>null</code>æ—¶ï¼Œä¼šè½¬æ¢ä¸º<code>false</code>,å¦‚æœ<code>object</code>ä¸ä¸º<code>null</code>ï¼Œåˆ™éƒ½ä¼šè½¬æ¢æˆ<code>true</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj={}</span><br><span class="line"><span class="built_in">Boolean</span>(obj) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj=<span class="literal">null</span></span><br><span class="line"><span class="built_in">Boolean</span>(obj)<span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼š<code>Function</code>ç±»å‹è½¬æ¢<code>Boolean</code>ç±»å‹</p>
<p>ä»»ä½•<code>Function</code>ç±»å‹éƒ½ä¼šè½¬æ¢ä¸º<code>true</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fn=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">}</span><br><span class="line"><span class="built_in">Boolean</span>(fn)<span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äº”ï¼š<code>Null</code>ç±»å‹è½¬æ¢ä¸º<code>Boolean</code>ç±»å‹ï¼Œæˆ‘ä»¬çŸ¥é“<code>Null</code>ç±»å‹åªæœ‰ä¸€ä¸ª<code>null</code>å€¼ï¼Œä¼šè½¬æ¢ä¸º<code>false</code>.</p>
<p>ç¬¬å…­ï¼š<code>Undefined</code>ç±»å‹è½¬æ¢<code>Boolean</code>ç±»å‹ï¼Œæˆ‘ä»¬çŸ¥é“<code>Undefined</code>ç±»å‹åªæœ‰ä¸€ä¸ª<code>undefined</code>å€¼ï¼Œä¼šè½¬æ¢ä¸º<code>false</code>.</p>
<h3 id="Numberç±»å‹"><a href="#Numberç±»å‹" class="headerlink" title="Numberç±»å‹"></a>Numberç±»å‹</h3><p>åœ¨<code>JavaScript</code>ä¸­ï¼Œ<code>Number</code>ç±»å‹çš„æ•°æ®åŒ…æ‹¬äº†æ•´å‹æ•°æ®ï¼Œä¹ŸåŒ…æ‹¬äº†æµ®ç‚¹å‹æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ•´å‹çš„å¤„ç†ã€‚æ•´å‹å¯ä»¥æ˜¯åè¿›åˆ¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…«è¿›åˆ¶æˆ–è€…æ˜¯åå…­è¿›åˆ¶æ¥è¡¨ç¤ºã€‚</p>
<p>ç¬¬ä¸€ï¼šå…«è¿›åˆ¶ï¼šå¦‚æœæƒ³è¦ç”¨å…«è¿›åˆ¶æ¥è¡¨ç¤ºä¸€ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆé¦–ä½å¿…é¡»æ˜¯0ï¼Œå…¶å®ƒä½å¿…é¡»æ˜¯0â€“7çš„æ•°å­—ï¼Œå¦‚æœåé¢çš„æ•°å­—å¤§äº7ï¼Œåˆ™ç ´åäº†å…«è¿›åˆ¶çš„è§„åˆ™ï¼Œè¿™æ—¶ä¼šè¢«å½“ä½œåè¿›åˆ¶æ•°æ¥å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1=<span class="number">024</span></span><br><span class="line"><span class="built_in">console</span>.log(num1) <span class="comment">//20</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num2=<span class="number">079</span></span><br><span class="line"><span class="built_in">console</span>.log(num2) <span class="comment">//79</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>num1</code>ç¬¬ä¸€ä½æ˜¯<code>0</code>è¡¨ç¤ºå…«è¿›åˆ¶ï¼Œåé¢æ¯ä½æ•°å­—éƒ½æ˜¯åœ¨<code>0--7</code>ä¹‹é—´çš„ï¼Œæ‰€ä»¥ç¬¦åˆå…«è¿›åˆ¶è§„åˆ™ï¼Œæœ€ç»ˆè½¬æ¢ä¸ºåè¿›åˆ¶ä¸º<code>20</code></p>
<p><code>num2</code>çš„ç¬¬ä¸€ä½ä¹Ÿæ˜¯0ï¼Œä½†æ˜¯æœ€åä¸€ä½å·²ç»è¶…è¿‡äº†7ï¼Œæ‰€ä»¥ä¸å±äºå…«è¿›åˆ¶ï¼Œè¿™é‡Œç›´æ¥ä½œä¸ºåè¿›åˆ¶æ¥å¤„ç†ï¼Œæœ€ç»ˆè¾“å‡ºçš„ç»“æœä¸º79.</p>
<p>ç¬¬äºŒï¼šåå…­è¿›åˆ¶ï¼š</p>
<p>å¦‚æœæƒ³ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºä¸€ä¸ªæ•°å€¼ï¼Œé‚£ä¹ˆå‰é¢ä¸¤ä½å¿…é¡»æ˜¯<code>0x</code>,å…¶å®ƒçš„ä½å¿…é¡»æ˜¯(0â€“9,<code>a--f</code>æˆ–è€…<code>A--F</code>).å¦‚æœè¶…å‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œåˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num1=<span class="number">0x5f</span> <span class="comment">//95</span></span><br><span class="line"><span class="keyword">var</span> num2=Ox5h <span class="comment">//Uncaught SyntaxError: Invalid or unexpected token</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸<code>Boolean</code>ç±»å‹ä¸€æ ·ï¼Œå½“å…¶å®ƒç±»å‹åœ¨ä¸<code>Number</code>ç±»å‹è¿›è¡Œæ•°æ®è½¬æ¢æ—¶ï¼Œä¹Ÿä¼šéµå®ˆä¸€å®šçš„è§„åˆ™ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h4 id="Numberç±»å‹è½¬æ¢"><a href="#Numberç±»å‹è½¬æ¢" class="headerlink" title="Numberç±»å‹è½¬æ¢"></a>Numberç±»å‹è½¬æ¢</h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å°†å…¶ä»–ç±»å‹çš„å€¼è½¬æ¢ä¸º<code>Number</code>ç±»å‹çš„æƒ…å†µã€‚åœ¨<code>JavaScript</code>ä¸­ï¼Œä¸€å…±æœ‰3ä¸ªå‡½æ•°å¯ä»¥å®Œæˆè¿™ç§è½¬æ¢ï¼Œåˆ†åˆ«æ˜¯<code>Number()</code>å‡½æ•°ï¼Œ<code>parseInt( )</code>å‡½æ•°,<code>parseFloat( )</code>å‡½æ•°ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™äº›å‡½æ•°éœ€è¦æ³¨æ„çš„äº‹é¡¹ã€‚</p>
<p><strong>Number( )å‡½æ•°</strong></p>
<p><code>Number( )</code>å‡½æ•°å¯ä»¥ç”¨äºå°†ä»»ä½•ç±»å‹è½¬æ¢ä¸º<code>Number</code>ç±»å‹ï¼Œå®ƒåœ¨è½¬æ¢æ—¶éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p>
<p>ç¬¬ä¸€ï¼šå¦‚æœæ˜¯æ•°å­—ï¼Œä¼šæŒ‰ç…§å¯¹åº”çš„è¿›åˆ¶æ•°æ®æ ¼å¼ï¼Œç»Ÿä¸€è½¬æ¢ä¸ºåè¿›åˆ¶è¿”å›ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="number">10</span>) <span class="comment">//10</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="number">010</span>) <span class="comment">// 8, 010æ˜¯å…«è¿›åˆ¶çš„æ•°æ®ï¼Œè½¬æ¢æˆåè¿›åˆ¶æ˜¯8</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="number">0x10</span>) <span class="comment">// 16,0x10æ˜¯åå…­è¿›åˆ¶çš„æ•°æ®ï¼Œè½¬æ¢æˆåè¿›åˆ¶æ˜¯16</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šå¦‚æœæ˜¯<code>Boolean</code>ç±»å‹çš„å€¼ï¼Œ<code>true</code>è¿”å›1,<code>false</code>è¿”å›æ˜¯çš„0</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="literal">true</span>) <span class="comment">//1</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">false</span>) <span class="comment">//0</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šå¦‚æœå€¼ä¸º<code>null</code>,åˆ™è¿”å›0</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="literal">null</span>) <span class="comment">//0</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼šå¦‚æœå€¼ä¸º<code>undefined</code>,åˆ™è¿”å›<code>NaN</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="literal">undefined</span>) <span class="comment">//NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äº”ï¼šå¦‚æœå€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œéœ€è¦éµå¾ªå¦‚ä¸‹è§„åˆ™</p>
<p>  ï¼ˆ1ï¼‰å¦‚æœè¯¥å­—ç¬¦ä¸²åªåŒ…å«äº†æ•°å­—ï¼Œåˆ™ä¼šç›´æ¥è½¬æ¢æˆåè¿›åˆ¶æ•°ï¼›å¦‚æœæ•°å­—å‰é¢æœ‰0ï¼Œåˆ™ä¼šç›´æ¥å¿½ç•¥æ‰è¿™ä¸ª0ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">'21'</span>) <span class="comment">//21</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'012'</span>) <span class="comment">//12</span></span><br></pre></td></tr></tbody></table></figure>

<p>(2) å¦‚æœå­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„æµ®ç‚¹æ•°å½¢å¼ï¼Œåˆ™ä¼šç›´æ¥è½¬æˆå¯¹åº”çš„æµ®ç‚¹æ•°ï¼Œå‰ç½®çš„å¤šä¸ªé‡å¤çš„0ä¼šè¢«åˆ é™¤ï¼Œåªä¿ç•™ä¸€ä¸ªã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">'0.12'</span>) <span class="comment">//0.12</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'00.12'</span>) <span class="comment">//0.12</span></span><br></pre></td></tr></tbody></table></figure>

<p>(3)å¦‚æœå­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„åå…­è¿›åˆ¶å½¢å¼ï¼Œåˆ™ä¼šè½¬æ¢ä¸ºå¯¹åº”çš„åè¿›åˆ¶æ•°å€¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">'0x12'</span>) <span class="comment">//18</span></span><br></pre></td></tr></tbody></table></figure>

<p>(4) å¦‚æœå­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆçš„å…«è¿›åˆ¶ï¼Œåˆ™ä¸ä¼šæŒ‰ç…§å…«è¿›åˆ¶è½¬æ¢ï¼Œè€Œæ˜¯ç›´æ¥æŒ‰ç…§åè¿›åˆ¶è½¬æ¢å¹¶è¾“å‡ºï¼Œå› ä¸ºå‰ç½®çš„0ä¼šè¢«ç›´æ¥å¿½ç•¥æ‰ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">'010'</span>) <span class="comment">//10</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'0020'</span>) <span class="comment">//20</span></span><br></pre></td></tr></tbody></table></figure>

<p>(5)å¦‚æœå­—ç¬¦ä¸²ä¸ºç©ºï¼Œå³å­—ç¬¦ä¸²ä¸åŒ…å«ä»»ä½•å­—ç¬¦ï¼Œæˆ–ä¸ºè¿ç»­å¤šä¸ªç©ºæ ¼ï¼Œåˆ™ä¼šè½¬æ¢ä¸º0.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">''</span>) <span class="comment">//0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'     '</span>)<span class="comment">//0</span></span><br></pre></td></tr></tbody></table></figure>

<p>(6)å¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«äº†ä»»ä½•ä¸é€‚ä»¥ä¸Š5ç§æƒ…å†µçš„å…¶å®ƒæ ¼å¼å†…å®¹ï¼Œåˆ™ä¼šè¿”å›<code>NaN</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="string">'123a'</span>) <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">'abc'</span>) <span class="comment">//NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å…­ï¼šå¦‚æœæ˜¯å¯¹è±¡ç±»å‹ï¼Œåˆ™ä¼šè°ƒç”¨å¯¹è±¡çš„<code>valueOf( )</code>å‡½æ•°è·å–è¿”å›å€¼ï¼Œå¹¶ä¸”åˆ¤æ–­è¿”å›å€¼èƒ½å¦è½¬æ¢ä¸º<code>Number</code>ç±»å‹ï¼Œå¦‚æœä¸èƒ½ï¼Œä¼šè°ƒç”¨å¯¹è±¡çš„<code>toString( )</code>å‡½æ•°è·å–è¿”å›å€¼ï¼Œå¹¶ä¸”åˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿè½¬æ¢ä¸º<code>Number</code>ç±»å‹ã€‚å¦‚æœä¹Ÿä¸æ»¡è¶³ï¼Œåˆ™è¿”å›<code>NaN</code>.</p>
<p>ä»¥ä¸‹æ˜¯é€šè¿‡<code>valueOf( )</code>å‡½æ•°å°†å¯¹è±¡è½¬æ¢æˆ<code>Number</code>ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj={</span><br><span class="line">    <span class="attr">age</span>:<span class="string">'12'</span>,</span><br><span class="line">    <span class="attr">valueOf</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age</span><br><span class="line">    },</span><br><span class="line">   </span><br><span class="line">  }</span><br><span class="line"><span class="built_in">Number</span>(obj) <span class="comment">//12</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸‹æ˜¯é€šè¿‡<code>toString( )</code>å‡½æ•°å°†å¯¹è±¡è½¬æ¢æˆ<code>Number</code>ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj={</span><br><span class="line">    <span class="attr">age</span>:<span class="string">'21'</span>,</span><br><span class="line">    <span class="attr">toString</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="built_in">Number</span>(obj)</span><br></pre></td></tr></tbody></table></figure>

<p><strong>parseInt( )å‡½æ•°</strong></p>
<p><code>parseInt()</code>å‡½æ•°ç”¨äºè§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æŒ‡å®šçš„åŸºæ•°å¯¹åº”çš„æ•´æ•°å€¼ã€‚</p>
<p>è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(string,radix)</span><br></pre></td></tr></tbody></table></figure>

<p>å…¶ä¸­<code>string</code>å‚æ•°è¡¨ç¤ºè¦è¢«è§£æçš„å€¼ï¼Œå¦‚æœè¯¥å‚æ•°ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨<code>toString( )</code>å‡½æ•°å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚å¹¶ä¸”å­—ç¬¦ä¸²å‰é¢çš„ç©ºç™½ç¬¦ä¼šè¢«å¿½ç•¥ã€‚</p>
<p><code>radix</code>è¡¨ç¤ºçš„æ˜¯è¿›åˆ¶è½¬æ¢çš„åŸºæ•°ï¼Œå¯ä»¥æ˜¯äºŒè¿›åˆ¶ï¼Œåè¿›åˆ¶ï¼Œå…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶ã€‚é»˜è®¤å€¼ä¸º10.</p>
<p>å› ä¸ºå¯¹ç›¸åŒçš„æ•°é‡‡ç”¨ä¸åŒè¿›åˆ¶è¿›è¡Œå¤„ç†æ—¶å¯èƒ½ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œæ‰€ä»¥åœ¨ä»»ä½•æƒ…å†µä¸‹ä½¿ç”¨<code>parseInt</code>å‡½æ•°æ—¶ï¼Œå»ºè®®éƒ½æ‰‹åŠ¨è¡¥å……ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
<p><code>parseInt( )</code>å‡½æ•°ä¼šè¿”å›å­—ç¬¦ä¸²è§£æåçš„æ•´æ•°å€¼ï¼Œå¦‚æœè¯¥å­—ç¬¦ä¸²æ— æ³•è½¬æ¢æˆ<code>Number</code>ç±»å‹ï¼Œåˆ™ä¼šè¿”å›<code>NaN</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'aaa'</span>)<span class="comment">//NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä½¿ç”¨<code>parseInt</code>å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°æ—¶ï¼Œéœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š</p>
<p>ç¬¬ä¸€ï¼šå¦‚æœé‡åˆ°ä¼ å…¥çš„å‚æ•°æ˜¯éå­—ç¬¦ä¸²ç±»å‹çš„æƒ…å†µï¼Œåˆ™éœ€è¦å°†å…¶ä¼˜å…ˆè½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ã€‚å³ä½¿ä¼ å…¥çš„æ˜¯æ•´å‹æ•°æ®ã€‚</p>
<p>ç¬¬äºŒï¼š<code>parseInt( )</code>å‡½æ•°åœ¨åšè½¬æ¢æ—¶ï¼Œå¯¹äºä¼ å…¥çš„å­—ç¬¦ä¸²ä¼šé‡‡ç”¨å‰ç½®åŒ¹é…çš„åŸåˆ™ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">"fg123"</span>,<span class="number">16</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹äºå­—ç¬¦ä¸²<code>fg123</code>,é¦–å…ˆä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œ<code>f</code>æ˜¯æ»¡è¶³åå…­è¿›åˆ¶çš„æ•°æ®çš„ï¼Œå› ä¸ºåå…­è¿›åˆ¶æ•°æ®çš„èŒƒå›´æ˜¯<code>0--9</code>,<code>a--f</code>,æ‰€ä»¥ä¿ç•™<code>f</code>ï¼Œç„¶åæ˜¯ç¬¬äºŒä¸ªå­—ç¬¦<code>g</code>ï¼Œå®ƒä¸æ»¡è¶³åå…­è¿›åˆ¶æ•°æ®èŒƒå›´ï¼Œå› æ­¤ä»ç¬¬äºŒä¸ªå­—ç¬¦éƒ½æœ€åä¸€ä¸ªå­—ç¬¦å…¨éƒ¨èˆå¼ƒï¼Œæœ€ç»ˆå­—ç¬¦ä¸²åªä¿ç•™äº†å­—ç¬¦<code>f</code>ï¼Œç„¶åå°†å­—ç¬¦<code>f</code>è½¬æ¢æˆåå…­è¿›åˆ¶çš„æ•°æ®ï¼Œä¸º15ï¼Œå› æ­¤æœ€ç»ˆè¿”å›çš„ç»“æœä¸º<code>15</code>.</p>
<p>è¿˜è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œå¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²ä¸­æ¶‰åŠåˆ°äº†ç®—æœ¯è¿ç®—ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œï¼Œç®—æœ¯ç¬¦å·ä¼šè¢«å½“ä½œå­—ç¬¦å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'16*2'</span>)<span class="comment">// 16,è¿™é‡Œç›´æ¥å½“ä½œå­—ç¬¦ä¸²å¤„ç†ï¼Œå¹¶ä¸ä¼šè¿›è¡Œä¹˜æ³•çš„è¿ç®—</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">16</span>*<span class="number">2</span>) <span class="comment">// 32 </span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šå¯¹æµ®ç‚¹æ•°çš„å¤„ç†</p>
<p>å¦‚æœä¼ å…¥çš„å€¼æ˜¯æµ®ç‚¹æ•°ï¼Œåˆ™ä¼šå¿½ç•¥å°æ•°ç‚¹ä»¥åŠåé¢çš„æ•°ï¼Œç›´æ¥å–æ•´ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="number">12.98</span>) <span class="comment">//12</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼š<code>map( )</code>å‡½æ•°ä¸<code>parseInt( )</code>å‡½æ•°çš„é—®é¢˜</p>
<p>æˆ‘ä»¬è¿™é‡Œå‡è®¾æœ‰ä¸€ä¸ªåœºæ™¯ï¼Œå­˜åœ¨ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯æ•°å­—å­—ç¬¦ä¸²ï¼Œ[â€˜1â€™,â€™2â€™,â€™3â€™,â€™4â€™]ï¼Œå¦‚æœå°†è¿™ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ å…¨éƒ¨è½¬æ¢æˆæ•´æ•°ï¼Œåº”è¯¥æ€æ ·å¤„ç†å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨<code>map( )</code>å‡½æ•°ï¼Œç„¶ååœ¨è¯¥å‡½æ•°ä¸­è°ƒç”¨<code>parseInt( )</code>å‡½æ•°æ¥å®Œæˆè½¬æ¢ã€‚æ‰€ä»¥ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">var</span> arr = [<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>];</span><br><span class="line">     <span class="keyword">var</span> result = arr.map(<span class="built_in">parseInt</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(result);</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢ç¨‹åºå¾—åˆ°çš„ç»“æœæ˜¯ï¼š<code>[1,NaN,NaN,NaN]</code></p>
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜å‘¢ï¼Ÿ</p>
<p>ä¸Šé¢çš„ä»£ç ç­‰æ•ˆå¦‚ä¸‹çš„ä»£ç </p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>];</span><br><span class="line">     <span class="comment">//   var result = arr.map(parseInt);</span></span><br><span class="line">     <span class="keyword">var</span> result = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">val, index</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">parseInt</span>(val, index);</span><br><span class="line">     });</span><br><span class="line">     <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼Œ<code>parseInt</code>å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°å®é™…ä¸Šå°±æ˜¯æ•°ç»„çš„ç´¢å¼•å€¼ã€‚æ‰€ä»¥ï¼Œæ•´ä½“çš„å½¢å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'1'</span>,<span class="number">0</span>) <span class="comment">// ä»»ä½•æ•´æ•°ä»¥0ä¸ºåŸºæ•°å–æ•´æ—¶ï¼Œéƒ½ä¼šè¿”å›æœ¬èº«ï¼Œæ‰€ä»¥è¿™é‡Œè¿”å›çš„æ˜¯1</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'2'</span>,<span class="number">1</span>) <span class="comment">//æ³¨æ„parseIntç¬¬äºŒä¸ªå‚æ•°çš„å–å€¼èŒƒå›´ä¸º2--36ï¼Œæ‰€ä»¥ä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿™é‡Œåªèƒ½è¿”å›NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'3'</span>,<span class="number">2</span>) <span class="comment">// è¡¨ç¤ºå°†3ä½œä¸ºäºŒè¿›åˆ¶æ¥è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯äºŒè¿›åˆ¶åªæœ‰0å’Œ1ï¼Œæ‰€ä»¥3è¶…å‡ºäº†èŒƒå›´ï¼Œæ— æ³•è½¬æ¢ï¼Œè¿”å›`NaN`</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'4'</span>,<span class="number">3</span>) <span class="comment">//å°†4ä½œä¸ºä¸‰è¿›åˆ¶æ¥å¤„ç†ï¼Œä½†æ˜¯4æ— æ³•ç”¨ä¸‰è¿›åˆ¶çš„æ•°æ®è¡¨ç¤ºï¼Œè¿”å›NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥å½“æˆ‘ä»¬åœ¨<code>map( )</code>å‡½æ•°ä¸­ä½¿ç”¨<code>parseInt( )</code>å‡½æ•°æ—¶ï¼Œä¸èƒ½ç›´æ¥å°†<code>parseInt( )</code>å‡½æ•°ä½œä¸º<code>map( )</code>å‡½æ•°çš„å‚æ•°ï¼Œè€Œæ˜¯éœ€è¦åœ¨<code>map( )</code>å‡½æ•°çš„å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨,å¹¶å°½é‡æŒ‡å®šåŸºæ•°ã€‚ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(val, <span class="number">10</span>);</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong>parseFloat( )å‡½æ•°</strong></p>
<p><code>parseFloat</code>å‡½æ•°ç”¨äºè§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å¯¹åº”çš„æµ®ç‚¹æ•°ï¼Œå¦‚æœç»™å®šå€¼ä¸èƒ½è½¬æ¢ä¸ºæ•°å€¼ï¼Œåˆ™è¿”å›<code>NaN</code></p>
<p>ä¸<code>parseInt( )</code>å‡½æ•°ç›¸æ¯”ï¼Œ<code>parseFloat( )</code>å‡½æ•°æ²¡æœ‰è¿›åˆ¶çš„æ¦‚å¿µã€‚</p>
<p>æ³¨æ„:</p>
<p>ç¬¬ä¸€ï¼šå¦‚æœå­—ç¬¦ä¸²å‰é¢æœ‰ç©ºç™½ç¬¦ï¼Œåˆ™ä¼šç›´æ¥å¿½ç•¥æ‰ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦å°±æ— æ³•è§£æï¼Œåˆ™ä¼šç›´æ¥è¿”å›<code>NaN</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'  2.6'</span>)<span class="comment">// 2.6</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'f2.6'</span>) <span class="comment">//NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šå¯¹äºå°æ•°ç‚¹ï¼Œåªèƒ½æ­£ç¡®åŒ¹é…ç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒä¸ªå°æ•°ç‚¹æ˜¯æ— æ•ˆçš„ï¼Œå®ƒåé¢çš„å­—ç¬¦ä¹Ÿéƒ½å°†è¢«å¿½ç•¥ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'12.23'</span>)<span class="comment">// 12.23</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'12.23.39'</span>)<span class="comment">//12.23</span></span><br></pre></td></tr></tbody></table></figure>



<p><strong>æ€»ç»“:</strong></p>
<p>è™½ç„¶<code>Number( )</code>,<code>parseInt( )</code>,<code>parseFloat( )</code>å‡½æ•°éƒ½èƒ½å‹‡äº<code>Number</code>ç±»å‹çš„è½¬æ¢ï¼Œä½†æ˜¯ä»–ä»¬ä¹‹é—´è¿˜æ˜¯æœ‰ä¸€å®šçš„å·®å¼‚</p>
<p>ç¬¬ä¸€ï¼š<code>Number( )</code> å‡½æ•°è½¬æ¢çš„æ˜¯ä¼ å…¥çš„æ•´ä¸ªå€¼ï¼Œå¹¶ä¸æ˜¯åƒ<code>parseInt( )</code>å‡½æ•°å’Œ<code>parseFloat( )</code>å‡½æ•°ä¸€æ ·ä¼šä»é¦–ä½å¼€å§‹åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å€¼ã€‚å¦‚æœæ•´ä¸ªå€¼ä¸èƒ½è¢«å®Œæ•´è½¬æ¢ï¼Œåˆ™ä¼šè¿”å›<code>NaN</code></p>
<p>ç¬¬äºŒï¼š<code>parseFloat( )</code>è¿”å›å¯¹åº”çš„æµ®ç‚¹æ•°ï¼Œ<code>parseInt( )</code>è¿”å›æ•´æ•°ï¼Œå¹¶ä¸”<code>parseFloat( )</code>å‡½æ•°åœ¨è§£ææ—¶æ²¡æœ‰è¿›åˆ¶çš„æ¦‚å¿µï¼Œè€Œ<code>parseInt()</code></p>
<p>å‡½æ•°åœ¨è§£ææ—¶ä¼šä¾èµ–äºå‡ºå…¥çš„ç¬¬äºŒä¸ªå‚æ•°æ¥åšå€¼çš„è½¬æ¢ã€‚</p>
<h4 id="isNaN-å‡½æ•°ä¸Number-isNaN-å‡½æ•°å¯¹æ¯”"><a href="#isNaN-å‡½æ•°ä¸Number-isNaN-å‡½æ•°å¯¹æ¯”" class="headerlink" title="isNaN( )å‡½æ•°ä¸Number.isNaN( )å‡½æ•°å¯¹æ¯”"></a>isNaN( )å‡½æ•°ä¸Number.isNaN( )å‡½æ•°å¯¹æ¯”</h4><p><code>Number</code>ç±»å‹æ•°æ®ä¸­å­˜åœ¨ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„å€¼<code>NaN</code>ï¼ˆ<code>Not a Number</code>ï¼‰,å®ƒè¡¨ç¤ºåº”è¯¥è¿”å›æ•°å€¼å´å¹¶æœªè¿”å›æ•°å€¼çš„æƒ…å†µã€‚</p>
<p><code>NaN</code>å­˜åœ¨çš„ç›®çš„æ˜¯åœ¨æŸäº›å¼‚å¸¸æƒ…å†µä¸‹ä¿è¯ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œã€‚ä¾‹å¦‚<code>0/0</code>ï¼Œåœ¨å…¶ä»–çš„è¯­è¨€ä¸­ï¼Œç¨‹åºä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œåœ¨<code>JavaScript</code>ä¸­ä¼šè¿”å›<code>NaN</code>,ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p>
<p><code>NaN</code>æœ‰ä¸¤ä¸ªå¾ˆæ˜æ˜¾çš„ç‰¹ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä»»ä½•æ¶‰åŠ<code>NaN</code>çš„æ“ä½œéƒ½ä¼šè¿”å›<code>NaN</code>,ç¬¬äºŒä¸ªæ˜¯<code>NaN</code>ä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼Œå³ä½¿æ˜¯ä¸<code>NaN</code>æœ¬èº«ç›¸æ¯”ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NaN==NaN //false</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨åˆ¤æ–­<code>NaN</code>æ—¶ï¼Œ<code>ES5</code>æä¾›äº†<code>isNaN</code>å‡½æ•°ï¼Œ<code>ES6</code>ä¸º<code>Number</code>ç±»å‹å¢åŠ äº†é™æ€å‡½æ•°<code>isNaN( ).</code></p>
<p>é—®é¢˜ï¼šæ—¢ç„¶åœ¨<code>ES5</code>ä¸­æä¾›äº†<code>isNaN</code>å‡½æ•°ï¼Œä¸ºä»€ä¹ˆè¦åœ¨<code>ES6</code>ä¸­ä¸“é—¨å¢åŠ <code>Number.isNaN( )</code>å‡½æ•°å‘¢ï¼Ÿä¸¤è€…åœ¨ä½¿ç”¨ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<br>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹<code>isNaN( )</code>å‡½æ•°</p>
<p><code>isNaN( )</code>å‡½æ•°çš„ä½œç”¨æ˜¯ç”¨æ¥ç¡®å®šä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯<code>NaN</code>,<code>NaN</code>æ˜¯ä¸€ä¸ª<code>Number</code>ç±»å‹çš„æ•°å€¼ï¼Œåªä¸è¿‡è¿™ä¸ªå€¼æ— æ³•ç”¨çœŸå®çš„æ•°å­—è¡¨ç¤ºã€‚</p>
<p><code>isNaN</code>æ£€æµ‹çš„æœºåˆ¶ï¼šå®ƒåœ¨å¤„ç†çš„æ—¶å€™ä¼šå»åˆ¤æ–­ä¼ å…¥çš„å˜é‡å€¼èƒ½å¦è½¬ä¸ºæ•°å­—ï¼Œå¦‚æœèƒ½è½¬æ¢æˆæ•°å­—åˆ™ä¼šè¿”å›<code>false</code>,å¦‚æœæ— æ³•è½¬æ¢åˆ™ä¼šè¿”å›<code>true</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>(<span class="literal">NaN</span>)<span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">undefined</span>) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>({})<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">true</span>)<span class="comment">// false ,Number(true)ä¼šè½¬æ¢æˆæ•°å­—1</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">false</span>)<span class="comment">// false,Number(false)ä¼šè½¬æ¢æˆæ•°å­—0</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="literal">null</span>) <span class="comment">// false,Number(null)ä¼šè½¬æ¢æˆæ•°å­—0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">1</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'aaa'</span>) <span class="comment">//true å­—ç¬¦ä¸²aaaæ— æ³•è½¬æ¢æˆæ•°å­—</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="string">'1'</span>) <span class="comment">//false å­—ç¬¦ä¸²â€œ1â€å¯ä»¥è½¬æ¢æˆæ•°å­—1.</span></span><br></pre></td></tr></tbody></table></figure>

<p>**<code>Number.isNaN( )</code>**å‡½æ•°</p>
<p>æ—¢ç„¶åœ¨å…¨å±€çš„ç¯å¢ƒä¸­æœ‰äº†<code>isNaN( )</code>å‡½æ•°ï¼Œä¸ºä»€ä¹ˆåœ¨<code>ES6</code>ä¸­ä¼šä¸“é—¨é’ˆå¯¹<code>Number</code>ç±»å‹å¢åŠ ä¸€ä¸ª<code>isNaN</code>å‡½æ•°å‘¢ï¼Ÿ</p>
<p>è¿™æ˜¯å› ä¸ºå…¨å±€çš„<code>isNaN</code>å‡½æ•°æœ¬èº«å­˜åœ¨è¯¯å¯¼æ€§ï¼Œè€Œ<code>ES6</code>ä¸­çš„<code>Number.isNaN( )</code>å‡½æ•°ä¼šåœ¨çœŸæ­£æ„ä¹‰ä¸Šå»åˆ¤æ–­å˜é‡æ˜¯å¦ä¸º<code>NaN</code>,ä¸ä¼šåšæ•°æ®ç±»å‹è½¬æ¢ã€‚åªæœ‰åœ¨ä¼ å…¥çš„å€¼ä¸º<code>NaN</code>,æ‰ä¼šè¿”å›<code>true</code>,ä¼ å…¥å…¶å®ƒç±»å‹çš„å€¼æ—¶ä¼šè¿”å›<code>false</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>)<span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="number">1</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">null</span>) <span class="comment">//false</span></span><br><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">undefined</span>) <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœåœ¨é<code>ES6</code>ç¯å¢ƒä¸­æƒ³ç”¨<code>ES6</code>ä¸­çš„<code>isNaN( )</code>å‡½æ•°ï¼Œæ€æ ·å¤„ç†å‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!<span class="built_in">Number</span>.isNaN){</span><br><span class="line">    <span class="built_in">Number</span>.isNaN=<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>{</span><br><span class="line">        <span class="keyword">return</span> n!==n</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æ‰€æœ‰ç±»å‹çš„æ•°æ®ä¸­ï¼Œå¦‚æœä¸€ä¸ªå˜é‡å’Œè‡ªèº«è¿›è¡Œæ¯”è¾ƒï¼Œåªæœ‰åœ¨å˜é‡ä¸º<code>NaN</code>æ—¶æ‰ä¼šè¿”å›<code>false</code>,å…¶å®ƒæƒ…å†µéƒ½æ˜¯è¿”å›çš„<code>true</code>.</p>
<p>æ‰€ä»¥<code>n!==n</code>è¿”å›<code>true</code>,ä¹Ÿåªæœ‰åœ¨<code>n</code>çš„å€¼ä¸º<code>NaN</code>çš„æ—¶å€™æ‰ä¼šæˆç«‹ã€‚</p>
<p><strong>æ€»ç»“ï¼š</strong></p>
<p><code>isNaN( )</code>å‡½æ•°ä¸<code>Number.isNaN( )</code>å‡½æ•°çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€ï¼š<code>isNaN( )</code>å‡½æ•°åœ¨åˆ¤æ–­æ˜¯å¦ä¸º<code>NaN</code>æ—¶ï¼Œéœ€è¦è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ï¼Œåªæœ‰åœ¨æ— æ³•è½¬æ¢ä¸ºæ•°å­—æ—¶æ‰ä¼šè¿”å›<code>true</code></p>
<p>ç¬¬äºŒï¼š<code>Number.isNaN( )</code>å‡½æ•°åœ¨åˆ¤æ–­æ˜¯å¦ä¸º<code>NaN</code>æ—¶ï¼Œåªéœ€è¦åˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦ä¸º<code>NaN</code>,å¹¶ä¸ä¼šè¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ã€‚</p>
<h3 id="Stringç±»å‹"><a href="#Stringç±»å‹" class="headerlink" title="Stringç±»å‹"></a>Stringç±»å‹</h3><p>åœ¨<code>JavaScript</code>ä¸­çš„<code>String</code>ç±»å‹å¯ä»¥é€šè¿‡åŒå¼•å·è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡å•å¼•å·è¡¨ç¤ºï¼Œå¹¶ä¸”è¿™ä¸¤ç§æ–¹å¼æ˜¯å®Œå…¨ç­‰æ•ˆçš„ã€‚</p>
<h4 id="Stringç±»å‹å®šä¹‰"><a href="#Stringç±»å‹å®šä¹‰" class="headerlink" title="Stringç±»å‹å®šä¹‰"></a>Stringç±»å‹å®šä¹‰</h4><p>åœ¨<code>JavaScript</code>ä¸­æœ‰3ç§æ–¹å¼æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼Œåˆ†åˆ«æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ï¼Œç›´æ¥è°ƒç”¨<code>String( )</code>å‡½æ•°ï¼Œè¿˜æœ‰å°±æ˜¯é€šè¿‡<code>new String( )</code>æ„é€ å‡½æ•°çš„æ–¹å¼ã€‚</p>
<p><strong>å­—é¢é‡</strong></p>
<p>å­—ç¬¦ä¸²å­—é¢é‡å°±æ˜¯ç›´æ¥é€šè¿‡å•å¼•å·æˆ–è€…æ˜¯åŒå¼•å·å®šä¹‰å­—ç¬¦ä¸²çš„æ–¹å¼ã€‚</p>
<p>æ³¨æ„ï¼šå•å¼•å·å’ŒåŒå¼•å·æ˜¯ç­‰ä»·çš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'hello'</span></span><br><span class="line"><span class="keyword">var</span> str2=<span class="string">"JavaScript"</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç›´æ¥è°ƒç”¨<code>String( )</code>å‡½æ•°</strong></p>
<p>ç›´æ¥è°ƒç”¨<code>String( )</code>å‡½æ•°ï¼Œä¼šå°†ä¼ å…¥çš„ä»»ä½•ç±»å‹çš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹ã€‚åœ¨è½¬æ¢çš„æ—¶å€™ï¼Œéœ€è¦éµå¾ªå¦‚ä¸‹çš„è§„åˆ™ï¼š</p>
<p>ç¬¬ä¸€ï¼šå¦‚æœæ˜¯<code>Number</code>ç±»å‹çš„å€¼ï¼Œåˆ™ç›´æ¥è½¬æ¢æˆå¯¹åº”çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="number">123</span>) <span class="comment">// '123'</span></span><br><span class="line"><span class="built_in">String</span>(<span class="number">123.56</span>) <span class="comment">// "123.56"</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šå¦‚æœæ˜¯<code>Boolean</code>ç±»å‹çš„å€¼ï¼Œåˆ™ç›´æ¥è½¬æ¢æˆå­—ç¬¦ä¸²çš„<code>"true"</code>æˆ–è€…æ˜¯<code>"false"</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="literal">true</span>)<span class="comment">// "true"</span></span><br><span class="line"><span class="built_in">String</span>(<span class="literal">false</span>) <span class="comment">// "false"</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šå¦‚æœå€¼ä¸º<code>null</code>,ç›´æ¥è½¬æ¢æˆå­—ç¬¦ä¸²çš„<code>"null"</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="literal">null</span>) <span class="comment">// "null"</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼šå¦‚æœå€¼ä¸º<code>undefined</code>,åˆ™è½¬æ¢æˆå­—ç¬¦ä¸²çš„<code>undefined</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="literal">undefined</span>) <span class="comment">//"undefined"</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>new String( )æ„é€ å‡½æ•°</strong></p>
<p>è¿™ç§æ–¹å¼æ˜¯ä½¿ç”¨<code>new</code>è¿ç®—ç¬¦æ¥åˆ›å»ºä¸€ä¸ª<code>String</code>çš„å®ä¾‹ã€‚è½¬æ¢çš„è§„åˆ™å’Œ<code>String( )</code>å‡½æ•°æ˜¯ä¸€æ ·çš„ï¼Œæœ€åè¿”å›çš„æ˜¯ä¸€ä¸ª<code>String</code>ç±»å‹çš„å¯¹è±¡å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="number">678</span>) <span class="comment">//è¿”å›çš„å¯¹è±¡ä¸­æœ‰lengthå±æ€§ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ä¸‹æ ‡è·å–å¯¹åº”çš„å€¼ã€‚</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>ä¸‰ç§åˆ›å»ºæ–¹å¼çš„åŒºåˆ«</strong></p>
<p>ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡æ–¹å¼å’Œç›´æ¥è°ƒç”¨<code>String( )</code>å‡½æ•°çš„æ–¹å¼å¾—åˆ°çš„å­—ç¬¦ä¸²éƒ½æ˜¯åŸºæœ¬å­—ç¬¦ä¸²ï¼Œè€Œé€šè¿‡<code>new String( )</code>æ–¹å¼ç”Ÿæˆçš„å­—ç¬¦ä¸²æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ã€‚</p>
<p>åŸºæœ¬å­—ç¬¦ä¸²åœ¨æ¯”è¾ƒçš„æ—¶å€™ï¼Œåªéœ€è¦æ¯”è¾ƒå­—ç¬¦ä¸²çš„å€¼å³å¯ï¼Œè€Œåœ¨æ¯”è¾ƒå­—ç¬¦ä¸²å¯¹è±¡æ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯å¯¹è±¡æ‰€åœ¨çš„åœ°å€ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str=<span class="string">'hello'</span></span><br><span class="line"><span class="keyword">var</span> str2=<span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line">str===str2 <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str3=<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line"><span class="keyword">var</span> str4=<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)</span><br><span class="line">str3===str4 <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹äº<code>str</code>ä¸<code>str2</code>éƒ½æ˜¯åŸºæœ¬å­—ç¬¦ä¸²ï¼Œåªæ˜¯æ¯”è¾ƒå­—ç¬¦ä¸²çš„å€¼å°±å¯ä»¥äº†ï¼Œæ‰€ä»¥ä¸¤è€…æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>è€Œå¯¹äº<code>str3</code>ä¸<code>str4</code>éƒ½æ˜¯é€šè¿‡<code>String</code>ç±»å‹çš„å®ä¾‹ï¼Œæ‰€ä»¥åœ¨æ¯”è¾ƒçš„æ—¶å€™éœ€è¦åˆ¤æ–­å˜é‡æ˜¯å¦æŒ‡å‘äº†åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼Œå¾ˆæ˜æ˜¾ï¼Œ<code>str3</code>ä¸<code>str4</code>éƒ½æ˜¯åœ¨å†…å­˜ä¸­æ–°ç”Ÿæˆçš„åœ°å€ï¼Œå½¼æ­¤å„ä¸ç›¸åŒã€‚</p>
<p><strong>å‡½æ•°è°ƒç”¨</strong></p>
<p>åœ¨<code>String</code>å¯¹è±¡çš„åŸå‹é“¾æœ‰ä¸€ç³»åˆ—çš„å‡½æ•°ï¼Œä¾‹å¦‚<code>indexOf( )</code>,<code>substring()</code>ç­‰ç­‰ã€‚</p>
<p>é€šè¿‡<code>String</code>å¯¹è±¡çš„å®ä¾‹å¯ä»¥è°ƒç”¨è¿™äº›å‡½æ•°åšå­—ç¬¦ä¸²çš„å¤„ç†ã€‚</p>
<p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯é‡‡ç”¨å­—é¢é‡æ–¹å¼å®šä¹‰çš„å­—ç¬¦ä¸²ä¹Ÿèƒ½å¤Ÿç›´æ¥è°ƒç”¨åŸå‹é“¾ä¸Šçš„è¿™äº›å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'hello'</span>.indexOf(<span class="string">'o'</span>) <span class="comment">//4</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å®é™…ä¸ŠåŸºæœ¬å­—ç¬¦ä¸²æœ¬èº«æ˜¯æ²¡æœ‰å­—ç¬¦ä¸²å¯¹è±¡ä¸Šçš„è¿™äº›å‡½æ•°çš„ï¼Œè€Œåœ¨åŸºæœ¬å­—ç¬¦ä¸²è°ƒç”¨å­—ç¬¦ä¸²å¯¹è±¡æ‰æœ‰çš„å‡½æ•°æ—¶ï¼Œ<code>JavaScript</code>ä¼šè‡ªåŠ¨å°†åŸºæœ¬å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå½¢æˆä¸€ç§åŒ…è£…çš„ç±»å‹ï¼Œè¿™æ ·åŸºæœ¬å­—ç¬¦ä¸²å°±å¯ä»¥æ­£å¸¸è°ƒç”¨å­—ç¬¦ä¸²å¯¹è±¡çš„æ–¹æ³•äº†ã€‚</p>
<h4 id="å­—ç¬¦ä¸²å¸¸è§ç®—æ³•"><a href="#å­—ç¬¦ä¸²å¸¸è§ç®—æ³•" class="headerlink" title="å­—ç¬¦ä¸²å¸¸è§ç®—æ³•"></a>å­—ç¬¦ä¸²å¸¸è§ç®—æ³•</h4><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„<code>String</code>ç±»å‹ä¸­çš„ç®—æ³•ï¼Œè¿™äº›åœ¨é¢è¯•çš„æ—¶å€™ä¹Ÿæ˜¯ç»å¸¸è¢«é—®åˆ°çš„ã€‚</p>
<p><strong>ç¬¬ä¸€ï¼šå­—ç¬¦ä¸²é€†åºè¾“å‡º</strong></p>
<p>å­—ç¬¦ä¸²é€†åºè¾“å‡ºå°±æ˜¯å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥ç›¸åçš„é¡ºåºè¿›è¡Œè¾“å‡ºã€‚</p>
<p>ä¾‹å¦‚<code>abcdef</code>è¾“å‡ºçš„ç»“æœæ˜¯<code>fedcba</code></p>
<p>ç¬¬ä¸€ç§ç®—æ³•</p>
<p>è¿™é‡Œæˆ‘ä»¬æ˜¯å€ŸåŠ©ä¸æ•°ç»„çš„<code>reverse()</code>å‡½æ•°æ¥å®ç°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverseString</span>(<span class="params">str</span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> str.split(<span class="string">""</span>).reverse().join(<span class="string">""</span>);</span><br><span class="line">      }</span><br><span class="line">      <span class="built_in">console</span>.log(reverseString(<span class="string">"abcdef"</span>));</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äºŒç§ç®—æ³•ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="built_in">Array</span>.from(<span class="string">'abcdef'</span>) <span class="comment">//è½¬æ¢æˆæ•°ç»„,è¿™é‡Œæ¯”ç¬¬ä¸€ç§æ–¹å¼ç®€å•</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.reverse().join(<span class="string">""</span>))</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ç§ç®—æ³•ï¼š</p>
<p>è¿™é‡Œå¯ä»¥é€šè¿‡å­—ç¬¦ä¸²æœ¬èº«æä¾›çš„<code>chartAt</code>å‡½æ•°æ¥å®Œæˆã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reverseString2</span>(<span class="params">str</span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> result = <span class="string">""</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = str.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">        result += str.charAt(i);</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">console</span>.log(reverseString2(<span class="string">"abcdef"</span>));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦åŠå‡ºç°çš„æ¬¡æ•°</strong></p>
<p>å‡å¦‚æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²<code>javascriptjavaabc</code>,å…¶ä¸­å‡ºç°æœ€å¤šçš„å­—ç¬¦æ˜¯<code>a</code>,å‡ºç°äº†5æ¬¡ã€‚</p>
<p><strong>ç®—æ³•1</strong></p>
<p>æ€æƒ³ï¼šé€šè¿‡<code>key-value</code>å½¢å¼çš„å¯¹è±¡å­˜å‚¨å­—ç¬¦ä¸²ä»¥åŠå­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åé€ä¸ªåˆ¤æ–­å‡ºç°æ¬¡æ•°æœ€å¤§çš„å€¼ï¼ŒåŒæ—¶è·å–å¯¹åº”çš„å­—ç¬¦ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">getMaxCount</span>(<span class="params">str</span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> json = {}; <span class="comment">//è¡¨ç¤ºkey-valueç»“æ„çš„å¯¹è±¡</span></span><br><span class="line">        <span class="comment">//éå†strçš„æ¯ä¸€ä¸ªå­—ç¬¦å¾—åˆ°key-valueå½¢å¼çš„å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) {</span><br><span class="line">          <span class="comment">//åˆ¤æ–­jsonå¯¹è±¡ä¸­æ˜¯å¦æœ‰å½“å‰ä»strå­—ç¬¦ä¸²ä¸­å–å‡ºæ¥çš„æŸä¸ªå­—ç¬¦ã€‚</span></span><br><span class="line">          <span class="keyword">if</span> (!json[str.charAt(i)]) {</span><br><span class="line">            <span class="comment">//å¦‚æœä¸å­˜åœ¨ï¼ŒæŠŠå½“å‰å­—ç¬¦ä½œä¸ºkeyæ·»åŠ åˆ°jsonå¯¹è±¡ä¸­ï¼Œå€¼ä¸º1</span></span><br><span class="line">            json[str.charAt(i)] = <span class="number">1</span>;</span><br><span class="line">          } <span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">//å¦‚æœå­˜åœ¨ï¼Œåˆ™è®©valueå€¼åŠ 1</span></span><br><span class="line">            json[str.charAt(i)]++;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//å­˜å‚¨å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦</span></span><br><span class="line">        <span class="keyword">var</span> maxCountChar = <span class="string">""</span>;</span><br><span class="line">        <span class="comment">//å­˜å‚¨å‡ºç°æœ€å¤šçš„æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">var</span> maxCount = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//éå†jsonå¯¹è±¡ï¼Œæ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤§çš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> json) {</span><br><span class="line">          <span class="keyword">if</span> (json[key] &gt; maxCount) {</span><br><span class="line">            maxCount = json[key];</span><br><span class="line">            maxCountChar = key;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">          <span class="string">"å‡ºç°æœ€å¤šçš„å­—ç¬¦æ˜¯"</span> + maxCountChar + <span class="string">",å…±å‡ºç°äº†"</span> + maxCount + <span class="string">"æ¬¡"</span></span><br><span class="line">        );</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">"javascriptjavaabc"</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(getMaxCount(str));</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç®—æ³•2</strong></p>
<p>æ€è·¯ï¼šè¿™é‡Œä¸»è¦æ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡<code>lastIndexOf()</code>å‡½æ•°è·å–ç´¢å¼•å€¼åï¼Œåˆ¤æ–­ç´¢å¼•å€¼çš„å¤§å°ä»¥è·å–å‡ºç°çš„æœ€å¤§æ¬¡æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMaxCount</span>(<span class="params">str</span>) </span>{</span><br><span class="line">       <span class="comment">//å®šä¹‰ä¸¤ä¸ªå˜é‡,åˆ†åˆ«è¡¨ç¤ºå‡ºç°æœ€å¤§æ¬¡æ•°å’Œå¯¹åº”çš„å­—ç¬¦ã€‚</span></span><br><span class="line">       <span class="keyword">var</span> maxCount = <span class="number">0</span>,</span><br><span class="line">         maxCountChar = <span class="string">""</span>;</span><br><span class="line">       <span class="comment">//å¤„ç†æˆæ•°ç»„ï¼Œè°ƒç”¨sort()å‡½æ•°æ’åºï¼Œå†å¤„ç†æˆå­—ç¬¦ä¸²</span></span><br><span class="line">       str = str.split(<span class="string">""</span>).sort().join(<span class="string">""</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, j = str.length; i &lt; j; i++) {</span><br><span class="line">         <span class="keyword">var</span> char = str[i];</span><br><span class="line">         <span class="comment">//è®¡ç®—æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">         <span class="keyword">var</span> charCount = str.lastIndexOf(char) - i + <span class="number">1</span>;</span><br><span class="line">         <span class="comment">//ä¸æ¬¡æ•°æœ€å¤§å€¼è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">         <span class="keyword">if</span> (charCount &gt; maxCount) {</span><br><span class="line">           <span class="comment">//æ›´æ–°maxCountä¸maxCountCharçš„å€¼</span></span><br><span class="line">           maxCount = charCount;</span><br><span class="line">           maxCountChar = char;</span><br><span class="line">         }</span><br><span class="line">         <span class="comment">//å˜æ›´ç´¢å¼•ä¸ºå­—ç¬¦å‡ºç°çš„æœ€åä½ç½®</span></span><br><span class="line">         i = str.lastIndexOf(char);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="string">"å‡ºç°æœ€å¤šçš„å­—ç¬¦æ˜¯"</span> + maxCountChar + <span class="string">",å‡ºç°æ¬¡æ•°ä¸º"</span> + maxCount;</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(getMaxCount(<span class="string">"caa"</span>));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>å»é™¤å­—ç¬¦ä¸²ä¸­é‡å¤çš„å­—ç¬¦</strong></p>
<p>å‡å¦‚å­˜åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²<code>"javascriptjavaabc"</code>,å…¶ä¸­å­˜æœ‰é‡å¤çš„å­—ç¬¦ï¼Œç°åœ¨éœ€è¦å°†è¿™äº›é‡å¤çš„å­—ç¬¦å»æ‰ï¼Œåªä¿ç•™ä¸€ä¸ªã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeStringChar</span>(<span class="params">str</span>) </span>{</span><br><span class="line">       <span class="comment">//ç»“æœæ•°ç»„</span></span><br><span class="line">       <span class="keyword">var</span> result = [];</span><br><span class="line">       <span class="comment">//key-valueå½¢å¼çš„å¯¹è±¡</span></span><br><span class="line">       <span class="keyword">var</span> json = {};</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; str.length; i++) {</span><br><span class="line">         <span class="comment">//å½“å‰å¤„ç†çš„å­—ç¬¦</span></span><br><span class="line">         <span class="keyword">var</span> char = str[i];</span><br><span class="line">         <span class="comment">//åˆ¤æ–­æ˜¯å¦åœ¨å¯¹è±¡ä¸­</span></span><br><span class="line">         <span class="keyword">if</span> (!json[char]) {</span><br><span class="line">           <span class="comment">//å°†valueå€¼è®¾ç½®ä¸ºtrue</span></span><br><span class="line">           json[char] = <span class="literal">true</span>;</span><br><span class="line">           <span class="comment">//æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­</span></span><br><span class="line">           result.push(char);</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> result.join(<span class="string">""</span>);</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> str = <span class="string">"javascriptjavaabc"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(removeStringChar(str));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>ç®—æ³•2</strong></p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>ES6</code>ä¸­çš„<code>Set</code>æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç»“æ„å…·æœ‰è‡ªåŠ¨å»é‡çš„ç‰¹æ€§ï¼Œå¯ä»¥ç›´æ¥å°†æ•°ç»„å…ƒç´ å»é‡ã€‚</p>
<p>ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸‹<code>Set</code>çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,]);</span><br><span class="line"><span class="comment">//console.log(set)  // Set(4)&nbsp;{1, 2, 3, 4}</span></span><br><span class="line">[...set] <span class="comment">//&nbsp;[1, 2, 3, 4] é€šè¿‡æ‰©å±•è¿ç®—ç¬¦å°†setä¸­çš„å†…å®¹è½¬æ¢æˆæ•°ç»„ï¼ŒåŒæ—¶å¯ä»¥çœ‹åˆ°å·²ç»å»é‡ã€‚</span></span><br></pre></td></tr></tbody></table></figure>

<p>åŸºæœ¬æ€è·¯ï¼š</p>
<p>ï¼ˆ1ï¼‰å°†å­—ç¬¦ä¸²å¤„ç†æˆæ•°ç»„ï¼Œç„¶åä½œä¸ºå‚æ•°ä¼ é€’ç»™<code>Set</code>çš„æ„é€ å‡½æ•°ï¼Œé€šè¿‡<code>new</code>è¿ç®—ç¬¦ç”Ÿæˆä¸€ä¸ª<code>Set</code>å®ä¾‹ã€‚</p>
<p>(2)  å°†<code>Set</code>é€šè¿‡æ‰©å±•è¿ç®—ç¬¦(â€¦)è½¬æ¢æˆæ•°ç»„çš„å½¢å¼ï¼Œæœ€ç»ˆè½¬æ¢æˆå­—ç¬¦ä¸²è·å¾—éœ€è¦çš„ç»“æœã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeStringChar</span>(<span class="params">str</span>) </span>{</span><br><span class="line">       <span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>(str.split(<span class="string">""</span>));</span><br><span class="line">       <span class="keyword">return</span> [...set].join(<span class="string">""</span>);</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> str = <span class="string">"javascriptjavaabc"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(removeStringChar(str));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºå›æ–‡å­—ç¬¦ä¸²</strong></p>
<p>å›æ–‡å­—ç¬¦ä¸²æŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ­£åºå’Œå€’åºæ˜¯ç›¸åŒçš„ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²<code>abcdcba</code>æ˜¯ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ï¼Œè€Œå­—ç¬¦ä¸²<code>abcedba</code>å°±ä¸æ˜¯ä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œä¸åŒºåˆ†å­—ç¬¦çš„å¤§å°å†™ï¼Œå³<code>a</code>å’Œ<code>A</code>åœ¨åˆ¤æ–­çš„æ—¶å€™æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p><strong>ç®—æ³•1</strong></p>
<p>ä¸»è¦æ€æƒ³æ˜¯å°†å­—ç¬¦ä¸²æŒ‰ä»å‰å¾€åé¡ºåºçš„å­—ç¬¦ä¸æŒ‰ä»åå¾€å‰é¡ºåºçš„å­—ç¬¦é€ä¸ªè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé‡åˆ°ä¸ä¸€æ ·çš„å€¼åˆ™ç›´æ¥è¿”å›<code>false</code>,å¦åˆ™è¿”å›<code>true</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEequStr</span>(<span class="params">str</span>) </span>{</span><br><span class="line">       <span class="comment">//ç©ºå­—ç¬¦ä¸²åˆ™ç›´æ¥è¿”å›true</span></span><br><span class="line">       <span class="keyword">if</span> (!str.length) {</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="comment">//ç»Ÿä¸€è½¬æ¢æˆå°å†™ï¼ŒåŒæ—¶å†å°†å…¶è½¬æ¢æˆæ•°ç»„</span></span><br><span class="line">       str = str.toLowerCase().split(<span class="string">""</span>);</span><br><span class="line">       <span class="keyword">var</span> start = <span class="number">0</span>,</span><br><span class="line">         end = str.length - <span class="number">1</span>;</span><br><span class="line">       <span class="comment">//é€šè¿‡whileå¾ªç¯ï¼Œåˆ¤æ–­æ­£åºå’Œå€’åºçš„å­—æ¯</span></span><br><span class="line">       <span class="keyword">while</span> (start &lt; end) {</span><br><span class="line">         <span class="comment">// å¦‚æœç›¸ç­‰åˆ™æ›´æ”¹æ¯”è¾ƒçš„ç´¢å¼•</span></span><br><span class="line">         <span class="keyword">if</span> (str[start] === str[end]) {</span><br><span class="line">           start++;</span><br><span class="line">           end--;</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> str = <span class="string">"abcdcba"</span>;</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç®—æ³•2</strong></p>
<p>æ€æƒ³ï¼šå°†å­—ç¬¦ä¸²è¿›è¡Œé€†åºçš„å¤„ç†ï¼Œç„¶åä¸åŸæ¥çš„å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰åˆ™è¡¨ç¤ºæ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä¸æ˜¯å›æ–‡å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEequStr</span>(<span class="params">str</span>) </span>{</span><br><span class="line">        <span class="comment">//å­—ç¬¦ä¸²ç»Ÿä¸€è½¬æ¢æˆå°å†™çš„å½¢å¼</span></span><br><span class="line">        str = str.toLowerCase();</span><br><span class="line">        <span class="comment">//å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„</span></span><br><span class="line">        <span class="keyword">var</span> arr = str.split(<span class="string">""</span>);</span><br><span class="line">        <span class="comment">//å°†æ•°ç»„é€†åºå¹¶è½¬æ¢æˆå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="keyword">var</span> reverseStr = arr.reverse().join(<span class="string">""</span>);</span><br><span class="line">        <span class="keyword">return</span> str === reverseStr;</span><br><span class="line">      }</span><br><span class="line">      <span class="built_in">console</span>.log(isEequStr(<span class="string">"abccba"</span>));</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><p>åœ¨<code>JavaScript</code>ä¸­çš„è¿ç®—ç¬¦åŒ…æ‹¬ï¼šç®—æœ¯è¿ç®—ç¬¦ï¼Œå…³ç³»è¿ç®—ç¬¦ï¼Œç­‰äºè¿ç®—ç¬¦ï¼Œä½è¿ç®—ç¬¦(ä¸ã€æˆ–ã€é)ç­‰</p>
<h3 id="ç­‰äºè¿ç®—ç¬¦"><a href="#ç­‰äºè¿ç®—ç¬¦" class="headerlink" title="ç­‰äºè¿ç®—ç¬¦"></a>ç­‰äºè¿ç®—ç¬¦</h3><p>åœ¨<code>JavaScript</code>ä¸­ç­‰äºåˆ†ä¸ºåŒç­‰(==)æ¯”è¾ƒï¼Œå’Œä¸‰ç­‰äº(===)æ¯”è¾ƒã€‚</p>
<h4 id="ä¸‰ç­‰äºè¿ç®—ç¬¦"><a href="#ä¸‰ç­‰äºè¿ç®—ç¬¦" class="headerlink" title="ä¸‰ç­‰äºè¿ç®—ç¬¦"></a>ä¸‰ç­‰äºè¿ç®—ç¬¦</h4><p>(1)å¦‚æœæ¯”è¾ƒçš„å€¼ç±»å‹ä¸ç›¸åŒï¼Œåˆ™ç›´æ¥è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>===<span class="string">'1'</span> <span class="comment">//false</span></span><br><span class="line"><span class="literal">true</span>===<span class="string">'true'</span> <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œè¿˜éœ€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹å­˜åœ¨åŒ…è£…ç±»å‹ï¼Œåœ¨æ²¡æœ‰ä½¿ç”¨<code>new</code>æ“ä½œç¬¦æ—¶ï¼Œç®€å•ç±»å‹çš„æ¯”è¾ƒå®é™…ä¸Šå°±æ˜¯å€¼çš„æ¯”è¾ƒï¼Œè€Œä½¿ç”¨äº†<code>new</code>æ“ä½œç¬¦ä»¥åï¼Œå®é™…å¾—åˆ°çš„æ˜¯å¼•ç”¨ç±»å‹çš„å€¼ï¼Œåœ¨åˆ¤æ–­æ—¶ä¼šå› ä¸ºç±»å‹ä¸åŒè€Œç›´æ¥è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>===<span class="built_in">Number</span>(<span class="number">1</span>) <span class="comment">//true</span></span><br><span class="line"><span class="number">1</span>===<span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>) <span class="comment">//false</span></span><br><span class="line"><span class="string">'hello'</span>===<span class="built_in">String</span>(<span class="string">'hello'</span>) <span class="comment">//true</span></span><br><span class="line"><span class="string">'hello'</span>===<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>) <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>(2) å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯æ•°å€¼ç±»å‹ï¼Œåˆ™ç›´æ¥æ¯”è¾ƒå€¼çš„å¤§å°ï¼Œç›¸ç­‰åˆ™è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code>,éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå‚ä¸æ¯”è¾ƒçš„å€¼ä¸­æœ‰ä»»ä½•ä¸€æ–¹ä¸º<code>NaN</code>,åˆ™è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">26</span>===<span class="number">26</span> <span class="comment">//true</span></span><br><span class="line"><span class="number">34</span>===<span class="literal">NaN</span> <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆ3ï¼‰å¦‚æœæ¯”è¾ƒçš„å€¼æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œåˆ™åˆ¤æ–­æ¯ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœå…¨éƒ¨ç›¸ç­‰ï¼Œè¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'abc'</span>===<span class="string">'abc'</span> <span class="comment">//true</span></span><br><span class="line"><span class="string">'abc'</span>===<span class="string">'abd'</span> <span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆ4ï¼‰å…³äº<code>null</code>ä¸<code>undefined</code>æ¯”è¾ƒ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span>===<span class="literal">null</span> <span class="comment">//true</span></span><br><span class="line"><span class="literal">undefined</span>===<span class="literal">undefined</span> <span class="comment">//true</span></span><br><span class="line"><span class="literal">undefined</span>===<span class="literal">null</span> <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>(5)å¦‚æœæ¯”è¾ƒçš„å€¼éƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯å¼•ç”¨ç±»å‹çš„åœ°å€ï¼Œå½“ä¸¤ä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªåœ°å€æ—¶ï¼Œåˆ™è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[]</span><br><span class="line"><span class="keyword">var</span> b=a</span><br><span class="line"><span class="keyword">var</span> c=[]</span><br><span class="line"><span class="built_in">console</span>.log(a===b) <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(a===c) <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)===<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello'</span>)<span class="comment">//false ä¸¤ä¸ªä¸åŒå¯¹è±¡ï¼Œåœ°å€ä¸ç›¸åŒ</span></span><br><span class="line"><span class="comment">//åˆ›å»ºæ„é€ å‡½æ•°</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"wangwu"</span>);</span><br><span class="line">     <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">"wangwu"</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(p1 === p2);<span class="comment">//false  ä¸¤ä¸ªä¸åŒå¯¹è±¡ï¼Œåœ°å€ä¸ç›¸åŒ</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="åŒç­‰äºè¿ç®—ç¬¦"><a href="#åŒç­‰äºè¿ç®—ç¬¦" class="headerlink" title="åŒç­‰äºè¿ç®—ç¬¦"></a>åŒç­‰äºè¿ç®—ç¬¦</h4><p>ç›¸æ¯”äºä¸‰ç­‰äºè¿ç®—ç¬¦ï¼ŒåŒç­‰äºè¿ç®—ç¬¦åœ¨è¿›è¡Œç›¸ç­‰æ¯”è¾ƒçš„æ—¶å€™ï¼Œè¦å¤æ‚ä¸€ç‚¹ã€‚å› ä¸ºå®ƒä¸åŒºåˆ†æ•°æ®ç±»å‹ï¼Œè€Œä¸”ä¼šåšéšå¼ç±»å‹çš„è½¬æ¢ã€‚</p>
<p>åŒç­‰äºåœ¨è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™è¦æ³¨æ„çš„ç‚¹ï¼š</p>
<p>å¦‚æœæ¯”è¾ƒçš„å€¼ç±»å‹ä¸ç›¸åŒï¼Œåˆ™ä¼šæŒ‰ç…§ä¸‹é¢çš„è§„åˆ™è¿›è¡Œè½¬æ¢åå†è¿›è¡Œæ¯”è¾ƒ</p>
<p>(1) å¦‚æœæ¯”è¾ƒçš„ä¸€æ–¹æ˜¯<code>null</code>æˆ–è€…æ˜¯<code>undefined</code>,åªæœ‰åœ¨å¦ä¸€æ–¹æ˜¯<code>null</code>æˆ–è€…æ˜¯<code>undefined</code>çš„æƒ…å†µä¸‹æ‰è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span>==<span class="literal">undefined</span> <span class="comment">//true</span></span><br><span class="line"><span class="literal">null</span>==<span class="number">1</span> <span class="comment">//false</span></span><br><span class="line"><span class="literal">undefined</span>==<span class="number">2</span> <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆ2ï¼‰å¦‚æœæ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å’Œæ•°å€¼ç±»å‹æ•°æ®ï¼Œåˆ™ä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼åå†è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœè½¬æ¢åçš„æ•°å€¼æ˜¯ç›¸ç­‰çš„åˆ™è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>==<span class="string">'1'</span> <span class="comment">//true</span></span><br><span class="line"><span class="string">'222'</span>==<span class="number">222</span> <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆ3ï¼‰å¦‚æœæ¯”è¾ƒçš„æ—¶å€™ï¼Œæœ‰ä¸€æ–¹çš„ç±»å‹æ˜¯<code>boolean</code>ç±»å‹ï¼Œä¼šå°†<code>boolean</code>ç±»å‹è¿›è¡Œè½¬æ¢ï¼Œ<code>true</code>è½¬æ¢ä¸º1,<code>false</code>è½¬æ¢0ï¼Œç„¶ååœ¨è¿›è¡Œæ¯”è¾ƒã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'1'</span>==<span class="literal">true</span></span><br><span class="line"><span class="string">'2'</span>==<span class="literal">true</span> <span class="comment">//false</span></span><br><span class="line"><span class="string">'0'</span>==<span class="literal">false</span> <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="typeofè¿ç®—ç¬¦"><a href="#typeofè¿ç®—ç¬¦" class="headerlink" title="typeofè¿ç®—ç¬¦"></a>typeofè¿ç®—ç¬¦</h3><p><code>typeof</code>è¿ç®—ç¬¦ç”¨äºè¿”å›å¯¹åº”çš„æ•°æ®ç±»å‹ï¼Œ</p>
<p>åŸºæœ¬çš„ä½¿ç”¨æ–¹å¼</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">typeof operator</span><br><span class="line">typeof (operator)</span><br></pre></td></tr></tbody></table></figure>

<p><code>operator</code>è¡¨ç¤ºè¦è¿”å›ç±»å‹çš„æ“ä½œæ•°ï¼Œå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p>
<p>æ‹¬å·æœ‰æ—¶å€™æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœä¸åŠ ä¸Šæ‹¬å·å°†ä¼šå› ä¸ºä¼˜å…ˆçº§çš„é—®é¢˜ï¼Œè€Œå¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹<code>typeof</code>çš„ä½¿ç”¨åœºæ™¯</p>
<p>ï¼ˆ1ï¼‰å¤„ç†<code>Undefined</code>ç±»å‹</p>
<p>æˆ‘ä»¬çŸ¥é“<code>Undefined</code>ç±»å‹çš„å€¼åªæœ‰ä¸€ä¸ª<code>undefined</code>,<code>typeof</code>è¿ç®—ç¬¦åœ¨å¤„ç†å¦‚ä¸‹æƒ…å†µçš„æ—¶å€™ï¼Œè¿”å›çš„ç»“æœéƒ½æ˜¯<code>undefined</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å¤„ç†undefinedæœ¬èº«</span><br><span class="line">æœªå£°æ˜çš„å˜é‡</span><br><span class="line">å·²ç»å£°æ˜ä½†æ˜¯æ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">//"undefined"</span></span><br><span class="line"><span class="keyword">typeof</span> abc <span class="comment">//"undefined" ,æœªå£°æ˜çš„å˜é‡abcï¼Œé€šè¿‡typeofè¿”å›çš„æ˜¯undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sum</span><br><span class="line"><span class="keyword">typeof</span> sum <span class="comment">//undefined  å·²ç»å£°æ˜ä½†æ˜¯æ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡</span></span><br></pre></td></tr></tbody></table></figure>

<p>(2)å¤„ç†<code>Boolean</code>ç±»å‹çš„å€¼</p>
<p><code>Boolean</code>ç±»å‹çš„å€¼æœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«æ˜¯<code>true</code>å’Œ<code>false</code>,<code>typeof</code>è¿ç®—ç¬¦åœ¨å¤„ç†è¿™ä¸¤ä¸ªå€¼çš„æ—¶å€™è¿”å›éƒ½æ˜¯<code>boolean</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b=<span class="literal">true</span></span><br><span class="line"><span class="keyword">typeof</span> b <span class="comment">//"boolean"</span></span><br></pre></td></tr></tbody></table></figure>

<p>(3) å¤„ç†<code>Number</code>ç±»å‹çš„å€¼</p>
<p>å¯¹äº<code>Number</code>ç±»å‹çš„æ•°ï¼Œ<code>typeof</code>è¿ç®—ç¬¦åœ¨å¤„ç†æ—¶ä¼šè¿”å›<code>number</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">666</span> <span class="comment">//number</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="number">66.66</span> <span class="comment">//number</span></span><br></pre></td></tr></tbody></table></figure>

<p>ï¼ˆ4ï¼‰å¤„ç†<code>String</code>ç±»å‹çš„å€¼</p>
<p>å­—ç¬¦ä¸²ç±»å‹ï¼Œ<code>typeof</code>è¿”å›çš„æ˜¯<code>string</code>,åŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="string">'aaa'</span> <span class="comment">//string</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">''</span> <span class="comment">//string</span></span><br></pre></td></tr></tbody></table></figure>

<p>(5)å¤„ç†<code>Function</code>ç±»å‹çš„å€¼</p>
<p>å‡½æ•°çš„å®šä¹‰ï¼ŒåŒ…æ‹¬å‡½æ•°çš„å£°æ˜ï¼Œ<code>typeof</code>è¿”å›çš„å€¼<code>function</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>{}</span><br><span class="line"><span class="keyword">typeof</span> fun <span class="comment">// "function"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fun2=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{}</span><br><span class="line"><span class="keyword">typeof</span> fun2 <span class="comment">// "function"</span></span><br></pre></td></tr></tbody></table></figure>

<p>å…³äºé€šè¿‡<code>class</code>å…³é”®å­—å®šä¹‰çš„ç±»ï¼Œé€šè¿‡<code>typoef</code>è®¡ç®—è¿”å›çš„å€¼ä¹Ÿæ˜¯<code>function</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Obj</span></span>{</span><br><span class="line">}</span><br><span class="line"><span class="keyword">typeof</span> Obj <span class="comment">// "function"</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>class</code>æ˜¯åœ¨<code>ES6</code>ä¸­æ–°å¢çš„ä¸€ä¸ªå…³é”®å­—ï¼ŒåŸç†ä¾æ—§æ˜¯åŸå‹ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯è¯´æœ¬è´¨ä¸Šä»ç„¶æ˜¯ä¸€ä¸ª<code>Function</code></p>
<p>(6) å¤„ç†<code>Object</code>ç±»å‹çš„å€¼</p>
<p>å¯¹è±¡å­—é¢é‡çš„å½¢å¼ï¼Œè¿”å›çš„æ˜¯<code>object</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj={<span class="attr">userName</span>:<span class="string">'zhangsan'</span>}</span><br><span class="line"><span class="keyword">typeof</span> obj <span class="comment">//"object"</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ•°ç»„ï¼Œé€šè¿‡<code>typeof</code>è®¡ç®—è¿”å›çš„å€¼æ˜¯<code>object</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">typeof</span> arr <span class="comment">// "object"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr2=<span class="keyword">new</span> <span class="built_in">Array</span>()</span><br><span class="line"><span class="keyword">typeof</span> arr2 <span class="comment">//"object"</span></span><br></pre></td></tr></tbody></table></figure>

<p>(7) <code>typeof</code>è¿ç®—ç¬¦å¯¹<code>null</code>çš„å¤„ç†</p>
<p><code>typeof</code>è¿ç®—ç¬¦å¯¹<code>null</code>çš„å¤„ç†ï¼Œè¿”å›çš„æ˜¯<code>object</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">//object</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ³¨æ„ï¼šåœ¨å‰é¢æˆ‘ä»¬æåˆ°è¿‡ï¼Œåœ¨ä½¿ç”¨<code>typeof</code>çš„æ—¶å€™ï¼Œæ‹¬å·æœ‰æ—¶å€™æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœä¸åŠ ä¸Šæ‹¬å·ä¼šå› ä¸ºä¼˜å…ˆçº§é—®é¢˜ï¼Œå¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚</p>
<p>ä¾‹å¦‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num=<span class="number">123</span></span><br><span class="line"><span class="keyword">typeof</span> (num + <span class="string">'hello'</span>)<span class="comment">// string</span></span><br><span class="line"><span class="keyword">typeof</span> num + <span class="string">" hello"</span>  <span class="comment">//"number hello"</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬çŸ¥é“<code>typeof</code>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§è¦é«˜äºå­—ç¬¦ä¸²çš„æ‹¼æ¥è¿ç®—ç¬¦<code>(+)</code>,ä½†æ˜¯ä¼˜å…ˆçº§ä½äºå°æ‹¬å·ï¼Œæ‰€ä»¥åœ¨æœªä½¿ç”¨æ‹¬å·æ—¶ï¼Œä¼šä¼˜å…ˆå¤„ç†<code>typeof num</code>, è¿”å›çš„æ˜¯<code>number</code>,ç„¶åä¸<code>hello</code>å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œå¾—åˆ°çš„æœ€ç»ˆçš„ç»“æœå°±æ˜¯<code>number hello</code></p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€æ®µä»£ç </p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">6</span>/<span class="number">2</span> <span class="comment">// NaN</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¼šå…ˆæ‰§è¡Œ<code>typeof 6</code> å¾—åˆ°çš„ç»“æœä¸º<code>number</code>,ç„¶åé™¤ä»¥2ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²é™¤ä»¥2ï¼Œå¾—åˆ°çš„ç»“æœä¸º<code>NaN</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> (<span class="number">6</span>/<span class="number">2</span>) <span class="comment">//"number"</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œä¼šå…ˆè®¡ç®—æ‹¬å·ä¸­çš„å†…å®¹ï¼Œç„¶ååœ¨é€šè¿‡<code>typeof</code>è¿›è¡Œè®¡ç®—ã€‚</p>
<h2 id="å¸¸ç”¨çš„åˆ¤ç©ºæ–¹æ³•"><a href="#å¸¸ç”¨çš„åˆ¤ç©ºæ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„åˆ¤ç©ºæ–¹æ³•"></a>å¸¸ç”¨çš„åˆ¤ç©ºæ–¹æ³•</h2><p>åœ¨<code>JavaScript</code>ä¸­åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæƒ³åˆ°å¯¹å˜é‡å–åï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸º<code>true</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!x){ }</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºç©ºçš„æ–¹æ³•ï¼Œä½†æ˜¯å…¶å®æ¶‰åŠåˆ°çš„åœºæ™¯å´å¾ˆå¤šï¼Œè¿™é‡Œæˆ‘ä»¬å°±åˆ†æƒ…å†µæ¥çœ‹ä¸€ä¸‹ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰åˆ¤æ–­å˜é‡ä¸ºç©ºå¯¹è±¡</strong></p>
<p> <strong>åˆ¤æ–­å˜é‡ä¸º<code>null</code>æˆ–è€…ä¸º<code>undefined</code></strong></p>
<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºæ—¶ï¼Œå¯ä»¥ç›´æ¥å°†å˜é‡ä¸<code>null</code>æˆ–è€…æ˜¯<code>undefined</code>è¿›è¡Œæ¯”è¾ƒï¼Œéœ€è¦æ³¨æ„çš„æ˜¯åŒç­‰å·å’Œä¸‰ç­‰å¥½ç›´æ¥çš„åŒºåˆ«ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(obj==<span class="literal">null</span>) <span class="comment">//å¯ä»¥åˆ¤æ–­nullæˆ–è€…æ˜¯undefinedçš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">if</span>(obj===<span class="literal">undefined</span>) <span class="comment">//åªèƒ½åˆ¤æ–­undefinedçš„æƒ…å†µ    </span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>åˆ¤æ–­å˜é‡ä¸ºç©ºå¯¹è±¡<code>{ }</code></strong></p>
<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºå¯¹è±¡æ—¶ï¼Œå¯ä»¥é€šè¿‡<code>for...in</code>è¯­å¥éå†å˜é‡çš„å±æ€§ï¼Œç„¶åè°ƒç”¨<code>hasOwnProperty( )</code>å‡½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰è‡ªèº«å­˜åœ¨çš„å±æ€§ï¼Œå¦‚æœå­˜åœ¨å°±ä¸æ˜¯ç©ºå¯¹è±¡ï¼Œå¦‚æœä¸å­˜åœ¨è‡ªèº«çš„å±æ€§ï¼ˆä¸åŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ï¼‰ï¼Œé‚£ä¹ˆå˜é‡ä¸ºç©ºå¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmpty</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) {</span><br><span class="line">          <span class="keyword">if</span> (obj.hasOwnProperty(key)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> obj = {</span><br><span class="line">        <span class="attr">username</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">      };</span><br><span class="line">      <span class="built_in">console</span>.log(isEmpty(obj));<span class="comment">// false,è¡¨æ˜objè¿™ä¸ªå¯¹è±¡æ˜¯æœ‰è‡ªå·±çš„å±æ€§ï¼Œæ‰€ä»¥ä¸æ˜¯ç©ºå¯¹è±¡</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {};</span><br><span class="line">     <span class="built_in">console</span>.log(isEmpty(obj));<span class="comment">//true,è¿™é‡Œå°†objå¯¹è±¡çš„å±æ€§å»æ‰äº†ï¼Œè¿”å›çš„å€¼ä¸ºtrue,è¡¨æ˜æ²¡æœ‰è‡ªå·±çš„å±æ€§ï¼Œè¡¨ç¤ºç©ºå¯¹è±¡</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™é‡Œé€šè¿‡æ„é€ å‡½æ•°çš„å½¢å¼åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”æŒ‡å®šäº†ageå±æ€§</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">20</span>;</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line">      <span class="built_in">console</span>.log(isEmpty(p));<span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢çœ‹ä¸€ä¸‹å¦å¤–ä¸€ç§æƒ…å†µ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">      Person.prototype.userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">      <span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line">      <span class="built_in">console</span>.log(isEmpty(p)); <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå˜é‡<code>p</code>æ˜¯é€šè¿‡<code>new</code>æ“ä½œç¬¦å¾—åˆ°çš„<code>Person</code>å¯¹è±¡çš„å®ä¾‹ï¼Œæ‰€ä»¥<code>p</code>ä¼šç»§æ‰¿<code>Person</code>åŸå‹é“¾ä¸Šçš„<code>userName</code>å±æ€§ï¼Œä½†æ˜¯å› ä¸ºä¸æ˜¯è‡ªèº«çš„å±æ€§ï¼Œæ‰€ä»¥ä¼šè¢«åˆ¤æ–­ä¸ºç©ºï¼Œæ‰€ä»¥è¿”å›<code>true</code>.</p>
<p><strong>(2)åˆ¤æ–­å˜é‡ä¸ºç©ºæ•°ç»„</strong></p>
<p>åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºç©ºæ•°ç»„æ—¶ï¼Œé¦–å…ˆè¦åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„ï¼Œç„¶åé€šè¿‡æ•°ç»„çš„<code>length</code>å±æ€§ç¡®å®šã€‚(<strong><code>instanceof</code> ç”¨äºåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æŸä¸ªå¯¹è±¡çš„å®ä¾‹</strong>)</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>()</span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span> &amp;&amp; arr.length===<span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³æ—¶ï¼Œå˜é‡å°±æ˜¯ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p>
<p><strong>(3) åˆ¤æ–­å˜é‡ä¸ºç©ºå­—ç¬¦ä¸²</strong></p>
<p>åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†å…¶ä¸ç©ºå­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œæˆ–è€…è°ƒç”¨<code>trim()</code>å‡½æ•°å»æ‰å‰åçš„ç©ºæ ¼ä»¥åï¼Œåœ¨å»åˆ¤æ–­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str==<span class="string">''</span>||str.trim().length==<span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

<p>å½“æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä»»æ„ä¸€ä¸ªæ—¶ï¼Œå˜é‡å°±æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ï¼ˆ4ï¼‰åˆ¤æ–­å˜é‡ä¸º0æˆ–è€…<code>NaN</code></strong></p>
<p>å½“ä¸€ä¸ªå˜é‡ä¸º<code>Number</code>ç±»å‹æ—¶ï¼Œåˆ¤æ–­å˜é‡æ˜¯å¦ä¸º0æˆ–è€…<code>NaN</code>,å› ä¸º<code>NaN</code>ä¸ä»»ä½•å€¼æ¯”è¾ƒéƒ½æ˜¯<code>false</code>,æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é€šè¿‡å–éæ¥å®Œæˆåˆ¤æ–­ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!(<span class="built_in">Number</span>(num)&amp;&amp;num)==<span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure>

<p>å½“ä¸Šè¿°ä»£ç è¿”å›çš„ç»“æœä¸º<code>true</code>ï¼Œè¡¨æ˜å˜é‡ä¸º0æˆ–è€…æ˜¯<code>NaN</code></p>
<p>ï¼ˆ5ï¼‰</p>
<p>åœ¨æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æåˆ°çš„</p>
<p>åœ¨<code>JavaScript</code>ä¸­åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸ºç©ºï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæƒ³åˆ°å¯¹å˜é‡å–åï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸º<code>true</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!x){</span><br><span class="line">    </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ç§æ–¹å¼ä¼šåŒ…å«å¤šç§æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å˜é‡ä¸º<span class="literal">null</span></span><br><span class="line">å˜é‡ä¸º<span class="literal">undefined</span></span><br><span class="line">å˜é‡ä¸ºç©ºå­—ç¬¦ä¸²<span class="string">''</span></span><br><span class="line">å˜é‡ä¸ºæ•°å­—<span class="number">0</span></span><br><span class="line">å˜é‡ä¸º<span class="literal">NaN</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p>å…³äºæµç¨‹æ§åˆ¶è¿™å—å†…å®¹ï¼Œè¿™é‡Œæˆ‘ä»¬é‡ç‚¹çœ‹ä¸€ä¸‹<code>Switch</code>ç»“æ„</p>
<p>çœ‹ä¸€ä¸‹å¦‚ä¸‹ä»£ç æ‰§è¡Œçš„ç»“æœ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getStringValue</span>(<span class="params">str</span>) </span>{</span><br><span class="line">      <span class="keyword">switch</span> (str) {</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"1"</span>:</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"a"</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"2"</span>:</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"b"</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"3"</span>:</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"c"</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"d"</span>);</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    getStringValue(<span class="string">"2"</span>); <span class="comment">//b</span></span><br><span class="line">    getStringValue(<span class="string">"5"</span>); <span class="comment">//d</span></span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„ä»£ç éå¸¸ç®€å•ã€‚åˆ†åˆ«è¾“å‡ºçš„æ˜¯<code>b</code>å’Œ<code>d</code></p>
<p>ä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠå¯¹<code>getStringValue</code>å‡½æ•°çš„è°ƒç”¨ä¿®æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getStringValue(<span class="number">3</span>) <span class="comment">//d</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œå°†å‚æ•°ä¿®æ”¹æˆæ•°å­—3ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯<code>d</code>.åŸå› æ˜¯ï¼šåœ¨<code>JavaScript</code>ä¸­çš„å…³äº<code>case</code>çš„æ¯”è¾ƒæ˜¯é‡‡ç”¨ä¸¥æ ¼ç›¸ç­‰çš„æ–¹å¼(===)ã€‚åœ¨ä¸Šé¢çš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œä¼ é€’çš„æ˜¯æ•°å­—ç±»å‹çš„3ï¼Œè€Œåœ¨<code>case</code>ä¸­æ¯”è¾ƒçš„æ˜¯<code>String</code>å­—ç¬¦ä¸²çš„â€™3â€™,ä¸¤è€…æŒ‰ç…§ä¸¥æ ¼æ–¹å¼è¿›è¡Œå¯¹æ¯”ï¼Œæ˜¯ä¸ç›¸ç­‰çš„ã€‚æ‰€ä»¥åªèƒ½æ‰§è¡Œ<code>default</code>,è¾“å‡ºå­—æ¯<code>d</code>.</p>
<p>ä¸‹é¢ï¼Œå†æ¥çœ‹å¦‚ä¸‹çš„è°ƒç”¨</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getStringValue(<span class="built_in">String</span>(<span class="string">"3"</span>)); <span class="comment">//c</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢è°ƒç”¨çš„ç»“æœæ˜¯<code>c</code>.</p>
<p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®²è§£è¿‡ï¼šå­—ç¬¦ä¸²çš„å­—é¢é‡å’Œç›´æ¥è°ƒç”¨<code>String( )</code>å‡½æ•°ç”Ÿæˆçš„å­—ç¬¦ä¸²éƒ½æ˜¯åŸºæœ¬çš„å­—ç¬¦ä¸²ï¼Œå®ƒä»¬åœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>æ‰€ä»¥åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿›è¡Œæ¯”è¾ƒæ˜¯ç›¸ç­‰çš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>(<span class="string">'3'</span>)===<span class="string">'3'</span> <span class="comment">//true</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢å†æ¥çœ‹å¦å¤–ä¸€ç§è°ƒç”¨æ–¹å¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getStringValue(<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"3"</span>)); <span class="comment">//d</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡<code>new</code>å…³é”®å­—åˆ›å»ºçš„æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¿™é‡Œé‡‡ç”¨ä¸¥æ ¼æ¨¡å¼è¿›è¡Œæ¯”è¾ƒï¼Œæ¯”è¾ƒçš„æ˜¯å­—ç¬¦ä¸²å¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒã€‚è€Œå½“ä¸å­—ç¬¦ä¸²çš„å­—é¢é‡è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œä¼šè¿”å›<code>false</code>.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'3'</span>)===<span class="string">'3'</span> <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥åœ¨è¿è¡Œæ•´ä¸ª<code>getStringValue</code>æ•´ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå¾—åˆ°çš„ç»“æœä¸º<code>d</code>.</p>
<h1 id="å¼•ç”¨æ•°æ®ç±»å‹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹"></a>å¼•ç”¨æ•°æ®ç±»å‹</h1><p>å¼•ç”¨ç±»å‹æœ‰<code>Object</code>,<code>Function</code>,<code>Array</code>,<code>Date</code>ï¼Œ<code>Math</code>ç­‰ã€‚</p>
<p>å¼•ç”¨ç±»å‹ä¸åŸºæœ¬æ•°æ®ç±»å‹çš„åŒºåˆ«:</p>
<p>(1)å¼•ç”¨æ•°æ®ç±»å‹çš„å®ä¾‹éœ€è¦é€šè¿‡<code>new</code>å…³é”®å­—åˆ›å»ºã€‚</p>
<p>(2)å°†å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼ç»™å˜é‡ï¼Œå®é™…ä¸Šèµ‹å€¼çš„æ˜¯å†…å­˜åœ°å€</p>
<p>(3)å¼•ç”¨æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ˜¯å¯¹å†…å­˜åœ°å€çš„æ¯”è¾ƒï¼Œè€ŒåŸºæœ¬æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ˜¯å¯¹å€¼çš„æ¯”è¾ƒã€‚</p>
<h2 id="Objectç±»å‹"><a href="#Objectç±»å‹" class="headerlink" title="Objectç±»å‹"></a>Objectç±»å‹</h2><p><code>Object</code>ç±»å‹æ˜¯<code>JavaScript</code>ä¸­ä½¿ç”¨æœ€å¤šçš„ä¸€ä¸ªç±»å‹ã€‚</p>
<p>å¤§éƒ¨åˆ†çš„å¼•ç”¨æ•°æ®ç±»å‹éƒ½æ˜¯<code>Object</code>ç±»å‹ã€‚</p>
<p>ç”±äºå¼•ç”¨æ•°æ®ç±»å‹çš„å®ä¾‹éƒ½æ˜¯é€šè¿‡<code>new</code>å…³é”®å­—æ¥åˆ›å»ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥æ¢è®¨æœ‰å…³<code>new</code>æ“ä½œç›¸å…³çš„é—®é¢˜ã€‚</p>
<h3 id="new-æ“ä½œç¬¦çš„ä½œç”¨"><a href="#new-æ“ä½œç¬¦çš„ä½œç”¨" class="headerlink" title="new æ“ä½œç¬¦çš„ä½œç”¨"></a>new æ“ä½œç¬¦çš„ä½œç”¨</h3><p><code>new</code>æ“ä½œç¬¦åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šæ”¹å˜<code>this</code>çš„æŒ‡å‘ï¼Œæ‰€ä»¥ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹<code>this</code>çš„ç”¨æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, age</span>) </span>{</span><br><span class="line">     <span class="built_in">this</span>.userName = userName;</span><br><span class="line">     <span class="built_in">this</span>.age = age;</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">20</span>));</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œå‘ç°è¾“å‡ºçš„æ˜¯ä¸€ä¸ª<code>Person</code>å¯¹è±¡ï¼ŒåŒ…å«äº†<code>userName</code>å’Œ<code>age</code>çš„æ•°æ®ã€‚</p>
<p>ä½†æ˜¯ï¼Œé—®é¢˜æ˜¯ï¼Œåœ¨æ„é€ å‡½æ•°<code>Person</code>ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰æ·»åŠ <code>return</code>,ä¸ºä»€ä¹ˆä¼šæœ‰è¿”å›å€¼å‘¢ï¼Ÿ</p>
<p>å…¶å®å°±æ˜¯<code>this</code>è¿™ä¸ªå…³é”®å­—èµ·ä½œç”¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, age</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>);<span class="comment">//è¾“å‡ºçš„æ˜¯Person{ }å¯¹è±¡</span></span><br><span class="line">      <span class="built_in">this</span>.userName = userName;</span><br><span class="line">      <span class="built_in">this</span>.age = age;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">20</span>);</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>this</code> è¿™é‡Œå°±æ˜¯ä¸€ä¸ª<code>Person</code>çš„ç©ºå¯¹è±¡ï¼Œåé¢çš„ä¸¤è¡Œä»£ç å°±ç›¸å½“äºç»™<code>Person</code>å¯¹è±¡æ·»åŠ äº†<code>userName</code>å’Œ<code>age</code>è¿™ä¸¤ä¸ªå±æ€§ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æŠŠä»£ç ä¿®æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, age</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> Person = {};</span><br><span class="line">       Person.userName = userName;</span><br><span class="line">       Person.age = age;</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">20</span>));</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šæ‰“å°çš„ç»“æœä¸­ï¼Œè¾“å‡ºçš„æ˜¯<code>Person{}</code>ï¼Œå¹¶æ²¡æœ‰åŒ…å«<code>userName</code>å’Œ<code>age</code>,åŸå› æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>å› ä¸ºåœ¨ æ„é€ å‡½æ•°ä¸­å¦‚æœæ²¡æœ‰æ·»åŠ <code>return</code>,åˆ™é»˜è®¤è¿”å›çš„æ˜¯<code>return this</code>.</p>
<p>ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, age</span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> Person = {};</span><br><span class="line">      Person.userName = userName;</span><br><span class="line">      Person.age = age;</span><br><span class="line">      <span class="keyword">return</span> Person;</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">20</span>));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹<code>this</code>æœ‰äº†ä¸€ä¸ªç®€å•çš„äº†è§£ä»¥åï¼Œä¸‹é¢é‡ç‚¹çœ‹å¦‚ä¸‹ä»£ç </p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person= <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">20</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>ä»ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä¸»è¦çš„ä½œç”¨å°±æ˜¯åˆ›å»ºä¸€ä¸ª<code>Person</code>å¯¹è±¡ï¼Œç„¶åèµ‹å€¼ç»™äº†<code>person</code>è¿™ä¸ªå˜é‡ï¼Œè¯¥å˜é‡ä¸­åŒ…å«äº†<code>Person</code>å¯¹è±¡ä¸­çš„å±æ€§å’Œå‡½æ•°ã€‚</p>
<p>å…¶å®ï¼Œåœ¨<code>new</code>æ“ä½œç¬¦åšäº†å¦‚ä¸‹3ä»¶äº‹æƒ…ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person={};</span><br><span class="line">person.__proto__=Person.prototype;</span><br><span class="line">Person.call(person)</span><br></pre></td></tr></tbody></table></figure>



<h3 id="åŸå‹å¯¹è±¡ç†è§£"><a href="#åŸå‹å¯¹è±¡ç†è§£" class="headerlink" title="åŸå‹å¯¹è±¡ç†è§£"></a>åŸå‹å¯¹è±¡ç†è§£</h3><h4 id="å‡½æ•°å¯¹è±¡çš„-prototype-å±æ€§"><a href="#å‡½æ•°å¯¹è±¡çš„-prototype-å±æ€§" class="headerlink" title="å‡½æ•°å¯¹è±¡çš„ prototype å±æ€§"></a>å‡½æ•°å¯¹è±¡çš„ prototype å±æ€§</h4><p>æˆ‘ä»¬åˆ›å»ºçš„æ¯ä¸€ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡çš„ç”¨é€”æ˜¯åŒ…å«å¯ä»¥ç”±ç‰¹å®šç±»å‹çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ï¼Œç®€å•æ¥è¯´ï¼Œè¯¥å‡½æ•°å®ä¾‹åŒ–çš„æ‰€æœ‰å¯¹è±¡çš„<code>__proto__</code>çš„å±æ€§æŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå®ƒæ˜¯è¯¥å‡½æ•°æ‰€æœ‰å®ä¾‹åŒ–å¯¹è±¡çš„åŸå‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ºåŸå‹å¯¹è±¡æ·»åŠ æ–¹æ³•</span></span><br><span class="line">Person.prototype.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    alert(<span class="built_in">this</span>.name);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚</p>
<p><img src="/2020/09/25/JavaScript-1/prototype.png"></p>
<p><strong>ç®€æ˜“å›¾</strong></p>
<p><img src="/2020/09/25/JavaScript-1/%E7%AE%80%E6%98%93prototype.png"></p>
<h4 id="constructor-å±æ€§"><a href="#constructor-å±æ€§" class="headerlink" title="constructor å±æ€§"></a>constructor å±æ€§</h4><p>å½“å‡½æ•°åˆ›å»ºï¼Œ<code>prototype </code>å±æ€§æŒ‡å‘ä¸€ä¸ªåŸå‹å¯¹è±¡æ—¶ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡å°†ä¼šè·å¾—ä¸€ä¸ª constructor å±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ <code>prototype</code> æ‰€åœ¨çš„å‡½æ•°å¯¹è±¡ã€‚</p>
<p>æ‹¿å‰é¢çš„ä¸€ä¸ªä¾‹å­æ¥è¯´ <code>Person.prototype.constructor</code> å°±æŒ‡å‘ <code>Person </code>å‡½æ•°å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Person.prototype.constructor == Person) </span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬æ¥æ›´æ–°ä¸€ä¸‹å®ƒä»¬ä¹‹é—´çš„å…³ç³»å›¾ã€‚</p>
<p><img src="/2020/09/25/JavaScript-1/constructor.png"></p>
<pre><code>  **ç®€æ˜“å›¾**
</code></pre>
<p><img src="/2020/09/25/JavaScript-1/constructor.jpg"></p>
<h4 id="å¯¹è±¡çš„-proto-å±æ€§"><a href="#å¯¹è±¡çš„-proto-å±æ€§" class="headerlink" title="å¯¹è±¡çš„ __proto__ å±æ€§"></a>å¯¹è±¡çš„ <code>__proto__ </code>å±æ€§</h4><p>å½“æˆ‘ä»¬è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œåœ¨è¿™ä¸ªå®ä¾‹çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡.</p>
<p>æ ¹æ®å‰é¢çš„ <code>Person</code> æ„é€ å‡½æ•°æˆ‘ä»¬æ–°å»ºä¸€ä¸ªå®ä¾‹</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(student.__proto__ === Person.prototype); <span class="comment">// true</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™ä¸ªè¿æ¥æ˜¯å­˜åœ¨ä¸å®ä¾‹ä¸æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¹‹é—´çš„ï¼Œè€Œä¸æ˜¯å­˜åœ¨äºå®ä¾‹å’Œæ„é€ å‡½æ•°ä¹‹é—´çš„ã€‚ </p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç°åœ¨è¿™å‡ ä¸ªå¯¹è±¡ä¹‹é—´çš„å…³ç³»</p>
<p><img src="/2020/09/25/JavaScript-1/proto.png"></p>
<p><code>isPrototypeOf()</code> æ–¹æ³•ç”¨äºæµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(Person.prototype.isPrototypeOf(student)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç®€æ˜“å›¾</strong></p>
<p><img src="/2020/09/25/JavaScript-1/proto.jpg"></p>
<h3 id="åŸå‹å±æ€§"><a href="#åŸå‹å±æ€§" class="headerlink" title="åŸå‹å±æ€§"></a>åŸå‹å±æ€§</h3><h5 id="å±æ€§è®¿é—®"><a href="#å±æ€§è®¿é—®" class="headerlink" title="å±æ€§è®¿é—®"></a>å±æ€§è®¿é—®</h5><p>æ¯å½“ä»£ç è¯»å–å¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œé¦–å…ˆä¼šåœ¨å¯¹è±¡æœ¬èº«æœç´¢è¿™ä¸ªå±æ€§ï¼Œå¦‚æœæ‰¾åˆ°è¯¥å±æ€§å°±è¿”å›è¯¥å±æ€§çš„å€¼ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ç»§ç»­æœç´¢è¯¥å¯¹è±¡å¯¹åº”çš„åŸå‹å¯¹è±¡ï¼Œä»¥æ­¤ç±»æ¨ä¸‹å»ã€‚</p>
<p>å› ä¸ºè¿™æ ·çš„æœç´¢è¿‡ç¨‹ï¼Œå› æ­¤æˆ‘ä»¬å¦‚æœåœ¨å®ä¾‹ä¸­æ·»åŠ ä¸€ä¸ªå±æ€§æ—¶ï¼Œè¿™ä¸ªå±æ€§å°±ä¼šå±è”½åŸå‹å¯¹è±¡ä¸­ä¿å­˜çš„åŒåå±æ€§ï¼Œå› ä¸ºåœ¨å®ä¾‹ä¸­æœç´¢åˆ°è¯¥å±æ€§åå°±ä¸ä¼šå†å‘åæœç´¢äº†ã€‚</p>
<h5 id="å±æ€§åˆ¤æ–­"><a href="#å±æ€§åˆ¤æ–­" class="headerlink" title="å±æ€§åˆ¤æ–­"></a>å±æ€§åˆ¤æ–­</h5><p>æ—¢ç„¶ä¸€ä¸ªå±æ€§æ—¢å¯èƒ½æ˜¯å®ä¾‹æœ¬èº«çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶åŸå‹å¯¹è±¡çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•æ¥åˆ¤æ–­å‘¢ï¼Ÿ</p>
<p>åœ¨å±æ€§ç¡®è®¤å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>hasOwnProperty() </code>æ–¹æ³•æ¥åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å­˜åœ¨ä¸å®ä¾‹ä¸­ï¼Œè¿˜æ˜¯å­˜åœ¨äºåŸå‹ä¸­</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{};</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">"laker"</span> ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> student = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(student.name); <span class="comment">// laker</span></span><br><span class="line"><span class="built_in">console</span>.log(student.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">student.name = <span class="string">"xiaoming"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(student.name); <span class="comment">//xiaoming å±è”½äº†åŸå‹å¯¹è±¡ä¸­çš„ name å±æ€§</span></span><br><span class="line"><span class="built_in">console</span>.log(student.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasPrototypeProperty</span>(<span class="params">object, name</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> !object.hasOwnProperty(name) &amp;&amp; (name <span class="keyword">in</span> object);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h5 id="æ‰€æœ‰å±æ€§è·å–"><a href="#æ‰€æœ‰å±æ€§è·å–" class="headerlink" title="æ‰€æœ‰å±æ€§è·å–"></a>æ‰€æœ‰å±æ€§è·å–</h5><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">"KXY"</span>;</span><br><span class="line">      }</span><br><span class="line">      Person.prototype = {</span><br><span class="line">        <span class="attr">job</span>: <span class="string">"student"</span>,</span><br><span class="line">      };</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> kxy = <span class="keyword">new</span> Person();</span><br><span class="line">      <span class="built_in">Object</span>.defineProperty(kxy, <span class="string">"sex"</span>, {</span><br><span class="line">        <span class="attr">value</span>: <span class="string">"female"</span>,</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">      });</span><br><span class="line"></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(kxy)); <span class="comment">//["name"] //æ— æ³•è·å–ä¸å¯æšä¸¾çš„å±æ€§ä¸åŸå‹é“¾ä¸Šç»§æ‰¿çš„å±æ€§</span></span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(kxy));<span class="comment">//["name", "sex"]</span></span><br><span class="line"><span class="comment">//for...inèƒ½è·å–åŸå‹é“¾ä¸Šç»§æ‰¿çš„å±æ€§ï¼Œæ— æ³•è·å–ä¸å¯æšä¸¾çš„å±æ€§</span></span><br><span class="line"> 	<span class="keyword">for</span> (<span class="keyword">var</span> pro <span class="keyword">in</span> kxy) {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"kxy."</span> + pro + <span class="string">" = "</span> + kxy[pro]);<span class="comment">// kxy.name = KXY</span></span><br><span class="line">        <span class="comment">//kxy.job = student</span></span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>



<p><strong>æ€æ ·åˆ¤æ–­å±æ€§æ˜¯å¦ä¸ºå®ä¾‹å±æ€§å¹¶ä¸”æ˜¯å¦å¯æšä¸¾</strong></p>
<p>å¦‚æœæƒ³åˆ¤æ–­æŒ‡å®šåç§°çš„å±æ€§æ˜¯å¦ä¸ºå®ä¾‹å±æ€§å¹¶ä¸”æ˜¯å¦å¯æšä¸¾çš„ï¼Œå¯ä»¥ä½¿ç”¨<code>propertyIsEnumerable</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">     }</span><br><span class="line">     Student.prototype.sayHello = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"hello"</span> + <span class="built_in">this</span>.userName);</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">var</span> stu = <span class="keyword">new</span> Student();</span><br><span class="line">     <span class="built_in">console</span>.log(stu.propertyIsEnumerable(<span class="string">"userName"</span>)); <span class="comment">//true:userNameä¸ºè‡ªèº«å®šä¹‰çš„å®ä¾‹å±æ€§</span></span><br><span class="line">     <span class="built_in">console</span>.log(stu.propertyIsEnumerable(<span class="string">"age"</span>)); <span class="comment">// false:ageå±æ€§ä¸å­˜åœ¨ï¼Œè¿”å›false</span></span><br><span class="line">     <span class="built_in">console</span>.log(stu.propertyIsEnumerable(<span class="string">"sayHello"</span>)); <span class="comment">// false :sayHelloå±äºåŸå‹ä¸Šçš„å‡½æ•°</span></span><br><span class="line">     <span class="comment">//å°†userNameå±æ€§è®¾ç½®ä¸ºä¸å¯æšä¸¾</span></span><br><span class="line">     <span class="built_in">Object</span>.defineProperty(stu, <span class="string">"userName"</span>, {</span><br><span class="line">       <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">     });</span><br><span class="line">     <span class="built_in">console</span>.log(stu.propertyIsEnumerable(<span class="string">"userName"</span>)); <span class="comment">// false: userNameè®¾ç½®äº†ä¸å¯æšä¸¾</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="1-4-Object-create-æ–¹æ³•"><a href="#1-4-Object-create-æ–¹æ³•" class="headerlink" title="1.4 Object.create( )æ–¹æ³•"></a>1.4 <code>Object.create( )</code>æ–¹æ³•</h3><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>è¯¥å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæŒ‡å®šåŸå‹å’ŒæŒ‡å®šå±æ€§çš„æ–°å¯¹è±¡ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.create(prototype,propertyDescriptor)</span><br></pre></td></tr></tbody></table></figure>

<p><code>prototype</code>å±æ€§ä¸ºå¯¹è±¡çš„åŸå‹ï¼ˆå¿…é¡»ï¼‰ï¼Œå¯ä»¥ä¸º<code>null</code>,å¦‚æœä¸º<code>null</code>ï¼Œåˆ™å¯¹è±¡çš„åŸå‹ä¸º<code>undefined</code>.</p>
<p><code>propertyDescriptor</code>è¡¨ç¤ºçš„æ˜¯å±æ€§æè¿°ç¬¦ï¼ˆå¯é€‰ï¼‰ï¼Œå…·ä½“çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">propertyName:{</span><br><span class="line">    <span class="attr">value</span>:<span class="string">''</span>,</span><br><span class="line">    <span class="attr">writable</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">enumerable</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>:<span class="literal">true</span> </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>åŸºæœ¬å®ç°ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">     <span class="keyword">const</span> person = {</span><br><span class="line">       <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">       <span class="attr">sayHello</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"hello "</span> + <span class="built_in">this</span>.userName);</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">const</span> stu = <span class="built_in">Object</span>.create(person);</span><br><span class="line">     stu.userName = <span class="string">"lisi"</span>;</span><br><span class="line">     stu.sayHello(); <span class="comment">//hello lisi  è¦†ç›–äº†personä¸­çš„userNameå±æ€§åŸæœ‰çš„å€¼</span></span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°<code>stu</code>å¯¹è±¡çš„åŸå‹æ˜¯<code>person</code>.ä¹Ÿå°±æ˜¯<code>stu.__proto__===person</code></p>
<p>ä¸‹é¢å†æ¥çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(<span class="literal">null</span>, {</span><br><span class="line">        <span class="attr">userName</span>: {</span><br><span class="line">          <span class="attr">value</span>: <span class="string">"wangwu"</span>,</span><br><span class="line">          <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">age</span>: {</span><br><span class="line">          <span class="attr">value</span>: <span class="number">23</span>,</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      <span class="built_in">console</span>.log(obj.userName);</span><br><span class="line">      <span class="built_in">console</span>.log(obj.age); </span><br><span class="line">      obj.age = <span class="number">26</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(obj.age); </span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> o <span class="keyword">in</span> obj) {</span><br><span class="line">        <span class="built_in">console</span>.log(o);</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">delete</span> obj.userName;</span><br><span class="line">      <span class="built_in">console</span>.log(obj.userName); </span><br><span class="line">      <span class="keyword">delete</span> obj.age;</span><br><span class="line">      <span class="built_in">console</span>.log(obj.age); </span><br></pre></td></tr></tbody></table></figure>



<h4 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h4><p>é€šè¿‡å¦‚ä¸‹çš„ä¼ªä»£ç æ¥æŸ¥çœ‹å¯¹åº”çš„å®ç°åŸç†</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.create=<span class="function"><span class="keyword">function</span>(<span class="params">proto,propertiesObject</span>)</span>{</span><br><span class="line">    <span class="comment">//çœç•¥äº†å…¶å®ƒåˆ¤æ–­æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>)</span>{}</span><br><span class="line">    F.prototype=proto;</span><br><span class="line">    <span class="keyword">if</span>(propertiesObject){ <span class="built_in">Object</span>.defineProperties(F, propertiesObject)}</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> F()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºå¦‚ä¸‹çš„ç»“è®ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f=<span class="keyword">new</span> F()</span><br><span class="line">f.__proto__===F.prototype</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥éªŒè¯ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = { <span class="attr">x</span>: <span class="number">12</span>, <span class="attr">y</span>: <span class="number">13</span> };</span><br><span class="line">     <span class="keyword">var</span> test = <span class="built_in">Object</span>.create(obj);</span><br><span class="line">     <span class="built_in">console</span>.log(test); </span><br><span class="line">     <span class="built_in">console</span>.log(test.x); </span><br><span class="line">     <span class="built_in">console</span>.log(test.__proto__.x);</span><br></pre></td></tr></tbody></table></figure>



<p><strong>æœ€åï¼Œè¿™é‡Œæ¼”ç¤ºä¸€ä¸‹<code>Object.defineProperties</code>æ–¹æ³•çš„åŸºæœ¬ä½¿ç”¨</strong></p>
<p>è¯¥æ–¹æ³•çš„ä¸»è¦ä½œç”¨å°±æ˜¯æ·»åŠ æˆ–ä¿®æ”¹å¯¹è±¡çš„å±æ€§ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {};</span><br><span class="line">     </span><br><span class="line">      <span class="built_in">Object</span>.defineProperties(person, {</span><br><span class="line">        <span class="attr">userName</span>: {</span><br><span class="line">          <span class="attr">value</span>: <span class="string">"å¼ ä¸‰"</span>,</span><br><span class="line">          <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">age</span>: {</span><br><span class="line">          <span class="attr">value</span>: <span class="number">12</span>,</span><br><span class="line">          <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> p <span class="keyword">in</span> person) {</span><br><span class="line">        <span class="built_in">console</span>.log(p); </span><br><span class="line">      }</span><br><span class="line">      person.age = <span class="number">20</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(person.age); </span><br></pre></td></tr></tbody></table></figure>



<h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><p>å¯¹äº<code>Object.create</code>æ–¹æ³•å¾ˆé‡è¦çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯æ˜¯ç”¨æ¥å®ç°ç»§æ‰¿</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, sex</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">      }</span><br><span class="line">      Person.prototype.getInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"getInfo: [name:"</span> + <span class="built_in">this</span>.name + <span class="string">", sex:"</span> + <span class="built_in">this</span>.sex + <span class="string">"]"</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> a = <span class="keyword">new</span> Person(<span class="string">"jojo"</span>, <span class="string">"femal"</span>);</span><br><span class="line">      <span class="keyword">var</span> b = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line"><span class="built_in">console</span>.log(a.name); </span><br><span class="line">      <span class="built_in">console</span>.log(b.name); </span><br><span class="line">      <span class="built_in">console</span>.log(b.getInfo); </span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢çœ‹ä¸€ä¸‹æ€æ ·å®ç°å®Œæ•´çš„ç»§æ‰¿æ“ä½œã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, sex</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">      }</span><br><span class="line">      Person.prototype.getInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"getInfo: [name:"</span> + <span class="built_in">this</span>.name + <span class="string">", sex:"</span> + <span class="built_in">this</span>.sex + <span class="string">"]"</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, sex, age</span>) </span>{</span><br><span class="line">        Person.call(<span class="built_in">this</span>, name, sex); </span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">      }</span><br><span class="line">      Student.prototype = <span class="built_in">Object</span>.create(Person.prototype); </span><br><span class="line">      <span class="keyword">var</span> s = <span class="keyword">new</span> Student(<span class="string">"coco"</span>, <span class="string">"femal"</span>, <span class="number">25</span>);</span><br><span class="line">      s.getInfo();</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç®€å•çš„åˆ†æä¸€ä¸‹ï¼Œä¸Šé¢çš„ä»£ç ã€‚</p>
<p>å¯¹è±¡<code>s</code>çš„<code>__proto__</code>æŒ‡å‘çš„æ˜¯<code>s</code>çš„æ„é€ å‡½æ•°<code>Student</code>çš„<code>prototype</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.__proto__===Student.prototype </span><br></pre></td></tr></tbody></table></figure>

<p>é‚£ä¹ˆ<code>Student.prototype</code>çš„<code>__proto__</code>æŒ‡å‘ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Student.prototype.__proto__===Person.prototype </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.__proto__.__proto__===Person.prototype </span><br></pre></td></tr></tbody></table></figure>



<p>è€Œæˆ‘ä»¬çŸ¥é“å¯¹è±¡<code>s</code>æ˜¯æœ‰<code>Student</code> åˆ›å»ºçš„ï¼Œæ‰€ä»¥å…¶æ„é€ å‡½æ•°ä¸º<code>Student</code>,æ‰€ä»¥æˆ‘ä»¬åœ¨ä¿®æ”¹äº†åŸå‹ä»¥åï¼Œè¿™é‡Œåº”è¯¥é‡æ–°ä¿®æ­£æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, sex</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">      }</span><br><span class="line">      Person.prototype.getInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"getInfo: [name:"</span> + <span class="built_in">this</span>.name + <span class="string">", sex:"</span> + <span class="built_in">this</span>.sex + <span class="string">"]"</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, sex, age</span>) </span>{</span><br><span class="line">        Person.call(<span class="built_in">this</span>, name, sex); </span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">      }</span><br><span class="line">      Student.prototype = <span class="built_in">Object</span>.create(Person.prototype);</span><br><span class="line">      Student.prototype.constructor = Student;     </span><br><span class="line">      <span class="keyword">var</span> s = <span class="keyword">new</span> Student(<span class="string">"coco"</span>, <span class="string">"femal"</span>, <span class="number">25</span>);</span><br><span class="line">      s.getInfo();</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Object-create-ä¸new-Object-çš„åŒºåˆ«"><a href="#Object-create-ä¸new-Object-çš„åŒºåˆ«" class="headerlink" title="Object.create( )ä¸new Object()çš„åŒºåˆ«"></a><code>Object.create( )</code>ä¸<code>new Object()</code>çš„åŒºåˆ«</h3><h3 id="æ¨¡æ‹Ÿnewæ“ä½œç¬¦çš„å®ç°"><a href="#æ¨¡æ‹Ÿnewæ“ä½œç¬¦çš„å®ç°" class="headerlink" title="æ¨¡æ‹Ÿnewæ“ä½œç¬¦çš„å®ç°"></a>æ¨¡æ‹Ÿ<code>new</code>æ“ä½œç¬¦çš„å®ç°</h3><p>åœ¨å‰é¢æˆ‘ä»¬ä»‹ç»äº†<code>new</code>æ“ä½œç¬¦æ‰€åšçš„ä¸‰ä»¶äº‹æƒ…ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.name = name;</span><br><span class="line">       <span class="built_in">this</span>.age = age;</span><br><span class="line">     }</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">New</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> obj = {};</span><br><span class="line">           <span class="keyword">var</span> res = Person.apply(obj, <span class="built_in">arguments</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> res === <span class="string">"object"</span> ? res : obj;</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(New(<span class="string">"zhangsan"</span>, <span class="number">19</span>));</span><br></pre></td></tr></tbody></table></figure>



<h3 id="åŸå‹é“¾ç†è§£"><a href="#åŸå‹é“¾ç†è§£" class="headerlink" title="åŸå‹é“¾ç†è§£"></a>åŸå‹é“¾ç†è§£</h3><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥çœ‹ä¸€ä¸ªç®€å•çš„åŸå‹é“¾è¿‡ç¨‹ã€‚åˆæ­¥ä»£ç å¦‚ä¸‹</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> A=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{ }</span><br><span class="line"><span class="keyword">var</span> a=<span class="keyword">new</span> A( );</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡<code>a</code> å®ä¾‹æ²¿ç€åŸå‹é“¾ç¬¬ä¸€æ¬¡çš„è¿½æº¯ï¼Œ<code>__proto__</code>å±æ€§æŒ‡å‘<code>A()</code>æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.__proto__===A.prototype </span><br></pre></td></tr></tbody></table></figure>

<p><code>a</code>å®ä¾‹æ²¿ç€åŸå‹é“¾ç¬¬äºŒæ¬¡çš„è¿½æº¯ï¼Œ<code>A</code>åŸå‹å¯¹è±¡çš„<code>__proto__</code>å±æ€§æŒ‡å‘<code>Object</code>ç±»å‹çš„åŸå‹å¯¹è±¡.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a.__proto__.__proto__===A.prototype.__proto__ </span><br><span class="line">A.prototype.__proto__===<span class="built_in">Object</span>.prototype</span><br></pre></td></tr></tbody></table></figure>

<p><code>a</code> å®ä¾‹æ²¿ç€åŸå‹é“¾ç¬¬ä¸‰æ¬¡è¿½æº¯ï¼Œ<code>Object</code>ç±»å‹çš„åŸå‹å¯¹è±¡çš„<code>__proto__</code>å±æ€§ä¸º<code>null</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a.__proto__.__proto__.__proto__===<span class="built_in">Object</span>.prototype.__proto__</span><br><span class="line"><span class="built_in">Object</span>.prototype.__proto__===<span class="literal">null</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>å…·ä½“çš„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E9%93%BE1.png"></p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Middle</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>{</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">Middle.prototype = <span class="keyword">new</span> Super();</span><br><span class="line">Sub.prototype = <span class="keyword">new</span> Middle();</span><br><span class="line"><span class="keyword">var</span> suber = <span class="keyword">new</span> Sub();</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹åº”çš„åŸå‹é“¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E9%93%BE2.png"></p>
<p>ä¸Šé¢çš„å›¾å…¶å®å¹¶ä¸å®Œæ•´ï¼Œå› ä¸ºæ¼æ‰äº†<code>Object</code>.æ‰€ä»¥å®Œæ•´çš„å›¾å¦‚ä¸‹</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E9%93%BE3.png"></p>
<p>é€šè¿‡ä»¥ä¸Šå†…å®¹çš„è®²è§£ï¼Œæˆ‘ä»¬å¯¹åŸå‹é“¾æœ‰äº†æ›´åŠ æ·±å…¥çš„ç†è§£ã€‚</p>
<h3 id="åŸå‹é“¾ç‰¹ç‚¹"><a href="#åŸå‹é“¾ç‰¹ç‚¹" class="headerlink" title="åŸå‹é“¾ç‰¹ç‚¹"></a>åŸå‹é“¾ç‰¹ç‚¹</h3><p>å…³äºåŸå‹é“¾çš„ç‰¹ç‚¹ï¼Œä¸»è¦æœ‰ä¸¤ä¸ª</p>
<p>ç¬¬ä¸€ä¸ªç‰¹ç‚¹ï¼šç”±äºåŸå‹é“¾çš„å­˜åœ¨ï¼Œå±æ€§æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸å†åªæ˜¯æŸ¥æ‰¾è‡ªèº«çš„åŸå‹å¯¹è±¡ï¼Œè€Œæ˜¯ä¼šæ²¿ç€æ•´ä¸ªåŸå‹é“¾ä¸€ç›´å‘ä¸Šï¼Œç›´åˆ°è¿½æº¯åˆ°<code>Object.prototype</code>.ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“<code>js</code>å¼•æ“åœ¨æŸ¥æ‰¾å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå…ˆæŸ¥æ‰¾å¯¹è±¡æœ¬èº«æ˜¯å¦å­˜åœ¨è¯¥å±æ€§ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä¼šåœ¨åŸå‹é“¾ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°<code>Object.prototype</code>.å¦‚æœ<code>Object.prototype</code>ä¸Šä¹Ÿæ‰¾ä¸åˆ°è¯¥å±æ€§ï¼Œåˆ™è¿”å›<code>undefined</code>,å¦‚æœæœŸé—´åœ¨å¯¹è±¡æœ¬èº«æ‰¾åˆ°äº†æˆ–è€…æ˜¯æŸä¸ªåŸå‹å¯¹è±¡ä¸Šæ‰¾åˆ°äº†è¯¥å±æ€§ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çš„ç»“æœã€‚</p>
<p>ç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬åœ¨è‡ªå®šä¹‰çš„å¯¹è±¡ä¸­ï¼Œå¯ä»¥è°ƒç”¨æŸäº›æœªåœ¨è‡ªå®šä¹‰æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œä¾‹å¦‚<code>toString( )</code>å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>{ }</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</span><br><span class="line">p.toString(); <span class="comment">// å®é™…ä¸Šè°ƒç”¨çš„æ˜¯Object.prototype.toString( )</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒä¸ªç‰¹ç‚¹ï¼šç”±äºå±æ€§æŸ¥æ‰¾ä¼šç»å†æ•´ä¸ªåŸå‹é“¾ï¼Œå› æ­¤æŸ¥æ‰¾çš„é“¾è·¯è¶Šé•¿ï¼Œå¯¹æ€§èƒ½çš„å½±å“è¶Šå¤§ã€‚</p>
<h3 id="å±æ€§çš„åŒºåˆ†"><a href="#å±æ€§çš„åŒºåˆ†" class="headerlink" title="å±æ€§çš„åŒºåˆ†"></a>å±æ€§çš„åŒºåˆ†</h3><p>å¯¹è±¡å±æ€§çš„æŸ¥æ‰¾å¾€å¾€ä¼šæ¶‰åŠåˆ°æ•´ä¸ªåŸå‹é“¾ï¼Œé‚£ä¹ˆåº”è¯¥æ€æ ·åŒºåˆ†å±æ€§æ˜¯å®ä¾‹è‡ªèº«çš„è¿˜æ˜¯ä»åŸå‹é“¾ä¸­ç»§æ‰¿çš„å‘¢ï¼Ÿ</p>
<p>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œå‰é¢æˆ‘ä»¬ä¹Ÿå·²ç»è®²è§£è¿‡ï¼Œæ˜¯é€šè¿‡<code>hasOwnProperty( )</code>å‡½æ•°æ¥å®Œæˆçš„ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨ç®€å•çš„å¤ä¹ å¼ºè°ƒä¸€ä¸‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.name = name;</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">//åœ¨å¯¹è±¡çš„åŸå‹ä¸Šæ·»åŠ ageå±æ€§</span></span><br><span class="line">     Person.prototype.age = <span class="number">21</span>;</span><br><span class="line">     <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(p.hasOwnProperty(<span class="string">"name"</span>)); <span class="comment">//true</span></span><br><span class="line">     <span class="built_in">console</span>.log(p.hasOwnProperty(<span class="string">"age"</span>)); <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>name</code>å±æ€§ä¸ºå®ä¾‹å±æ€§ï¼Œåœ¨è°ƒç”¨<code>hasOwnProperty</code>æ–¹æ³•æ—¶ï¼Œä¼šè¿”å›<code>true</code>ã€‚<code>age</code>å±æ€§ä¸ºåŸå‹å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œåœ¨è°ƒç”¨<code>hasOwnProperty</code>å‡½æ•°æ—¶ï¼Œä¼šè¿”å›<code>false</code>.</p>
<p>åœ¨ä½¿ç”¨<code>for...in</code>è¿ç®—ç¬¦ï¼Œéå†å¯¹è±¡çš„å±æ€§æ—¶ï¼Œä¸€èˆ¬å¯ä»¥é…åˆ<code>hasOwnProperty</code>æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œæ£€æµ‹æŸä¸ªå±æ€§æ˜¯å¦ä¸ºå¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œå¦‚æœæ˜¯ï¼Œå¯ä»¥åšç›¸åº”çš„å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> p <span class="keyword">in</span> person){</span><br><span class="line">    <span class="keyword">if</span>(person.hasOwnProperty(p)){</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="Arrayç±»å‹"><a href="#Arrayç±»å‹" class="headerlink" title="Arrayç±»å‹"></a>Arrayç±»å‹</h2><p><code>Array</code>ç±»å‹ä¸­æä¾›äº†ä¸°å¯Œçš„å‡½æ•°ç”¨äºå¯¹æ•°ç»„è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ï¼Œè¿‡æ»¤ï¼Œå»é‡ï¼Œéå†ç­‰ç­‰æ“ä½œã€‚</p>
<h3 id="æ€æ ·-åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡"><a href="#æ€æ ·-åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡" class="headerlink" title="æ€æ · åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡"></a>æ€æ · åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡</h3><p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ä½¿ç”¨<code>typeof</code>è¿ç®—ç¬¦ï¼Œå› ä¸º<code>typeof</code>è¿ç®—ç¬¦æ˜¯ä¸“é—¨ç”¨äºæ£€æµ‹æ•°æ®ç±»å‹çš„ï¼Œä½†æ˜¯<code>typeof</code>è¿ç®—ç¬¦èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚å—ï¼Ÿ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a); </span><br></pre></td></tr></tbody></table></figure>



<h4 id="instanceofè¿ç®—ç¬¦"><a href="#instanceofè¿ç®—ç¬¦" class="headerlink" title="instanceofè¿ç®—ç¬¦"></a><code>instanceof</code>è¿ç®—ç¬¦</h4><p><code>instanceof</code>è¿ç®—ç¬¦ç”¨äºé€šè¿‡æŸ¥æ‰¾åŸå‹é“¾æ¥æ£€æŸ¥æŸä¸ªå˜é‡æ˜¯å¦ä¸ºæŸä¸ªç±»å‹æ•°æ®çš„å®ä¾‹ï¼Œä½¿ç”¨<code>instanceof</code>è¿ç®—ç¬¦å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// true</span></span><br><span class="line">    <span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> userInfo = { <span class="attr">userName</span>: <span class="string">"zhangsan"</span> };</span><br><span class="line">    <span class="built_in">console</span>.log(userInfo <span class="keyword">instanceof</span> <span class="built_in">Array</span>); <span class="comment">// false</span></span><br><span class="line">    <span class="built_in">console</span>.log(userInfo <span class="keyword">instanceof</span> <span class="built_in">Object</span>); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>



<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ¤æ–­å˜é‡æ˜¯æ•°ç»„ç±»å‹è¿˜æ˜¯å¯¹è±¡ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">o</span>) </span>{</span><br><span class="line">    <span class="keyword">if</span> (o <span class="keyword">instanceof</span> <span class="built_in">Array</span>) {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Array"</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (o <span class="keyword">instanceof</span> <span class="built_in">Object</span>) {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Object"</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"å‚æ•°ç±»å‹ä¸æ˜¯Arrayä¹Ÿä¸æ˜¯Object"</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="built_in">console</span>.log(getType(a));</span><br></pre></td></tr></tbody></table></figure>



<h4 id="é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ¤æ–­"><a href="#é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ¤æ–­" class="headerlink" title="é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ¤æ–­"></a>é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ¤æ–­</h4><p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯åˆ¤æ–­å˜é‡çš„æ„é€ å‡½æ•°æ˜¯<code>Array</code>ç±»å‹è¿˜æ˜¯<code>Object</code>ç±»å‹ã€‚</p>
<p>å› ä¸ºä¸€ä¸ªå¯¹è±¡çš„å®ä¾‹éƒ½æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">     <span class="built_in">console</span>.log(a.__proto__.constructor === <span class="built_in">Array</span>); </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a.__proto__.constructor === <span class="built_in">Object</span>); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ ·è¿™é‡Œï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ¤æ–­å˜é‡æ˜¯æ•°ç»„ç±»å‹è¿˜æ˜¯å¯¹è±¡ç±»å‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params">o</span>) </span>{</span><br><span class="line">    <span class="comment">//è·å–æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title">constructor</span> = <span class="title">o</span>.<span class="title">__proto__</span>.<span class="title">constructor</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title">constructor</span> === <span class="title">Array</span>) {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Array"</span>;</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="title">constructor</span> === <span class="title">Object</span>) {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"Object"</span>;</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"å‚æ•°ç±»å‹ä¸æ˜¯Arrayä¹Ÿä¸æ˜¯Object"</span>;</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="built_in">console</span>.log(getType(a));</span><br></pre></td></tr></tbody></table></figure>



<h4 id="é€šè¿‡toString-å‡½æ•°æ¥åˆ¤æ–­"><a href="#é€šè¿‡toString-å‡½æ•°æ¥åˆ¤æ–­" class="headerlink" title="é€šè¿‡toString( )å‡½æ•°æ¥åˆ¤æ–­"></a>é€šè¿‡<code>toString( )</code>å‡½æ•°æ¥åˆ¤æ–­</h4><p>æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ç§å¼•ç”¨ç±»å‹éƒ½ä¼šç›´æ¥æˆ–é—´æ¥ç»§æ‰¿<code>Object</code>ç±»å‹ï¼Œå› æ­¤å®ƒä»¬éƒ½åŒ…å«<code>toString( )</code>å‡½æ•°ã€‚</p>
<p>ä¸åŒæ•°æ®ç±»å‹çš„<code>toString( )</code>å‡½æ•°è¿”å›å€¼ä¹Ÿä¸ä¸€æ ·ï¼Œæ‰€ä»¥é€šè¿‡<code>toString( )</code>å‡½æ•°å°±å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œå½“ç„¶ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>call</code>æ–¹æ³•æ¥è°ƒç”¨<code>Object</code>åŸå‹ä¸Šçš„<code>toString( )</code>å‡½æ•°æ¥å®Œæˆç±»å‹çš„åˆ¤æ–­ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">     <span class="keyword">var</span> obj = { <span class="attr">userName</span>: <span class="string">"zhangsan"</span> };</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(arr)); <span class="comment">//[object Array]</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(obj)); <span class="comment">// [object Object]</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.toString()); <span class="comment">// 1,2,3</span></span><br></pre></td></tr></tbody></table></figure>



<h4 id="é€šè¿‡Array-isArray-å‡½æ•°æ¥åˆ¤æ–­"><a href="#é€šè¿‡Array-isArray-å‡½æ•°æ¥åˆ¤æ–­" class="headerlink" title="é€šè¿‡Array.isArray( )å‡½æ•°æ¥åˆ¤æ–­"></a>é€šè¿‡<code>Array.isArray( )</code>å‡½æ•°æ¥åˆ¤æ–­</h4><p><code>Array.isArray</code> æ–¹æ³•ç”¨æ¥åˆ¤æ–­å˜é‡æ˜¯å¦ä¸ºæ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">  <span class="keyword">var</span> obj = { <span class="attr">name</span>: <span class="string">"zhangsan"</span> };</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(<span class="number">1</span>)); <span class="comment">//false</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(arr)); <span class="comment">//true</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(obj)); <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="æ€æ ·è¿‡æ»¤æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®"><a href="#æ€æ ·è¿‡æ»¤æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®" class="headerlink" title="æ€æ ·è¿‡æ»¤æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®"></a>æ€æ ·è¿‡æ»¤æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®</h3><p>å¯¹æ•°ç»„ä¸­çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¯”è¾ƒå¤šçš„æ˜¯<code>filter</code>æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params">x</span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> x % <span class="number">2</span> !== <span class="number">0</span>;</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">78</span>, <span class="number">9</span>, <span class="number">10</span>];</span><br><span class="line">      <span class="keyword">var</span> result = arr.filter(fn);</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹é’ˆå¯¹å¤æ‚ç±»å‹æ•°ç»„çš„è¿‡æ»¤ã€‚</p>
<p>ä¸‹é¢æ¡ˆä¾‹æ˜¯æŸ¥æ‰¾å‡ºå¹´é¾„å¤§äº16çš„ç”·ç”Ÿçš„ä¿¡æ¯ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [</span><br><span class="line">       { <span class="attr">gender</span>: <span class="string">"ç”·"</span>, <span class="attr">age</span>: <span class="number">15</span> },</span><br><span class="line">       { <span class="attr">gender</span>: <span class="string">"ç”·"</span>, <span class="attr">age</span>: <span class="number">17</span> },</span><br><span class="line">       { <span class="attr">gender</span>: <span class="string">"å¥³"</span>, <span class="attr">age</span>: <span class="number">15</span> },</span><br><span class="line">     ];</span><br><span class="line">     <span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> obj.gender === <span class="string">"ç”·"</span> &amp;&amp; obj.age &gt; <span class="number">16</span>;</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">const</span> result = arr.filter(fn);</span><br><span class="line">     <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ€æ ·å¯¹æ•°ç»„å…ƒç´ åšç´¯åŠ å¤„ç†"><a href="#æ€æ ·å¯¹æ•°ç»„å…ƒç´ åšç´¯åŠ å¤„ç†" class="headerlink" title="æ€æ ·å¯¹æ•°ç»„å…ƒç´ åšç´¯åŠ å¤„ç†"></a>æ€æ ·å¯¹æ•°ç»„å…ƒç´ åšç´¯åŠ å¤„ç†</h3><p>å¯¹æ•°ç»„ä¸­çš„å…ƒç´ åšç´¯åŠ çš„å¤„ç†ï¼Œå¯ä»¥é€šè¿‡<code>reduce</code>å‡½æ•°æ¥å®Œæˆã€‚</p>
<p><code>reduce</code>å‡½æ•°æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯åšç´¯åŠ çš„æ“ä½œï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œå°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä»å·¦åˆ°å³ä¾æ¬¡æ‰§è¡Œç´¯åŠ å™¨ï¼Œè¿”å›æœ€ç»ˆçš„å¤„ç†ç»“æœã€‚</p>
<p><code>reduce</code>å‡½æ•°çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</span><br></pre></td></tr></tbody></table></figure>



<p>æ±‚å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç´¯åŠ çš„å’Œ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">     <span class="keyword">var</span> sum = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">accumulator, currentValue</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> accumulator + currentValue;</span><br><span class="line">     }, <span class="number">0</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></tbody></table></figure>





<h3 id="æ€æ ·æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼"><a href="#æ€æ ·æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼" class="headerlink" title="æ€æ ·æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼"></a>æ€æ ·æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼</h3><p>å…³äºæŸ¥è¯¢å‡ºæ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…·ä½“çš„å®ç°ã€‚</p>
<p>ç¬¬ä¸€ï¼šé€šè¿‡<code>prototype</code>å±æ€§æ‰©å±•<code>min</code>å‡½æ•°å’Œ<code>max</code>å‡½æ•°æ¥å®ç°æ±‚æœ€å°å€¼ä¸æœ€å¤§å€¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æœ€å°å€¼</span></span><br><span class="line"> <span class="built_in">Array</span>.prototype.min = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">var</span> min = <span class="built_in">this</span>[<span class="number">0</span>];</span><br><span class="line">   <span class="keyword">var</span> len = <span class="built_in">this</span>.length;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">this</span>[i] &lt; min) {</span><br><span class="line">       min = <span class="built_in">this</span>[i];</span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">return</span> min;</span><br><span class="line"> };</span><br><span class="line"> <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line"> <span class="built_in">Array</span>.prototype.max = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">var</span> max = <span class="built_in">this</span>[<span class="number">0</span>];</span><br><span class="line">   <span class="keyword">var</span> len = <span class="built_in">this</span>.length;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt; len; i++) {</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">this</span>[i] &gt; max) {</span><br><span class="line">       max = <span class="built_in">this</span>[i];</span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">return</span> max;</span><br><span class="line"> };</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line"> <span class="built_in">console</span>.log(arr.min()); <span class="comment">// 1</span></span><br><span class="line"> <span class="built_in">console</span>.log(arr.max()); <span class="comment">// 90</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šé€šè¿‡æ•°ç»„çš„<code>reduce</code>å‡½æ•°æ¥å®Œæˆã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.max = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">this</span>.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, currentValue</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> preValue &gt; currentValue ? preValue : currentValue; <span class="comment">//è¿”å›æœ€å¤§çš„å€¼</span></span><br><span class="line">   });</span><br><span class="line"> };</span><br><span class="line"> <span class="built_in">Array</span>.prototype.min = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">this</span>.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">preValue, currentValue</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> preValue &lt; currentValue ? preValue : currentValue; <span class="comment">// è¿”å›æœ€å°çš„å€¼</span></span><br><span class="line">   });</span><br><span class="line"> };</span><br><span class="line"> <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line"> <span class="built_in">console</span>.log(arr.min()); <span class="comment">//</span></span><br><span class="line"> <span class="built_in">console</span>.log(arr.max()); <span class="comment">//</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šé€šè¿‡<code>ES6</code>ä¸­çš„æ‰©å±•è¿ç®—ç¬¦æ¥å®ç°</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>ES6</code>ä¸­çš„æ‰©å±•è¿ç®—ç¬¦(â€¦)æ¥å®ç°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.min(...arr)); <span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...arr));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ•°ç»„éå†çš„æ–¹å¼æœ‰å“ªäº›"><a href="#æ•°ç»„éå†çš„æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="æ•°ç»„éå†çš„æ–¹å¼æœ‰å“ªäº›"></a>æ•°ç»„éå†çš„æ–¹å¼æœ‰å“ªäº›</h3><p>æ•°ç»„éå†æ˜¯æˆ‘ä»¬é’ˆå¯¹æ•°ç»„æœ€é¢‘ç¹çš„æ“ä½œã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å¸¸è§çš„æ•°ç»„çš„éå†æ–¹å¼ã€‚</p>
<h4 id="é€šè¿‡forå¾ªç¯"><a href="#é€šè¿‡forå¾ªç¯" class="headerlink" title="é€šè¿‡forå¾ªç¯"></a>é€šè¿‡forå¾ªç¯</h4><p>è¿™æ—¶æœ€åŸºæœ¬çš„å®ç°æ–¹å¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;arr.length;i++){</span><br><span class="line">    <span class="built_in">console</span>.log(arr[i])</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨forEach-å‡½æ•°"><a href="#ä½¿ç”¨forEach-å‡½æ•°" class="headerlink" title="ä½¿ç”¨forEach( )å‡½æ•°"></a>ä½¿ç”¨<code>forEach( )</code>å‡½æ•°</h4><p><code>forEach</code>å‡½æ•°ä¹Ÿæ˜¯æˆ‘ä»¬éå†æ•°ç»„ç”¨çš„æ¯”è¾ƒå¤šçš„æ–¹æ³•ï¼Œ<code>forEach( )</code>å‡½æ•°æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå‚æ•°åˆ†åˆ«è¡¨ç¤ºå½“å‰æ‰§è¡Œçš„å…ƒç´ çš„å€¼ï¼Œå½“å‰å€¼çš„ç´¢å¼•å’Œæ•°ç»„æœ¬èº«ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">     arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(index + <span class="string">":"</span> + element);</span><br><span class="line">     });</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨map-å‡½æ•°"><a href="#ä½¿ç”¨map-å‡½æ•°" class="headerlink" title="ä½¿ç”¨map( )å‡½æ•°"></a>ä½¿ç”¨<code>map( )</code>å‡½æ•°</h4><p>`m</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">  <span class="keyword">var</span> result = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(index);</span><br><span class="line">    <span class="keyword">return</span> element * element;</span><br><span class="line">  });</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"result: ==="</span>, result);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä½¿ç”¨<code>map</code>å‡½æ•°çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼šåœ¨<code>map( )</code>å‡½æ•°çš„å›è°ƒå‡½æ•°ä¸­éœ€è¦é€šè¿‡<code>return</code>å°†å¤„ç†åçš„å€¼è¿›è¡Œè¿”å›ï¼Œå¦åˆ™ä¼šè¿”å›<code>undefined</code>.</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">    <span class="keyword">var</span> result = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">      <span class="comment">// console.log(index);</span></span><br><span class="line">      element * element;</span><br><span class="line">    });</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"result: ==="</span>, result);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„è®¡ç®—ä¸­ï¼Œå°†<code>return</code>å…³é”®å­—çœç•¥äº†ï¼Œæœ€ç»ˆè¿”å›çš„ç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>]</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨some-å‡½æ•°ä¸every-å‡½æ•°"><a href="#ä½¿ç”¨some-å‡½æ•°ä¸every-å‡½æ•°" class="headerlink" title="ä½¿ç”¨some( )å‡½æ•°ä¸every( )å‡½æ•°"></a>ä½¿ç”¨<code>some( )</code>å‡½æ•°ä¸<code>every( )</code>å‡½æ•°</h4><p><code>some( )</code>å‡½æ•°ä¸<code>every( )</code>å‡½æ•°çš„ç›¸ä¼¼ä¹‹å¤„éƒ½æ˜¯åœ¨å¯¹æ•°ç»„è¿›è¡Œéå†çš„è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œå¦‚æœæœ‰æ»¡è¶³æ¡ä»¶çš„å°±è¿”å›<code>true</code>,å¦åˆ™è¿”å›<code>false</code>.</p>
<p><code>some()</code>ä¸<code>every()</code>çš„åŒºåˆ«åœ¨äº:<code>some( )</code>å‡½æ•°åªè¦æ•°ç»„ä¸­æŸä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶å°±è¿”å›<code>true</code>,ä¸ä¼šåœ¨å¯¹åé¢çš„å…ƒç´ è¿›è¡Œåˆ¤æ–­ã€‚è€Œ<code>every( )</code>å‡½æ•°æ˜¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½è¦æ»¡è¶³æ¡ä»¶æ—¶æ‰ä¼šè¿”å›<code>true</code>.</p>
<p>ä¾‹å¦‚ï¼šè¦åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æœ‰å¤§äº6çš„å…ƒç´ çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡<code>some( )</code>å‡½æ•°æ¥å¤„ç†ã€‚</p>
<p>è€Œè¦åˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦æ‰€æœ‰çš„å…ƒç´ éƒ½å¤§äº6ï¼Œåˆ™éœ€è¦é€šè¿‡<code>every( )</code>å‡½æ•°æ¥å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">element, index, array</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> element &gt; <span class="number">6</span>;</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> result = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].some(fn); <span class="comment">//false</span></span><br><span class="line">   <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> result = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>].some(fn);</span><br><span class="line">    <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æµ‹è¯•ä¸€ä¸‹<code>every( )</code>å‡½æ•°</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">element, index, array</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> element &gt; <span class="number">6</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> result = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>].every(fn); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢ä¿®æ”¹ä¸€ä¸‹æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">element, index, array</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> element &gt; <span class="number">6</span>;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> result = [<span class="number">7</span>, <span class="number">8</span>].every(fn); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨æ•°ç»„ä¸­çš„å…ƒç´ çš„å€¼éƒ½æ˜¯å¤§äº6ï¼Œæ‰€ä»¥è¿”å›çš„ç»“æœä¸º<code>true</code>.</p>
<h4 id="ä½¿ç”¨find-å‡½æ•°"><a href="#ä½¿ç”¨find-å‡½æ•°" class="headerlink" title="ä½¿ç”¨find( )å‡½æ•°"></a>ä½¿ç”¨<code>find( )</code>å‡½æ•°</h4><p><code>find( )</code> å‡½æ•°ç”¨äºæ•°ç»„çš„éå†ï¼Œå½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å€¼æ—¶ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å…ƒç´ å€¼ï¼Œå¦‚æœéƒ½æ‰¾ä¸åˆ°æ»¡è¶³æ¡ä»¶çš„ï¼Œåˆ™è¿”å›<code>undefined</code>.</p>
<p><code>find( )</code>æ–¹æ³•çš„å‚æ•°ä¸<code>forEach</code>æ˜¯ä¸€æ ·çš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">  <span class="keyword">const</span> result = arr.find(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">6</span>;</span><br><span class="line">  });</span><br><span class="line">  <span class="built_in">console</span>.log(result); <span class="comment">// 90                                                                   </span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">  <span class="keyword">const</span> result = arr.find(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">100</span>; <span class="comment">//undefined</span></span><br><span class="line">  });</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨çš„æ•°ç»„éå†çš„æ–¹å¼ã€‚å½“ç„¶è¿˜æœ‰æˆ‘ä»¬å‰é¢è®²è§£è¿‡çš„<code>filter</code>ï¼Œ<code>reduce</code>å‡½æ•°ã€‚</p>
<h3 id="æ‰‹åŠ¨å®ç°findæ–¹æ³•"><a href="#æ‰‹åŠ¨å®ç°findæ–¹æ³•" class="headerlink" title="æ‰‹åŠ¨å®ç°findæ–¹æ³•"></a>æ‰‹åŠ¨å®ç°<code>find</code>æ–¹æ³•</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script&gt;</span><br><span class="line">      <span class="built_in">Array</span>.prototype.findTest = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) {</span><br><span class="line">          <span class="keyword">var</span> f = fn(<span class="built_in">this</span>[i]);<span class="comment">//æŠŠæ•°ç»„å…ƒç´ ä¼ é€’åˆ°å‡½æ•°ä¸­</span></span><br><span class="line">          <span class="keyword">if</span> (f) { <span class="comment">//å¦‚æœå‡½æ•°çš„è¿”å›å€¼ä¸ºtrue</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>[i]; <span class="comment">//åˆ™è¿”å›å¯¹åº”çš„æ•°ç»„å…ƒç´ </span></span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">      <span class="keyword">var</span> result = arr.findTest(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> item &gt; <span class="number">6</span>;</span><br><span class="line">      });</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‰‹åŠ¨å®ç°filteræ–¹æ³•"><a href="#æ‰‹åŠ¨å®ç°filteræ–¹æ³•" class="headerlink" title="æ‰‹åŠ¨å®ç°filteræ–¹æ³•"></a>æ‰‹åŠ¨å®ç°filteræ–¹æ³•</h3><p><code>filter</code>å‡½æ•°å†…éƒ¨éœ€è¦ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ï¼Œåœ¨æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ä¼šå°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼ é€’ç»™å›è°ƒå‡½æ•°çš„å‚æ•°ï¼Œåœ¨å›è°ƒå‡½æ•°çš„å‡½æ•°ä½“å†…è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¿”å›çš„æ˜¯<code>true</code>,é‚£ä¹ˆå°†è¯¥å…ƒç´ æ”¾åˆ°æ–°æ•°ç»„<code>arr</code>ä¸­ï¼Œå¦‚æœåˆ¤æ–­çš„ç»“æœä¸º<code>false</code>ï¼Œåˆ™æ•°æ®ä¸ä¼šæ”¾åˆ°æ–°æ•°ç»„<code>arr</code>ä¸­ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¨¡æ‹Ÿå®ç°filterå‡½æ•°</span></span><br><span class="line">     <span class="built_in">Array</span>.prototype.filterOne = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> newArray = [];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) {</span><br><span class="line">         <span class="keyword">var</span> f = fn(<span class="built_in">this</span>[i]);</span><br><span class="line">         <span class="keyword">if</span> (f) {</span><br><span class="line">           newArray.push(<span class="built_in">this</span>[i]);</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> newArray;</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">var</span> array = [<span class="number">65</span>, <span class="number">56</span>, <span class="number">89</span>, <span class="number">53</span>];</span><br><span class="line">     <span class="keyword">var</span> arr = array.filterOne(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> item &gt;= <span class="number">60</span>;</span><br><span class="line">     });</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"arr="</span>, arr);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‰‹åŠ¨å®ç°someå‡½æ•°"><a href="#æ‰‹åŠ¨å®ç°someå‡½æ•°" class="headerlink" title="æ‰‹åŠ¨å®ç°someå‡½æ•°"></a>æ‰‹åŠ¨å®ç°someå‡½æ•°</h3><p><code>some()</code> æ–¹æ³•è®©æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œåœ¨è¯¥å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œä¸€äº›æ“ä½œï¼Œåªè¦æœ‰ä¸€ä¸ªæ“ä½œç»“æœä¸ºçœŸï¼Œå°±ä¼šè¿”å›trueã€‚ä¸ä¼šåœ¨å¯¹åé¢çš„å…ƒç´ è¿›è¡Œåˆ¤æ–­,å¦åˆ™è¿”å›falseã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰‹åŠ¨æ¨¡å¼someæ–¹æ³•</span></span><br><span class="line">   <span class="built_in">Array</span>.prototype.someTest = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) {</span><br><span class="line">       <span class="keyword">let</span> f = fn(<span class="built_in">this</span>[i]);</span><br><span class="line">       <span class="keyword">if</span> (f) {</span><br><span class="line">         <span class="keyword">return</span> f;</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">let</span> array = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">90</span>];</span><br><span class="line">   <span class="keyword">let</span> result = array.someTest(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> item &gt; <span class="number">10</span>;</span><br><span class="line">   });</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"result="</span>, result);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‰‹åŠ¨å®ç°everyå‡½æ•°"><a href="#æ‰‹åŠ¨å®ç°everyå‡½æ•°" class="headerlink" title="æ‰‹åŠ¨å®ç°everyå‡½æ•°"></a>æ‰‹åŠ¨å®ç°everyå‡½æ•°</h3><p>è¯¥æ–¹æ³•ä¸<code>some()</code>æ–¹æ³•ä¸åŒï¼Œ<code>some()</code>æ–¹æ³•åªè¦æœ‰ä¸€ä¸ªç¬¦åˆæ¡ä»¶å°±è¿”å›true,è€Œ <code>every()</code> æ–¹æ³•æ˜¯æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½è¦ç¬¦åˆæŒ‡å®šçš„æ¡ä»¶ï¼Œæ‰ä¼šè¿”å›true.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰‹åŠ¨æ¨¡æ‹Ÿå®ç°`every`æ–¹æ³•</span></span><br><span class="line">    <span class="built_in">Array</span>.prototype.everyTest = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">      <span class="keyword">let</span> f = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) {</span><br><span class="line">        <span class="keyword">let</span> f = fn(<span class="built_in">this</span>[i]);</span><br><span class="line">        <span class="keyword">if</span> (!f) {</span><br><span class="line">          <span class="comment">//åªè¦æœ‰ä¸€ä¸ªä¸ç¬¦åˆï¼Œå°±ç«‹å³è¿”å›false.</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> f;</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">let</span> array = [<span class="number">11</span>, <span class="number">31</span>, <span class="number">5</span>, <span class="number">71</span>, <span class="number">90</span>];</span><br><span class="line">    <span class="keyword">let</span> result = array.everyTest(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> item &gt; <span class="number">10</span>;</span><br><span class="line">    });</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"result="</span>, result); <span class="comment">//false</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‰‹åŠ¨å®ç°mapæ–¹æ³•"><a href="#æ‰‹åŠ¨å®ç°mapæ–¹æ³•" class="headerlink" title="æ‰‹åŠ¨å®ç°mapæ–¹æ³•"></a>æ‰‹åŠ¨å®ç°mapæ–¹æ³•</h3><p><code>map( )</code>å‡½æ•°åœ¨å¯¹æ•°æ®è¿›è¡Œéå†çš„æ—¶å€™ï¼Œä¼šå°†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åšç›¸åº”çš„å¤„ç†ï¼Œç„¶åå¾—åˆ°æ–°çš„å…ƒç´ ï¼Œ<strong>å¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„</strong>ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰‹åŠ¨å®ç°mapæ–¹æ³•</span></span><br><span class="line">      <span class="built_in">Array</span>.prototype.mapTest = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>{</span><br><span class="line">        <span class="keyword">let</span> newArray = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) {</span><br><span class="line">          <span class="keyword">let</span> f = fn(<span class="built_in">this</span>[i], i, <span class="built_in">this</span>);</span><br><span class="line">          newArray.push(f);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> newArray;</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">90</span>, <span class="number">23</span>];</span><br><span class="line">      <span class="keyword">var</span> result = arr.mapTest(<span class="function"><span class="keyword">function</span> (<span class="params">element, index, array</span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(index);</span><br><span class="line">        <span class="keyword">return</span> element * element;</span><br><span class="line">      });</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"result: ==="</span>, result);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‰‹åŠ¨å®ç°reduceæ–¹æ³•"><a href="#æ‰‹åŠ¨å®ç°reduceæ–¹æ³•" class="headerlink" title="æ‰‹åŠ¨å®ç°reduceæ–¹æ³•"></a>æ‰‹åŠ¨å®ç°reduceæ–¹æ³•</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.reduceTest = <span class="function"><span class="keyword">function</span> (<span class="params">fn, initialValue</span>) </span>{</span><br><span class="line">       <span class="comment">//å¦‚æœæ²¡æœ‰ä¼ é€’initialValue,æˆ‘ä»¬å°†ä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€é¡¹ä½œä¸ºinitialValueçš„å€¼</span></span><br><span class="line">       <span class="keyword">let</span> hasInitialValue = initialValue !== <span class="literal">undefined</span>;</span><br><span class="line">       <span class="keyword">let</span> value = hasInitialValue ? initialValue : <span class="built_in">this</span>[<span class="number">0</span>];</span><br><span class="line">       <span class="comment">//å¦‚æœæ²¡æœ‰ä¼ é€’initialValue,åˆ™ç´¢å¼•ä»1å¼€å§‹ï¼Œå¦åˆ™ä»0å¼€å§‹</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">let</span> i = hasInitialValue ? <span class="number">0</span> : <span class="number">1</span>, len = <span class="built_in">this</span>.length; i &lt; len; i++) {</span><br><span class="line">         value = fn(value, <span class="built_in">this</span>[i], i, <span class="built_in">this</span>);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> value;</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">     <span class="keyword">var</span> sum = arr.reduceTest(<span class="function"><span class="keyword">function</span> (<span class="params">accumulator, currentValue</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> accumulator + currentValue;</span><br><span class="line">     }, <span class="number">0</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(sum);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ€æ ·å®ç°æ•°ç»„çš„å»é‡"><a href="#æ€æ ·å®ç°æ•°ç»„çš„å»é‡" class="headerlink" title="æ€æ ·å®ç°æ•°ç»„çš„å»é‡"></a>æ€æ ·å®ç°æ•°ç»„çš„å»é‡</h3><p>æ•°ç»„å»é‡æ˜¯æŒ‡å½“æ•°ç»„ä¸­å‡ºç°é‡å¤çš„å…ƒç´ çš„æ—¶å€™ï¼Œé€šè¿‡ä¸€å®šçš„æ–¹å¼ï¼Œå°†é‡å¤çš„å…ƒç´ å»æ‰ã€‚</p>
<h4 id="åˆ©ç”¨æ•°ç»„éå†å»é‡"><a href="#åˆ©ç”¨æ•°ç»„éå†å»é‡" class="headerlink" title="åˆ©ç”¨æ•°ç»„éå†å»é‡"></a>åˆ©ç”¨æ•°ç»„éå†å»é‡</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„å»é‡</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">array</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> newArray = [];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) {</span><br><span class="line">         <span class="keyword">if</span> (newArray.indexOf(array[i]) === -<span class="number">1</span>) {</span><br><span class="line">           newArray.push(array[i]);</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> newArray;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">     <span class="built_in">console</span>.log(fn(arr));</span><br></pre></td></tr></tbody></table></figure>

<h4 id="åˆ©ç”¨é”®å€¼å¯¹å»é‡"><a href="#åˆ©ç”¨é”®å€¼å¯¹å»é‡" class="headerlink" title="åˆ©ç”¨é”®å€¼å¯¹å»é‡"></a>åˆ©ç”¨é”®å€¼å¯¹å»é‡</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">array</span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> obj = {},</span><br><span class="line">       result = [],</span><br><span class="line">       val;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) {</span><br><span class="line">       val = array[i];</span><br><span class="line">       <span class="keyword">if</span> (!obj[val]) {<span class="comment">//æ ¹æ®keyè·å–objå¯¹è±¡ä¸­çš„å€¼</span></span><br><span class="line">         obj[val] = <span class="string">"ok"</span>; <span class="comment">//è¡¨ç¤ºè¯¥å…ƒç´ å·²ç»å‡ºç°äº†</span></span><br><span class="line">         result.push(val);</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> result;</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">   <span class="built_in">console</span>.log(fn(arr));</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">array</span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> obj = {},</span><br><span class="line">    result = [],</span><br><span class="line">    val,</span><br><span class="line">    type;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) {</span><br><span class="line">    val = array[i];</span><br><span class="line">    type = <span class="keyword">typeof</span> val;</span><br><span class="line">    <span class="keyword">if</span> (!obj[val]) {</span><br><span class="line">      obj[val] = [type];</span><br><span class="line">      result.push(val);</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (obj[val].indexOf(type) &lt; <span class="number">0</span>) {</span><br><span class="line">      obj[val].push(type);</span><br><span class="line">      result.push(val);</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="string">"6"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(fn(arr));</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ä½¿ç”¨Setæ•°æ®ç»“æ„å»é‡"><a href="#ä½¿ç”¨Setæ•°æ®ç»“æ„å»é‡" class="headerlink" title="ä½¿ç”¨Setæ•°æ®ç»“æ„å»é‡"></a>ä½¿ç”¨<code>Set</code>æ•°æ®ç»“æ„å»é‡</h4><p>å…·ä½“çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arr</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr));</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">console</span>.log(fn([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="string">"6"</span>]));</span><br></pre></td></tr></tbody></table></figure>



<h3 id="æ€æ ·è·å–æ•°ç»„ä¸­æœ€å¤šçš„å…ƒç´ "><a href="#æ€æ ·è·å–æ•°ç»„ä¸­æœ€å¤šçš„å…ƒç´ " class="headerlink" title="æ€æ ·è·å–æ•°ç»„ä¸­æœ€å¤šçš„å…ƒç´ "></a>æ€æ ·è·å–æ•°ç»„ä¸­æœ€å¤šçš„å…ƒç´ </h3><h4 id="åˆ©ç”¨é”®å€¼å¯¹å®ç°"><a href="#åˆ©ç”¨é”®å€¼å¯¹å®ç°" class="headerlink" title="åˆ©ç”¨é”®å€¼å¯¹å®ç°"></a>åˆ©ç”¨é”®å€¼å¯¹å®ç°</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arr</span>) </span>{</span><br><span class="line">        <span class="comment">//å¦‚æœæ•°ç»„ä¸­æ²¡æœ‰å€¼ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (!arr.length) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">//å¦‚æœåªæœ‰ä¸€ä¸ªå€¼ï¼Œè¿”å›1ï¼Œè¡¨ç¤ºå‡ºç°äº†1æ¬¡</span></span><br><span class="line">        <span class="keyword">if</span> (arr.length === <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> result = {};</span><br><span class="line">        <span class="comment">//å¯¹æ•°ç»„è¿›è¡Œéå†</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">          <span class="keyword">if</span> (!result[arr[i]]) {</span><br><span class="line">            result[arr[i]] = <span class="number">1</span>;</span><br><span class="line">          } <span class="keyword">else</span> {</span><br><span class="line">            result[arr[i]]++;</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//éå†resultå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(result);</span><br><span class="line">        <span class="keyword">var</span> maxNum = <span class="number">0</span>,</span><br><span class="line">          maxElement;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; keys.length; i++) {</span><br><span class="line">          <span class="keyword">if</span> (result[keys[i]] &gt; maxNum) {</span><br><span class="line">            maxNum = result[keys[i]];</span><br><span class="line">            maxElement = keys[i];</span><br><span class="line">          }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">          <span class="string">"åœ¨æ•°ç»„ä¸­å‡ºç°æœ€å¤šçš„å…ƒç´ æ˜¯"</span> + maxElement + <span class="string">",å…±å‡ºç°äº†"</span> + maxNum + <span class="string">"æ¬¡"</span></span><br><span class="line">        );</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line">      <span class="built_in">console</span>.log(fn(array));</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="ç®—æ³•ä¼˜åŒ–"><a href="#ç®—æ³•ä¼˜åŒ–" class="headerlink" title="ç®—æ³•ä¼˜åŒ–"></a>ç®—æ³•ä¼˜åŒ–</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">array</span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> result = {};</span><br><span class="line">      <span class="keyword">var</span> maxNum = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">var</span> maxElement = <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) {</span><br><span class="line">        <span class="keyword">var</span> val = array[i];</span><br><span class="line">        result[val] === <span class="literal">undefined</span> ? (result[val] = <span class="number">1</span>) : result[val]++;</span><br><span class="line">        <span class="keyword">if</span> (result[val] &gt; maxNum) {</span><br><span class="line">          maxNum = result[val];</span><br><span class="line">          maxElement = val;</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        <span class="string">"åœ¨æ•°ç»„ä¸­å‡ºç°æœ€å¤šçš„å…ƒç´ æ˜¯"</span> + maxElement + <span class="string">",å…±å‡ºç°äº†"</span> + maxNum + <span class="string">"æ¬¡"</span></span><br><span class="line">      );</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(fn(array));</span><br></pre></td></tr></tbody></table></figure>

<h1 id="ä¸‰ã€å‡½æ•°"><a href="#ä¸‰ã€å‡½æ•°" class="headerlink" title="ä¸‰ã€å‡½æ•°"></a>ä¸‰ã€å‡½æ•°</h1><h2 id="å‡½æ•°å®šä¹‰æœ‰å“ªå‡ ç§å®ç°æ–¹å¼"><a href="#å‡½æ•°å®šä¹‰æœ‰å“ªå‡ ç§å®ç°æ–¹å¼" class="headerlink" title="å‡½æ•°å®šä¹‰æœ‰å“ªå‡ ç§å®ç°æ–¹å¼"></a>å‡½æ•°å®šä¹‰æœ‰å“ªå‡ ç§å®ç°æ–¹å¼</h2><p>åœ¨ä½¿ç”¨å‡½æ•°å‰ï¼Œå…ˆéœ€è¦å¯¹å‡½æ•°è¿›è¡Œå®šä¹‰ã€‚å…³äºå‡½æ•°çš„å®šä¹‰æ€»ä½“ä¸Šå¯ä»¥åˆ†ä¸ºä¸‰ç±»ã€‚</p>
<p>ç¬¬ä¸€ç±»æ˜¯å‡½æ•°å£°æ˜ã€‚</p>
<p>ç¬¬äºŒç±»æ˜¯å‡½æ•°è¡¨è¾¾å¼</p>
<p>ç¬¬ä¸‰ç±»æ˜¯é€šè¿‡<code>Function</code>æ„é€ å‡½æ•°æ¥å®Œæˆå‡½æ•°çš„å®šä¹‰ã€‚</p>
<p>é¦–å…ˆæ¥çœ‹ä¸€ä¸‹<strong>å‡½æ•°çš„å£°æ˜</strong>ã€‚</p>
<p>å‡½æ•°å£°æ˜æ˜¯ç›´æ¥é€šè¿‡<code>function</code>å…³é”®å­—æ¥ä¸€ä¸ªå‡½æ•°åï¼ŒåŒæ—¶å¯ä»¥æ¥æ”¶å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>)</span>{</span><br><span class="line">     <span class="keyword">return</span> num1 + num2</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><strong>å‡½æ•°è¡¨è¾¾å¼</strong></p>
<p>å‡½æ•°è¡¨è¾¾å¼çš„å½¢å¼ç±»ä¼¼äºæ™®é€šå˜é‡çš„åˆå§‹åŒ–ï¼Œåªä¸è¿‡è¿™ä¸ªå˜é‡åˆå§‹åŒ–çš„å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum =  <span class="function"><span class="keyword">function</span> (<span class="params">num1,num2</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼æ²¡æœ‰åç§°ï¼Œå±äºåŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€‚</p>
<p><strong><code>Function( )</code>æ„é€ å‡½æ•°</strong></p>
<p>ä½¿ç”¨<code>new</code>æ“ä½œç¬¦ï¼Œè°ƒç”¨<code>Function( )</code>æ„é€ å‡½æ•°ï¼Œä¼ å…¥å‚æ•°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'num1'</span>,<span class="string">'num2'</span>, <span class="string">'return a+b '</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å…¶ä¸­çš„å‚æ•°ï¼Œé™¤äº†æœ€åä¸€ä¸ªå‚æ•°æ˜¯è¦æ‰§è¡Œçš„å‡½æ•°ä½“ï¼Œå…¶å®ƒçš„å‚æ•°éƒ½æ˜¯å‡½æ•°çš„å½¢å‚ã€‚</p>
<h2 id="Function-æ„é€ å‡½æ•°å®šä¹‰å‡½æ•°çš„é—®é¢˜"><a href="#Function-æ„é€ å‡½æ•°å®šä¹‰å‡½æ•°çš„é—®é¢˜" class="headerlink" title="Function( )æ„é€ å‡½æ•°å®šä¹‰å‡½æ•°çš„é—®é¢˜"></a>Function( )æ„é€ å‡½æ•°å®šä¹‰å‡½æ•°çš„é—®é¢˜</h2><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å®é™…çš„åº”ç”¨ä¸­å¾ˆå°‘ä½¿ç”¨<code>Function( )</code>æ„é€ å‡½æ•°æ¥å®ç°å¯¹å‡½æ•°çš„å®šä¹‰ã€‚</p>
<p>åŸå› æ˜¯ï¼š</p>
<p>ç¬¬ä¸€ï¼š<code>Function( )</code> æ„é€ å‡½æ•°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œéƒ½ä¼šè§£æå‡½æ•°ä½“ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°å¯¹è±¡ï¼Œæ‰€ä»¥å½“åœ¨ä¸€ä¸ªå¾ªç¯æˆ–è€…æ˜¯ä¸€ä¸ªé¢‘ç¹æ‰§è¡Œçš„å‡½æ•°ä¸­å»ä½¿ç”¨<code>Function( )</code>æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œç›¸å¯¹æ¥è¯´æ€§èƒ½æ˜¯æ¯”è¾ƒä½çš„ã€‚</p>
<p>ç¬¬äºŒï¼šé€šè¿‡<code>Function( )</code> æ„é€ å‡½æ•°åˆ›å»ºçš„å‡½æ•°ï¼Œå¹¶ä¸éµå¾ªå…¸å‹çš„ä½œç”¨åŸŸã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"12"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">"11"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"return a"</span>);</span><br><span class="line">  }</span><br><span class="line">  <span class="built_in">console</span>.log(fun()());</span><br></pre></td></tr></tbody></table></figure>

<h2 id="å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯"><a href="#å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯" class="headerlink" title="å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯"></a>å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯</h2><p>å…³äºå‡½æ•°è¡¨è¾¾å¼éå¸¸å…¸å‹çš„åº”ç”¨å°±æ˜¯å®ç°äº†å—çº§ä½œç”¨åŸŸ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> _name = <span class="string">""</span>;</span><br><span class="line">      <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">getName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">return</span> _name;</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">setName</span>: <span class="function"><span class="keyword">function</span> (<span class="params">userName</span>) </span>{</span><br><span class="line">          _name = userName;</span><br><span class="line">        },</span><br><span class="line">      };</span><br><span class="line">    })();</span><br><span class="line">    person.setName(<span class="string">"zhangsan"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(person.getName());</span><br></pre></td></tr></tbody></table></figure>



<h2 id="å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«"><a href="#å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«" class="headerlink" title="å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«"></a>å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«</h2><p>å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼è™½ç„¶æ˜¯ä¸¤ç§å®šä¹‰å‡½æ•°çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸¤è€…ä¹‹é—´è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p>
<p>ç¬¬ä¸€ç‚¹å°±æ˜¯ï¼šå‡½æ•°åç§°</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜ï¼Œå‡½æ•°åç§°sumæ˜¯å¿…é¡»çš„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">num1,num2</span>)</span>{</span><br><span class="line">	<span class="keyword">return</span> num1 + num2 </span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ²¡æœ‰å‡½æ•°åç§°çš„åŒ¿åå‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">num1,num2</span>)</span>{</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒç‚¹å°±æ˜¯å…³äºï¼šå‡½æ•°æå‡</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">3</span>, <span class="number">6</span>)); <span class="comment">// Uncaught TypeError: sum is not a function</span></span><br><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">num1, num2</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>



<h2 id="å‡½æ•°å¸¸è§çš„è°ƒç”¨æ¨¡å¼æœ‰å“ªäº›"><a href="#å‡½æ•°å¸¸è§çš„è°ƒç”¨æ¨¡å¼æœ‰å“ªäº›" class="headerlink" title="å‡½æ•°å¸¸è§çš„è°ƒç”¨æ¨¡å¼æœ‰å“ªäº›"></a>å‡½æ•°å¸¸è§çš„è°ƒç”¨æ¨¡å¼æœ‰å“ªäº›</h2><p><strong>å‡½æ•°è°ƒç”¨æ¨¡å¼</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> num1 + num2;</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line">     <span class="keyword">var</span> sum = <span class="function"><span class="keyword">function</span> (<span class="params">num1, num2</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> num1 + num2;</span><br><span class="line">     };</span><br><span class="line"></span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">1</span>, <span class="number">2</span>)); </span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">3</span>, <span class="number">6</span>));</span><br></pre></td></tr></tbody></table></figure>

<p><strong>æ–¹æ³•è°ƒç”¨æ¨¡å¼</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">   <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">   <span class="attr">getUserName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">   },</span><br><span class="line"> };</span><br><span class="line"> <span class="built_in">console</span>.log(obj.getUserName());</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">       <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">       <span class="attr">getUserName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="comment">// console.log(obj.getUserName());</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj[<span class="string">"getUserName"</span>]());</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">     <span class="attr">getUserName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">     },</span><br><span class="line">     <span class="attr">setUserName</span>: <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = name;</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">     },</span><br><span class="line">   };</span><br><span class="line">   <span class="built_in">console</span>.log(obj.setUserName(<span class="string">"lisi"</span>).getUserName());<span class="comment">// lisi</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>æ„é€ å™¨(æ„é€ å‡½æ•°)è°ƒç”¨æ¨¡å¼</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.userName = name; <span class="comment">//å®šä¹‰å±æ€§</span></span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// åœ¨åŸå‹ä¸Šå®šä¹‰å‡½æ•°</span></span><br><span class="line">    Person.prototype.getUserName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">// é€šè¿‡newæ¥åˆ›å»ºå®ä¾‹</span></span><br><span class="line">    <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">    <span class="comment">// è°ƒç”¨åŸå‹ä¸Šçš„æ–¹æ³•</span></span><br><span class="line">    <span class="built_in">console</span>.log(p.getUserName());</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> num1 + num2;</span><br><span class="line">   }</span><br><span class="line">   <span class="comment">//å®šä¹‰ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">   <span class="keyword">var</span> obj = {};</span><br><span class="line">   <span class="comment">//é€šè¿‡call()å’Œapply( )å‡½æ•°è°ƒç”¨sum( )å‡½æ•°</span></span><br><span class="line">   <span class="built_in">console</span>.log(sum.call(obj, <span class="number">2</span>, <span class="number">6</span>));</span><br><span class="line">   <span class="built_in">console</span>.log(sum.apply(obj, [<span class="number">3</span>, <span class="number">6</span>]));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>åŒ¿åå‡½æ•°è°ƒç”¨æ¨¡å¼</strong></p>
<p>æ‰€è°“çš„åŒ¿åå‡½æ•°ï¼Œå°±æ˜¯æ²¡æœ‰å‡½æ•°åç§°çš„å‡½æ•°ã€‚åŒ¿åå‡½æ•°çš„è°ƒç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å®šä¹‰å‡½æ•°ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡ï¼Œé€šè¿‡å˜é‡è¿›è¡Œè°ƒç”¨ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€šè¿‡å‡½æ•°è¡¨è¾¾å¼å®šä¹‰åŒ¿åå‡½æ•°ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡sum</span></span><br><span class="line"><span class="keyword">var</span> sum =funciton (num1,num2){</span><br><span class="line">    <span class="keyword">return</span> num1 + num2</span><br><span class="line">}</span><br><span class="line"><span class="comment">// é€šè¿‡sumæ¥è¿›è¡Œè°ƒç”¨</span></span><br><span class="line">sum(<span class="number">2</span>,<span class="number">6</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦å¤–ä¸€ç§æ˜¯ä½¿ç”¨å°æ‹¬å·<code>()</code>å°†åŒ¿åå‡½æ•°æ‹¬èµ·æ¥ï¼Œç„¶ååœ¨åé¢ä½¿ç”¨å°æ‹¬å·<code>( )</code>,ä¼ é€’å¯¹åº”çš„å‚æ•°ä»è€Œå®Œæˆå¯¹åº”çš„è°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">num1, num2</span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">     })(<span class="number">2</span>, <span class="number">6</span>);</span><br></pre></td></tr></tbody></table></figure>



<h2 id="å®å‚ä¸å½¢å‚æœ‰å“ªäº›åŒºåˆ«"><a href="#å®å‚ä¸å½¢å‚æœ‰å“ªäº›åŒºåˆ«" class="headerlink" title="å®å‚ä¸å½¢å‚æœ‰å“ªäº›åŒºåˆ«"></a>å®å‚ä¸å½¢å‚æœ‰å“ªäº›åŒºåˆ«</h2><p>ç¬¬ä¸€ï¼šåœ¨å‡½æ•°çš„è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œæ•°æ®ä¼ é€’æ˜¯å•å‘çš„ï¼Œä¹Ÿå°±æ˜¯åªèƒ½æŠŠå®å‚çš„å€¼ä¼ é€’ç»™å½¢å‚ï¼Œè€Œä¸èƒ½æŠŠå½¢å‚çš„å€¼åå‘ä¼ é€’ç»™å®å‚</p>
<p>ç¬¬äºŒï¼šå½“å®å‚æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼çš„æ—¶å€™ï¼Œåœ¨å‘å½¢å‚ä¼ é€’çš„æ—¶å€™ï¼Œå®é™…ä¸Šæ˜¯å°†å®å‚çš„å€¼å¤åˆ¶ä¸€ä»½ä¼ é€’ç»™å½¢å‚ï¼Œåœ¨å‡½æ•°è¿è¡Œç»“æŸä»¥å</p>
<p>å½¢å‚é‡Šæ”¾ï¼Œè€Œå®å‚ä¸­çš„å€¼ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å½“å®å‚æ˜¯å¼•ç”¨ç±»å‹çš„å€¼çš„æ—¶å€™ï¼Œå®é™…æ˜¯å°†å®å‚çš„å†…å­˜åœ°å€ä¼ é€’ç»™å½¢å‚ï¼Œå³å®å‚ä¸å½¢å‚éƒ½æŒ‡å‘äº†</p>
<p>ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶å½¢å‚å¯ä»¥ä¿®æ”¹å®å‚çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = { <span class="attr">age</span>: <span class="number">21</span> };</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">       obj.age = <span class="number">22</span>;</span><br><span class="line">     }</span><br><span class="line">     fn(person);</span><br><span class="line">     <span class="built_in">console</span>.log(person.age);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šå‡½æ•°å¯ä»¥ä¸ç”¨å®šä¹‰å½¢å‚ï¼Œåœ¨å‡½æ•°ä½“ä¸­å¯ä»¥é€šè¿‡<code>arguments</code>å¯¹è±¡è·å–ä¼ é€’è¿‡æ¥çš„å®å‚çš„å€¼ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚</p>
<p>ç¬¬å››ï¼šåœ¨å‡½æ•°å®šä¹‰å½¢å‚æ—¶ï¼Œå½¢å‚çš„ä¸ªæ•°å¹¶ä¸€å®šè¦å’Œå®å‚çš„ä¸ªæ•°ç›¸åŒï¼Œå®å‚ä¸å½¢å‚ä¼šæŒ‰ç…§ä»å‰å‘åçš„é¡ºåºè¿›è¡ŒåŒ¹é…ï¼Œæ²¡æœ‰åŒ¹é…åˆ°çš„å½¢å‚è¢«å½“ä½œ<code>undefined</code>æ¥å¤„ç†ã€‚</p>
<p>ç¬¬äº”ï¼šå®å‚å¹¶ä¸éœ€è¦ä¸å½¢å‚çš„æ•°æ®ç±»å‹ä¸€è‡´ï¼Œå› ä¸ºå½¢å‚çš„æ•°æ®ç±»å‹åªèƒ½åœ¨æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½å¤Ÿè¢«ç¡®å®šï¼Œå› ä¸ºä¼šé€šè¿‡éšå¼æ•°æ®ç±»å‹çš„è½¬æ¢ã€‚</p>
<h2 id="ä»‹ç»ä¸€ä¸‹argumentså¯¹è±¡"><a href="#ä»‹ç»ä¸€ä¸‹argumentså¯¹è±¡" class="headerlink" title="ä»‹ç»ä¸€ä¸‹argumentså¯¹è±¡"></a>ä»‹ç»ä¸€ä¸‹argumentså¯¹è±¡</h2><p><code>arguments</code>å¯¹è±¡æ˜¯æ‰€æœ‰å‡½æ•°éƒ½å…·æœ‰çš„ä¸€ä¸ªå†…ç½®çš„å±€éƒ¨å˜é‡ï¼Œè¡¨ç¤ºçš„æ˜¯å‡½æ•°å®é™…æ¥æ”¶åˆ°çš„å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„ç»“æ„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬è¯´ä¸€ä¸‹<code>arguments</code>å¯¹è±¡éƒ½å…·æœ‰å“ªäº›æ€§è´¨ã€‚</p>
<p>ç¬¬ä¸€ï¼š<code>arguments</code>å¯¹è±¡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œæ— æ³•åœ¨å‡½æ•°çš„å¤–éƒ¨è®¿é—®åˆ°<code>arguments</code>å¯¹è±¡ã€‚åŒæ—¶<code>arguments</code>å¯¹è±¡å­˜åœ¨äºå‡½æ•°çº§çš„ä½œç”¨åŸŸä¸­ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">arguments</span>); <span class="comment">//Uncaught ReferenceError: arguments is not defined</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</span><br><span class="line">     }</span><br><span class="line">     fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šå¯ä»¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®<code>arguments</code>å¯¹è±¡ä¸­çš„å†…å®¹ï¼Œå› ä¸º<code>arguments</code>å¯¹è±¡ç±»ä¼¼æ•°ç»„ç»“æ„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">0</span>]); <span class="comment">// 1</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>]); <span class="comment">// 2</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">2</span>]); <span class="comment">// undefined</span></span><br><span class="line">     }</span><br><span class="line">     fn(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼š<code>arguments</code> å¯¹è±¡çš„å€¼ç”±å®å‚å†³å®šï¼Œä¸æ˜¯æœ‰å½¢å‚å†³å®šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length); <span class="comment">// 2</span></span><br><span class="line">    }</span><br><span class="line">    fn(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>å› ä¸º<code>arguments</code>å¯¹è±¡çš„<code>length</code>å±æ€§æ˜¯ç”±å®é™…ä¼ é€’çš„å®å‚çš„ä¸ªæ•°å†³å®šçš„ï¼Œæ‰€ä»¥è¿™é‡Œè¾“å‡ºçš„æ˜¯2.</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">    <span class="built_in">arguments</span>[<span class="number">0</span>] = <span class="number">23</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"num1="</span>, num1); <span class="comment">//23</span></span><br><span class="line">    num2 = <span class="number">33</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">1</span>]); <span class="comment">// 33</span></span><br><span class="line">  }</span><br><span class="line">  fn(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">  <span class="comment">// arguments[0] = 23;</span></span><br><span class="line">  <span class="comment">// console.log("num1=", num1); //23</span></span><br><span class="line">  <span class="comment">// num2 = 33;</span></span><br><span class="line">  <span class="comment">// console.log(arguments[1]); // 33</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">arguments</span>[<span class="number">2</span>] = <span class="number">19</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(num3); <span class="comment">//undefined</span></span><br><span class="line">  num3 = <span class="number">10</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">2</span>]); <span class="comment">// 19</span></span><br><span class="line">}</span><br><span class="line">fn(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">       <span class="comment">// arguments[0] = 23;</span></span><br><span class="line">       <span class="comment">// console.log("num1=", num1); //23</span></span><br><span class="line">       <span class="comment">// num2 = 33;</span></span><br><span class="line">       <span class="comment">// console.log(arguments[1]); // 33</span></span><br><span class="line"></span><br><span class="line">       <span class="built_in">arguments</span>[<span class="number">2</span>] = <span class="number">19</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(num3); <span class="comment">//undefined</span></span><br><span class="line">       num3 = <span class="number">10</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">2</span>]); <span class="comment">// 19</span></span><br><span class="line"></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length); <span class="comment">// 2 é•¿åº¦è¿˜æ˜¯2</span></span><br><span class="line">     }</span><br><span class="line">     fn(<span class="number">1</span>, <span class="number">2</span>);</span><br></pre></td></tr></tbody></table></figure>



<h2 id="argumentså¯¹è±¡æœ‰å“ªäº›åº”ç”¨åœºæ™¯"><a href="#argumentså¯¹è±¡æœ‰å“ªäº›åº”ç”¨åœºæ™¯" class="headerlink" title="argumentså¯¹è±¡æœ‰å“ªäº›åº”ç”¨åœºæ™¯"></a>argumentså¯¹è±¡æœ‰å“ªäº›åº”ç”¨åœºæ™¯</h2><p>ç¬¬ä¸€ï¼šè¿›è¡Œå‚æ•°ä¸ªæ•°çš„åˆ¤æ–­ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">      <span class="comment">// åˆ¤æ–­ä¼ é€’çš„å‚æ•°ä¸ªæ•°æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">arguments</span>.length !== <span class="number">3</span>) {</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(</span><br><span class="line">          <span class="string">"å¸Œæœ›ä¼ é€’3ä¸ªå‚æ•°ï¼Œå®é™…ä¼ é€’çš„å‚æ•°ä¸ªæ•°ä¸º:"</span> + <span class="built_in">arguments</span>.length</span><br><span class="line">        );</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">    fn(<span class="number">1</span>, <span class="number">3</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šå¯¹ä»»æ„ä¸ªæ•°å‚æ•°çš„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´åªä¼šå¯¹å‡½æ•°ä¸­å‰å‡ ä¸ªå‚æ•°åšç‰¹å®šå¤„ç†ï¼Œåé¢çš„å‚æ•°ä¸è®ºä¼ é€’å¤šå°‘ä¸ªéƒ½ä¼šç»Ÿä¸€è¿›è¡Œå¤„ç†ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>arguments</code>å¯¹è±¡æ¥å®Œæˆã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">sep</span>) </span>{</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// console.log(arr); // ["a", "b", "c"]</span></span><br><span class="line">      <span class="keyword">return</span> arr.join(sep);</span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">console</span>.log(fn(<span class="string">"-"</span>, <span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>));</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸‰ï¼šæ¨¡æ‹Ÿå‡½æ•°çš„é‡è½½</p>
<p>ä»€ä¹ˆæ˜¯å‡½æ•°çš„é‡è½½å‘¢ï¼Ÿ</p>
<p>å‡½æ•°çš„é‡è½½æŒ‡çš„æ˜¯åœ¨å‡½æ•°åç§°ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„å½¢å‚çš„ç±»å‹ä¸åŒæˆ–è€…æ˜¯ä¸ªæ•°ä¸åŒã€‚</p>
<p>ä½†æ˜¯åœ¨<code>JavaScript</code>ä¸­æ²¡æœ‰å‡½æ•°çš„é‡è½½ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">num1, num2, num3</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> num1 + num2 + num3;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="comment">//å°†argumentså¯¹è±¡è½¬æ¢æˆæ•°ç»„</span></span><br><span class="line">     <span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">     <span class="comment">// console.log(arr);  // [1,2]</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ•°ç»„ä¸­çš„reduceæ–¹æ³•å®Œæˆæ•°æ®çš„è®¡ç®—</span></span><br><span class="line">     <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">pre, currentValue</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> pre + currentValue;</span><br><span class="line">     });</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line">   <span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br><span class="line">   <span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br></pre></td></tr></tbody></table></figure>

<h2 id="è¯´ä¸€ä¸‹æ™®é€šå‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«"><a href="#è¯´ä¸€ä¸‹æ™®é€šå‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«" class="headerlink" title="è¯´ä¸€ä¸‹æ™®é€šå‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«"></a>è¯´ä¸€ä¸‹æ™®é€šå‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«</h2><p>åœ¨<code>JavaScript</code>çš„å‡½æ•°ä¸­ï¼Œæœ‰ä¸€ç±»æ¯”è¾ƒç‰¹æ®Šçš„å‡½æ•°ï¼šâ€™æ„é€ å‡½æ•°â€™ã€‚å½“æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œç»å¸¸ä¼šä½¿ç”¨æ„é€ å‡½æ•°ã€‚</p>
<p>æ„é€ å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«ï¼š</p>
<p>ç¬¬ä¸€ï¼šæ„é€ å‡½æ•°çš„å‡½æ•°åçš„ç¬¬ä¸€å­—æ¯é€šå¸¸ä¼šå¤§å†™ã€‚</p>
<p>ç¬¬äºŒï¼šåœ¨æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨<code>this</code>å…³é”®å­—ï¼Œè¡¨ç¤ºåˆ›ç”Ÿæˆçš„å¯¹è±¡å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">  <span class="built_in">this</span>.userName = userName;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸‰ï¼šåœ¨ä½¿ç”¨æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»ä¸<code>new</code>æ“ä½œç¬¦é…åˆä½¿ç”¨ã€‚</p>
<p>ç¬¬å››ï¼šæ„é€ å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸æ™®é€šå‡½æ•°ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">   <span class="built_in">this</span>.userName = userName;</span><br><span class="line">   <span class="built_in">this</span>.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>.username);</span><br><span class="line">   };</span><br><span class="line"> }</span><br><span class="line"> <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line"> <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>);</span><br><span class="line"> <span class="built_in">console</span>.log(p1.sayHi === p2.sayHi); <span class="comment">// false</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">    <span class="built_in">this</span>.userName = userName;</span><br><span class="line">    <span class="comment">// this.sayHi = function () {</span></span><br><span class="line">    <span class="comment">//   console.log(this.username);</span></span><br><span class="line">    <span class="comment">// };</span></span><br><span class="line">  }</span><br><span class="line">  Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.username);</span><br><span class="line">  };</span><br><span class="line">  <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">  <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(p1.sayHi === p2.sayHi); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°æå‡"><a href="#ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°æå‡" class="headerlink" title="ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°æå‡"></a>ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°æå‡</h2><p>åœ¨<code>javascript</code>ä¸­å­˜åœ¨ä¸€äº›æ¯”è¾ƒå¥‡æ€ªçš„ç°è±¡ã€‚åœ¨ä¸€ä¸ªå‡½æ•°ä½“å†…ï¼Œå˜é‡åœ¨å®šä¹‰ä¹‹å‰å°±å¯ä»¥è¢«è®¿é—®åˆ°ï¼Œè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">   <span class="built_in">console</span>.log(num); <span class="comment">// undefined</span></span><br><span class="line">   <span class="keyword">var</span> num = <span class="number">2</span>;</span><br><span class="line"> }</span><br><span class="line"> fn();</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ ·å‡½æ•°åœ¨å®šä¹‰ä¹‹å‰ä¹Ÿå¯ä»¥è¢«è°ƒç”¨ï¼Œè€Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fn();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¼è‡´å‡ºç°ä»¥ä¸Šæƒ…å†µçš„åŸå› æ˜¯ï¼Œåœ¨<code>javascript</code>ä¸­å­˜åœ¨å˜é‡æå‡ä¸å‡½æ•°æå‡çš„æœºåˆ¶ã€‚</p>
<p>åœ¨è®²è§£å˜é‡æå‡ä¹‹å‰ï¼Œå…ˆæ¥è¯´ä»¥ä½œç”¨åŸŸçš„é—®é¢˜ã€‚</p>
<h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><p>åœ¨<code>JavaScript</code>ä¸­ï¼Œä¸€ä¸ªå˜é‡çš„å®šä¹‰ä¸è°ƒç”¨éƒ½æ˜¯åœ¨ä¸€ä¸ªå›ºå®šçš„èŒƒå›´å†…çš„ï¼Œè¿™ä¸ªèŒƒå›´æˆ‘ä»¬ç§°ä¹‹ä¸ºä½œç”¨åŸŸã€‚</p>
<p>ä½œç”¨åŸŸå¯ä»¥åˆ†ä¸ºå…¨å±€çš„ä½œç”¨åŸŸï¼Œå±€éƒ¨ä½œç”¨åŸŸ(å‡½æ•°ä½œç”¨åŸŸ)å’Œå—çº§ä½œç”¨åŸŸã€‚</p>
<p>å¦‚ä¸‹ç¨‹åºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(userName);</span><br><span class="line">     }</span><br><span class="line">     fn(); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢ï¼Œå†çœ‹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(userName);</span><br><span class="line">    }</span><br><span class="line">    fn(); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç»¼ä¸Šä¸¤ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºï¼Œ<strong>ä½œç”¨åŸŸæœ¬è´¨å°±æ˜¯ä¸€å¥—è§„åˆ™ï¼Œç”¨äºç¡®å®šåœ¨ä½•å¤„ä»¥åŠå¦‚ä½•æŸ¥æ‰¾å˜é‡çš„è§„åˆ™ã€‚</strong></p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„ç»“æ„å›¾ï¼Œæ¥ä½“éªŒä¸€ä¸‹ä½œç”¨åŸŸ</p>
<p><img src="/2020/09/25/JavaScript-1/%E4%BD%9C%E7%94%A8%E5%9F%9F.png"></p>
<ul>
<li>ä½œç”¨åŸŸé“¾</li>
</ul>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å‰é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(userName);</span><br><span class="line">    }</span><br><span class="line">    fn(); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬åœ¨æŸ¥æ‰¾<code>userName</code>è¿™ä¸ªå˜é‡çš„æ—¶å€™ï¼Œç°åœ¨å‡½æ•°çš„ä½œç”¨åŸŸä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œå†å»å…¨å±€ä½œç”¨åŸŸä¸­æŸ¥æ‰¾ã€‚ä½ ä¼šæ³¨æ„åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾€å¤–å±‚æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼Œå³é¡ºç€ä¸€æ¡é“¾æ¡ä»ä¸‹å¾€ä¸ŠæŸ¥æ‰¾å˜é‡ã€‚è¿™ä¸ªé“¾æ¡ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºä½œç”¨åŸŸé“¾ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE.png"></p>
<p>å¯¹åº”çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE2.png"></p>
<h3 id="é¢è¯•ä¸­å…³äºä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾çš„é—®é¢˜"><a href="#é¢è¯•ä¸­å…³äºä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾çš„é—®é¢˜" class="headerlink" title="é¢è¯•ä¸­å…³äºä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾çš„é—®é¢˜"></a>é¢è¯•ä¸­å…³äºä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾çš„é—®é¢˜</h3><p>  ç¬¬ä¸€é¢˜ï¼šä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(a);</span><br><span class="line">     }</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">       fn2();</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">     <span class="keyword">return</span> fn3;</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> fn = fn1();</span><br><span class="line">   fn(); <span class="comment">// 2</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äºŒé¢˜ï¼šä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">4</span>;</span><br><span class="line">      fn2();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> fn3;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> fn = fn1();</span><br><span class="line">  fn(); <span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸‰é¢˜ï¼šä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœä¸º</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(a);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">var</span> a;</span><br><span class="line">        fn2();</span><br><span class="line">        a = <span class="number">4</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">      <span class="keyword">return</span> fn3;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> fn = fn1();</span><br><span class="line">    fn(); <span class="comment">//undefined</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬å››é¢˜ï¼šä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">     bar(); <span class="comment">//10</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(x);</span><br><span class="line">     }</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> x = <span class="number">30</span>;</span><br><span class="line">       foo();</span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äº”é¢˜ï¼š ä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">    bar(); <span class="comment">//30</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> x = <span class="number">30</span>;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(x);</span><br><span class="line">      }</span><br><span class="line">      foo();</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬å…­é¢˜ï¼šä»¥ä¸‹ä»£ç çš„è¾“å‡ºç»“æœä¸º:</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span>;</span><br><span class="line">   bar(); <span class="comment">//30</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> x = <span class="number">30</span>;</span><br><span class="line">     (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(x);</span><br><span class="line">     })();</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h3><p>æ‰€è°“å˜é‡æå‡ï¼Œæ˜¯å°†å˜é‡çš„å£°æ˜æå‡åˆ°å‡½æ•°é¡¶éƒ¨çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯å°†å˜é‡å£°æ˜æå‡åˆ°å˜é‡æ‰€åœ¨çš„ä½œç”¨åŸŸçš„é¡¶ç«¯ï¼Œè€Œå˜é‡çš„èµ‹å€¼å¹¶ä¸ä¼šè¢«æå‡ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello world"</span>;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(str);</span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">"hello vue"</span>;</span><br><span class="line">    })(); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello world"</span>;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> str; <span class="comment">//å˜é‡çš„å£°æ˜å¾—åˆ°æå‡</span></span><br><span class="line">  <span class="built_in">console</span>.log(str);</span><br><span class="line">  str = <span class="string">"hello vue"</span>; <span class="comment">// å˜é‡çš„èµ‹å€¼æ²¡æœ‰å¾—åˆ°æå‡</span></span><br><span class="line">})();</span><br></pre></td></tr></tbody></table></figure>



<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(str);</span><br><span class="line">    str = <span class="string">"hello vue"</span>;</span><br><span class="line">  })(); <span class="comment">// str is not defined</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä»¥ä¸‹ä»£ç çš„æ‰§è¡Œç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(a); <span class="comment">//1</span></span><br><span class="line">      <span class="built_in">console</span>.log(b); <span class="comment">//undefined</span></span><br><span class="line">      <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">    }</span><br><span class="line">    foo();</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ç­‰ä»·äº</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">var</span> a;</span><br><span class="line">  <span class="keyword">var</span> b;</span><br><span class="line">  a = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br><span class="line">  <span class="built_in">console</span>.log(b); <span class="comment">// undefined</span></span><br><span class="line">  b = <span class="number">2</span>;</span><br><span class="line">}</span><br><span class="line">foo();</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å‡½æ•°æå‡"><a href="#å‡½æ•°æå‡" class="headerlink" title="å‡½æ•°æå‡"></a>å‡½æ•°æå‡</h3><p>ä¸ä»…é€šè¿‡<code>var</code>å®šä¹‰çš„å˜é‡ä¼šå‡ºç°æå‡çš„æƒ…å†µï¼Œä½¿ç”¨å‡½æ•°å£°æ˜æ–¹å¼å®šä¹‰çš„å‡½æ•°ä¹Ÿä¼šå‡ºç°æå‡ã€‚</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo(); <span class="comment">// å‡½æ•°æå‡</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">}</span><br><span class="line">foo() <span class="comment">//'hello'</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo(); <span class="comment">// foo is not a function</span></span><br><span class="line">   <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">   };</span><br></pre></td></tr></tbody></table></figure>

<p>çœ‹ä¸€ä¸‹å¦‚ä¸‹ç¨‹åºçš„æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> bar();</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="number">9</span>;</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(foo()); <span class="comment">// 9</span></span><br></pre></td></tr></tbody></table></figure>



<p>å¦‚ä¸‹ç¨‹åºçš„æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line">    foo();</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">if</span> (a) {</span><br><span class="line">        <span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line">      }</span><br><span class="line">      <span class="built_in">console</span>.log(a); <span class="comment">// undefined</span></span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<p>ä»¥ä¸Šçš„ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line">a = <span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">if</span>(a){</span><br><span class="line">        a=<span class="number">20</span></span><br><span class="line">    }</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">}</span><br><span class="line">foo()</span><br></pre></td></tr></tbody></table></figure>



<p>å¦‚ä¸‹ç¨‹åºçš„æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">v</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>{}</span><br><span class="line">     <span class="built_in">console</span>.log(a);</span><br><span class="line">   }</span><br><span class="line">   v(); <span class="comment">// 1</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">typeof</span> foo); <span class="comment">// function</span></span><br><span class="line">       <span class="keyword">var</span> foo = <span class="string">"hello"</span>;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="string">"abc"</span>;</span><br><span class="line">       }</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="keyword">typeof</span> foo); <span class="comment">// string</span></span><br><span class="line">     }</span><br><span class="line">     fn();</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œé¦–å…ˆæ‰“å°çš„æ˜¯<code>function</code>,ç„¶åæ˜¯<code>string</code>.</p>
<p>ä¸Šé¢çš„ä»£ç å®é™…ä¸Šå¯ä»¥ä¿®æ”¹æˆå¦‚ä¸‹çš„ä»£ç æ®µã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// å˜é‡æå‡åˆ°å‡½æ•°çš„é¡¶éƒ¨</span></span><br><span class="line">        <span class="keyword">var</span> foo;</span><br><span class="line">        <span class="comment">// å‡½æ•°æå‡ï¼Œä½†æ˜¯ä¼˜å…ˆçº§ä½ï¼Œæ‰€ä»¥å‡ºç°åœ¨å˜é‡å£°æ˜çš„åé¢ã€‚</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">return</span> <span class="string">"abc"</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> foo); <span class="comment">//function</span></span><br><span class="line">        foo = <span class="string">"hello"</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">typeof</span> foo); <span class="comment">//string</span></span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€æ®µä»£ç ï¼Œçœ‹ä¸€ä¸‹å¯¹åº”çš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>{</span><br><span class="line">         a = <span class="number">10</span>;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>{}</span><br><span class="line">       }</span><br><span class="line">       b();</span><br><span class="line">       <span class="built_in">console</span>.log(a);</span><br><span class="line">     }</span><br><span class="line">     foo(); <span class="comment">//1</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç å¯ä»¥ä¿®æ”¹æˆå¦‚ä¸‹çš„ä»£ç ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">//å˜é‡aæå‡</span></span><br><span class="line">       <span class="keyword">var</span> a;</span><br><span class="line">    <span class="comment">//å‡½æ•°å£°æ˜bçš„æå‡</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>) </span>{</span><br><span class="line">           <span class="comment">//å†…éƒ¨çš„å‡½æ•°å£°æ˜açš„æå‡</span></span><br><span class="line">         <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>{}</span><br><span class="line">           <span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line">         a = <span class="number">10</span>;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">       }</span><br><span class="line">       a = <span class="number">1</span>;</span><br><span class="line">       b();</span><br><span class="line">       <span class="built_in">console</span>.log(a);<span class="comment">//åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œå¯ä»¥æ‰¾åˆ°å˜é‡aï¼Œä¸éœ€è¦è·å–å…¨å±€å˜é‡a,æ‰€ä»¥å…¶å€¼ä¸º1ï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸º1ï¼Œ</span></span><br><span class="line">     }</span><br><span class="line">     foo();</span><br></pre></td></tr></tbody></table></figure>



<h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>åœ¨æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼Œåœ¨å‡½æ•°ä½“ä¸­çš„å±€éƒ¨å˜é‡ä¼šåœ¨è¿™ä¸ªå‡½æ•°çš„ä½œç”¨åŸŸä¸­ä½¿ç”¨ã€‚</p>
<p>ä¸€æ—¦å‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œå‡½æ•°æ‰€å ç”¨çš„ç©ºé—´å°±ä¼šè¢«å›æ”¶ï¼Œå­˜åœ¨äºå‡½æ•°ä½“ä¸­çš„å±€éƒ¨å˜é‡åŒæ ·ä¹Ÿä¼šè¢«å›æ”¶ï¼Œå›æ”¶åå°†ä¸èƒ½è¢«è®¿é—®ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æœŸæœ›åœ¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ä»ç„¶å¯ä»¥è¢«è®¿é—®åˆ°ï¼Œåº”è¯¥æ€æ ·å®ç°å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é—­åŒ…æ¥å®ç°ã€‚</p>
<p>åœ¨è®²è§£é—­åŒ…çš„é—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¯´ä¸€ä¸ªæ¦‚å¿µï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</p>
<h3 id="æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ</h3><p><code>JavaScript</code>çš„æ¯æ®µä»£ç çš„æ‰§è¡Œéƒ½ä¼šå­˜åœ¨äºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚</p>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸”åªæœ‰ä¸‰ç±»ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œä¸<code>eval</code>ä¸Šä¸‹æ–‡ï¼›ç”±äº<code>eval</code>ä¸€èˆ¬ä¸ä¼šä½¿ç”¨ï¼Œè¿™é‡Œä¸åšè®¨è®º</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>) </span>{</span><br><span class="line">    f2();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params"></span>) </span>{</span><br><span class="line">    f3();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">3</span>);</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">f1();<span class="comment">//3 2 1</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ä»¬å‡è®¾æ‰§è¡Œæ ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåœ¨ä»£ç æ‰§è¡ŒåˆæœŸä¸€å®šä¼šåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆï¼Œå› æ­¤è¿‡ç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä»£ç æ‰§è¡Œå‰åˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</span></span><br><span class="line">ECStack = [globalContext];</span><br><span class="line"><span class="comment">// f1è°ƒç”¨</span></span><br><span class="line">ECStack.push(<span class="string">'f1 functionContext'</span>);</span><br><span class="line"><span class="comment">// f1åˆè°ƒç”¨äº†f2ï¼Œf2æ‰§è¡Œå®Œæ¯•ä¹‹å‰æ— æ³•console 1</span></span><br><span class="line">ECStack.push(<span class="string">'f2 functionContext'</span>);</span><br><span class="line"><span class="comment">// f2åˆè°ƒç”¨äº†f3ï¼Œf3æ‰§è¡Œå®Œæ¯•ä¹‹å‰æ— æ³•console 2</span></span><br><span class="line">ECStack.push(<span class="string">'f3 functionContext'</span>);</span><br><span class="line"><span class="comment">// f3æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º3å¹¶å‡ºæ ˆ</span></span><br><span class="line">ECStack.pop();</span><br><span class="line"><span class="comment">// f2æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º2å¹¶å‡ºæ ˆ</span></span><br><span class="line">ECStack.pop();</span><br><span class="line"><span class="comment">// f1æ‰§è¡Œå®Œæ¯•ï¼Œè¾“å‡º1å¹¶å‡ºæ ˆ</span></span><br><span class="line">ECStack.pop();</span><br><span class="line"><span class="comment">// æ­¤æ—¶æ‰§è¡Œæ ˆä¸­åªå‰©ä¸‹ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="ä»€ä¹ˆæ˜¯é—­åŒ…"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…"></a>ä»€ä¹ˆæ˜¯é—­åŒ…</h3><p>å…³äºé—­åŒ…çš„å®˜æ–¹æ¦‚å¿µï¼šä¸€ä¸ªæ‹¥æœ‰è®¸å¤šå˜é‡å’Œç»‘å®šäº†è¿™äº›å˜é‡æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒçš„è¡¨è¾¾å¼ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ç®€å•çš„ç†è§£å°±æ˜¯ï¼šé—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶å®ƒå‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ç”±äºåœ¨<code>JavaScript</code>è¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span> (<span class="params"></span>) </span>{</span><br><span class="line">    ...</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span> (<span class="params"></span>) </span>{</span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥ï¼Œæœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚</p>
<p>é—­åŒ…æœ‰ä¸¤ä¸ªæ¯”è¾ƒæ˜¾è‘—çš„ç‰¹ç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼šå‡½æ•°æ‹¥æœ‰çš„å¤–éƒ¨å˜é‡çš„å¼•ç”¨ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ï¼Œè¯¥å˜é‡ä»ç„¶å¤„äºæ´»è·ƒçŠ¶æ€ã€‚</p>
<p>ç¬¬äºŒï¼šé—­åŒ…ä½œä¸ºä¸€ä¸ªå‡½æ•°è¿”å›æ—¶ï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸ä¼šé”€æ¯ï¼Œä»ç„¶å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ã€‚</p>
<p>åœ¨<code>JavaScript</code>ä¸­å­˜åœ¨ä¸€ç§å†…éƒ¨å‡½æ•°ï¼Œå³å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼å¯ä»¥ä½äºå¦ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°ä½“å†…ï¼Œåœ¨å†…éƒ¨å‡½æ•°ä¸­å¯ä»¥è®¿é—®å¤–éƒ¨å‡½æ•°å£°æ˜çš„å˜é‡ï¼Œå½“è¿™ä¸ªå†…éƒ¨å‡½æ•°åœ¨åŒ…å«å®ƒä»¬å¤–éƒ¨å‡½æ•°ä¹‹å¤–è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šå½¢æˆé—­åŒ…ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">makeFunc</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"Mozilla"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">displayName</span>(<span class="params"></span>) </span>{</span><br><span class="line">        alert(name);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> displayName;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myFunc = makeFunc();</span><br><span class="line">myFunc();</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹å¦å¤–ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> max = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>) </span>{</span><br><span class="line">      <span class="keyword">if</span> (x &gt; max) {</span><br><span class="line">        <span class="built_in">console</span>.log(x);</span><br><span class="line">      }</span><br><span class="line">    };</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> f1 = fn();</span><br><span class="line">  f1(<span class="number">11</span>); <span class="comment">// 11</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="é—­åŒ…çš„åº”ç”¨åœºæ™¯"><a href="#é—­åŒ…çš„åº”ç”¨åœºæ™¯" class="headerlink" title="é—­åŒ…çš„åº”ç”¨åœºæ™¯"></a>é—­åŒ…çš„åº”ç”¨åœºæ™¯</h3><p> <strong>åº”ç”¨ç¼“å­˜</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cacheApp = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> cache = {};</span><br><span class="line">     <span class="keyword">return</span> {</span><br><span class="line">       <span class="attr">getResult</span>: <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>{</span><br><span class="line">         <span class="comment">// å¦‚æœåœ¨å†…å­˜ä¸­ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line">         <span class="keyword">if</span> (id <span class="keyword">in</span> cache) {</span><br><span class="line">           <span class="keyword">return</span> <span class="string">"å¾—åˆ°çš„ç»“æœä¸º:"</span> + cache[id];</span><br><span class="line">         }</span><br><span class="line">         <span class="comment">//ç»è¿‡è€—æ—¶å‡½æ•°çš„å¤„ç†</span></span><br><span class="line">         <span class="keyword">var</span> result = timeFn(id);</span><br><span class="line">         <span class="comment">//æ›´æ–°ç¼“å­˜</span></span><br><span class="line">         cache[id] = result;</span><br><span class="line">         <span class="comment">//è¿”å›è®¡ç®—çš„ç»“æœ</span></span><br><span class="line">         <span class="keyword">return</span> <span class="string">"å¾—åˆ°çš„ç»“æœä¸º:"</span> + result;</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">   })();</span><br><span class="line">   <span class="comment">//è€—æ—¶å‡½æ•°</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">timeFn</span>(<span class="params">id</span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"è¿™æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„ä»»åŠ¡"</span>);</span><br><span class="line">     <span class="keyword">return</span> id;</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">console</span>.log(cacheApp.getResult(<span class="number">23</span>));</span><br><span class="line">   <span class="built_in">console</span>.log(cacheApp.getResult(<span class="number">23</span>));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>ä»£ç å°è£…</strong></p>
<p>åœ¨ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æå€¡å°†ä¸€å®šç‰¹å¾çš„ä»£ç å°è£…åˆ°ä¸€èµ·ï¼Œåªéœ€è¦å¯¹å¤–æš´éœ²å¯¹åº”çš„æ–¹æ³•å°±å¯ä»¥ï¼Œä»è€Œä¸ç”¨å…³å¿ƒå†…éƒ¨é€»è¾‘çš„å®ç°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">var</span> stack = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="comment">//ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿæ ˆ</span></span><br><span class="line">       <span class="keyword">var</span> arr = [];</span><br><span class="line">       <span class="keyword">return</span> {</span><br><span class="line">         <span class="attr">push</span>: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>{</span><br><span class="line">           arr.push(value);</span><br><span class="line">         },</span><br><span class="line">         <span class="attr">pop</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           <span class="keyword">return</span> arr.pop();</span><br><span class="line">         },</span><br><span class="line">         <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           <span class="keyword">return</span> arr.length;</span><br><span class="line">         },</span><br><span class="line">       };</span><br><span class="line">     })();</span><br><span class="line">     stack.push(<span class="string">"abc"</span>);</span><br><span class="line">     stack.push(<span class="string">"def"</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(stack.size()); <span class="comment">// 2</span></span><br><span class="line">     <span class="built_in">console</span>.log(stack.pop()); <span class="comment">// def</span></span><br><span class="line">  <span class="built_in">console</span>.log(stack.size()); <span class="comment">// 1</span></span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="é—­åŒ…å¸¸è§é¢è¯•é¢˜"><a href="#é—­åŒ…å¸¸è§é¢è¯•é¢˜" class="headerlink" title="é—­åŒ…å¸¸è§é¢è¯•é¢˜"></a>é—­åŒ…å¸¸è§é¢è¯•é¢˜</h3><p>ç¬¬ä¸€ï¼šå¦‚ä¸‹ç¨‹åºæ‰§è¡Œçš„ç»“æœä¸ºï¼š</p>
<p>è·å–æ‰€å•å‡»çš„<code>li</code>å…ƒç´ çš„ç´¢å¼•å€¼</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>a<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>b<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>c<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>d<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>e<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹åº”çš„<code>js</code>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–æ‰€å•å‡»çš„`li`å…ƒç´ çš„ç´¢å¼•å€¼</span></span><br><span class="line">    <span class="keyword">var</span> list = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"ul"</span>)[<span class="number">0</span>].children;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) {</span><br><span class="line">      list[i].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">      };</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<p>å¯ä»¥é‡‡ç”¨é—­åŒ…è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"ul"</span>)[<span class="number">0</span>].children;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) {</span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>{</span><br><span class="line">        list[index].onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(index);</span><br><span class="line">        };</span><br><span class="line">      })(i);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äºŒï¼šå¦‚ä¸‹ç¨‹åºè¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(arr[i]);</span><br><span class="line">      }, <span class="number">1000</span>);</span><br><span class="line">    }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>



<p>ä»£ç ä¿®æ”¹åçš„å†…å®¹ä¸ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) {</span><br><span class="line">  (<span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>{</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(arr[index]);</span><br><span class="line">    }, <span class="number">1000</span>);</span><br><span class="line">  })(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸‰ï¼šä»¥ä¸‹ç¨‹åºæ‰“å°ç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userName = <span class="string">"zhangsan"</span>;</span><br><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">  <span class="attr">userName</span>: <span class="string">"lisi"</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">    };</span><br><span class="line">  },</span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(person.method()()); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">    <span class="keyword">var</span> person = {</span><br><span class="line">      <span class="attr">userName</span>: <span class="string">"lisi"</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> that = <span class="built_in">this</span>; <span class="comment">//ç”¨thatä¿å­˜personçš„this</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">return</span> that.userName;</span><br><span class="line">        };</span><br><span class="line">      },</span><br><span class="line">    };</span><br><span class="line">    <span class="built_in">console</span>.log(person.method()());</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬å››ï¼šä»¥ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">create</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(a);</span><br><span class="line">    };</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> fn = create();</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">200</span>;</span><br><span class="line">  fn(); <span class="comment">// 100</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äº”ï¼šä»¥ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">fn</span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> a = <span class="number">200</span>;</span><br><span class="line">     fn();</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> a = <span class="number">100</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(a); <span class="comment">// 100</span></span><br><span class="line">   }</span><br><span class="line">   print(fn);</span><br></pre></td></tr></tbody></table></figure>



<h3 id="é—­åŒ…ä¼˜ç¼ºç‚¹"><a href="#é—­åŒ…ä¼˜ç¼ºç‚¹" class="headerlink" title="é—­åŒ…ä¼˜ç¼ºç‚¹"></a>é—­åŒ…ä¼˜ç¼ºç‚¹</h3><p>é—­åŒ…çš„ä¼˜ç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼šä¿æŠ¤å‡½æ•°å†…å˜é‡çš„å®‰å…¨ï¼Œå®ç°å°è£…ï¼Œé˜²æ­¢å˜é‡æµå…¥å…¶å®ƒç¯å¢ƒå‘ç”Ÿå‘½åå†²çªï¼Œé€ æˆç¯å¢ƒæ±¡æŸ“ã€‚</p>
<p>ç¬¬äºŒï¼šåœ¨é€‚å½“çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸­ç»´æŠ¤å˜é‡å¹¶ç¼“å­˜ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡</p>
<p>é—­åŒ…çš„ç¼ºç‚¹ï¼š</p>
<p>æ¶ˆè€—å†…å­˜ï¼šé€šå¸¸æ¥è¯´ï¼Œå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ä¼šéšç€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒä¸€èµ·è¢«é”€æ¯ï¼Œä½†æ˜¯ç”±äºé—­åŒ…å¼•ç”¨çš„æ˜¯å¤–éƒ¨å‡½æ•°çš„æ´»åŠ¨å¯¹è±¡ï¼Œå› æ­¤è¿™ä¸ªæ´»åŠ¨å¯¹è±¡æ— æ³•è¢«é”€æ¯ï¼Œæ‰€ä»¥è¯´ï¼Œé—­åŒ…æ¯”ä¸€èˆ¬çš„å‡½æ•°éœ€è¦æ¶ˆè€—æ›´å¤šçš„å†…å­˜ã€‚</p>
<h2 id="thisæŒ‡å‘"><a href="#thisæŒ‡å‘" class="headerlink" title="thisæŒ‡å‘"></a>thisæŒ‡å‘</h2><h3 id="å¸¸è§é¢è¯•é¢˜"><a href="#å¸¸è§é¢è¯•é¢˜" class="headerlink" title="å¸¸è§é¢è¯•é¢˜"></a>å¸¸è§é¢è¯•é¢˜</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡<code>new</code>æ“ä½œç¬¦æ¥å®Œæˆåˆ›å»ºï¼Œå½“åˆ›å»ºå®Œæˆåï¼Œå‡½æ•°ä½“ä¸­çš„<code>this</code>æŒ‡å‘äº†è¿™ä¸ªå®ä¾‹ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.userName = userName;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(person.userName);</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„<code>Person</code>å‡½æ•°å½“ä½œä¸€ä¸ªæ™®é€šå‡½æ•°æ¥è°ƒç”¨æ‰§è¡Œï¼Œé‚£ä¹ˆå¯¹åº”çš„<code>this</code>ä¼šæŒ‡å‘è°å‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">     }</span><br><span class="line">     Person(<span class="string">"lisi"</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">window</span>.userName);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºï¼Œ<code>this</code>æŒ‡å‘çš„æ°¸è¿œæ˜¯å‡½æ•°çš„è°ƒç”¨è€…ã€‚</p>
<p>ç¬¬ä¸€ï¼šå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> obj = {</span><br><span class="line">    <span class="attr">a</span>: <span class="number">120</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> bar = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.a); <span class="comment">// 10</span></span><br><span class="line">      };</span><br><span class="line">      bar();<span class="comment">//è¿™é‡Œæ˜¯é€šè¿‡windowå¯¹è±¡å®Œæˆbaræ–¹æ³•çš„è°ƒç”¨</span></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span>.a;</span><br><span class="line">    },</span><br><span class="line">  };</span><br><span class="line">  <span class="built_in">console</span>.log(obj.method()); <span class="comment">// 120</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äºŒï¼šå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="comment">//ç»™å…¨å±€å˜é‡é‡æ–°èµ‹å€¼</span></span><br><span class="line">     num = <span class="number">20</span>;</span><br><span class="line">     <span class="comment">// å®ä¾‹å˜é‡</span></span><br><span class="line">     <span class="built_in">this</span>.num = <span class="number">30</span>;</span><br><span class="line">   }</span><br><span class="line">   Person.prototype.getNum = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">this</span>.num;</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">   <span class="built_in">console</span>.log(person.getNum()); <span class="comment">// 30</span></span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸‰ï¼šå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">fn</span>: fn,</span><br><span class="line">  };</span><br><span class="line">  fn(); <span class="comment">//window</span></span><br><span class="line">  obj.fn(); <span class="comment">//obj</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å››ï¼šå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fullName = <span class="string">"language"</span>;</span><br><span class="line">     <span class="keyword">var</span> obj = {</span><br><span class="line">       <span class="attr">fullName</span>: <span class="string">"javascript"</span>,</span><br><span class="line">       <span class="attr">prop</span>: {</span><br><span class="line">         <span class="attr">getFullName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">this</span>.fullName;</span><br><span class="line">         },</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="built_in">console</span>.log(obj.prop.getFullName()); <span class="comment">// undefined</span></span><br><span class="line">     <span class="keyword">var</span> test = obj.prop.getFullName; <span class="comment">// language</span></span><br><span class="line">     <span class="built_in">console</span>.log(test());</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬äº”ï¼šå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> json = {</span><br><span class="line">  <span class="attr">val</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">dbl</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    val *= <span class="number">2</span>; <span class="comment">//è¿™é‡Œç”±äºå‰é¢æ²¡æœ‰æ·»åŠ this,ä¹Ÿå°±æ˜¯æ²¡æœ‰å†™æˆthis.val,æ‰€ä»¥è¿™é‡Œçš„valæŒ‡å‘äº†å…¨å±€å˜é‡</span></span><br><span class="line">  },</span><br><span class="line">};</span><br><span class="line">json.dbl();</span><br><span class="line"><span class="built_in">console</span>.log(json.val + val); <span class="comment">// 12</span></span><br></pre></td></tr></tbody></table></figure>



<p>å¦‚æœå°†ä¸Šé¢çš„é¢˜ç›®ä¿®æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> val = <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> json = {</span><br><span class="line">  <span class="attr">val</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">dbl</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">this</span>.val *= <span class="number">2</span> <span class="comment">//20</span></span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">json.dbl() </span><br><span class="line"><span class="built_in">console</span>.log(json.val + val)<span class="comment">//21  20+1=21</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬å…­ï¼Œå¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">var</span> obj = { <span class="attr">num</span>: <span class="number">20</span> };</span><br><span class="line">    obj.fn = (<span class="function"><span class="keyword">function</span> (<span class="params">num</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.num = num * <span class="number">3</span>;</span><br><span class="line">      num++;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">n</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.num += n;</span><br><span class="line">        num++;</span><br><span class="line">        <span class="built_in">console</span>.log(num);</span><br><span class="line">      };</span><br><span class="line">    })(obj.num);</span><br><span class="line">    <span class="keyword">var</span> fn = obj.fn;</span><br><span class="line">    fn(<span class="number">5</span>);</span><br><span class="line">    obj.fn(<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(num, obj.num);</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬ä¸ƒï¼š<code>this</code> æŒ‡å‘<code>call()</code>å‡½æ•°ï¼Œ<code>apply()</code>å‡½æ•°ï¼Œ<code>bind()</code>å‡½æ•°è°ƒç”¨åé‡æ–°ç»‘å®šçš„å¯¹è±¡ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“é€šè¿‡<code>call()</code>å‡½æ•°ï¼Œ<code>apply()</code>å‡½æ•°ï¼Œ<code>bind()</code>å‡½æ•°å¯ä»¥æ”¹å˜å‡½æ•°æ‰§è¡Œçš„ä¸»ä½“ï¼Œå¦‚æœå‡½æ•°ä¸­å­˜åœ¨<code>this</code>å…³é”®å­—ï¼Œåˆ™<code>this</code>æŒ‡å‘<code>call()</code>å‡½æ•°ï¼Œ<code>apply()</code>å‡½æ•°ï¼Œ<code>bind()</code>å‡½æ•°å¤„ç†åçš„å¯¹è±¡ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€å˜é‡</span></span><br><span class="line">     <span class="keyword">var</span> value = <span class="number">10</span>;</span><br><span class="line">     <span class="keyword">var</span> obj = {</span><br><span class="line">       <span class="attr">value</span>: <span class="number">20</span>,</span><br><span class="line">     };</span><br><span class="line">     <span class="comment">// å…¨å±€å‡½æ•°</span></span><br><span class="line">     <span class="keyword">var</span> method = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.value);</span><br><span class="line">     };</span><br><span class="line">     method(); <span class="comment">// 10</span></span><br><span class="line">     method.call(obj); <span class="comment">// 20</span></span><br><span class="line">     method.apply(obj); <span class="comment">// 20</span></span><br><span class="line">     <span class="keyword">var</span> newMethod = method.bind(obj);</span><br><span class="line">     newMethod(); <span class="comment">// 20</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸€æ®µä»£ç ï¼Œçœ‹ä¸€ä¸‹å¯¹åº”çš„æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>è·å–ç”¨æˆ·ä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> userInfo = {</span></span><br><span class="line"><span class="javascript">        <span class="attr">data</span>: [</span></span><br><span class="line"><span class="javascript">          { <span class="attr">userName</span>: <span class="string">"zhangsan"</span>, <span class="attr">age</span>: <span class="number">20</span> },</span></span><br><span class="line"><span class="javascript">          { <span class="attr">userName</span>: <span class="string">"lisi"</span>, <span class="attr">age</span>: <span class="number">21</span> },</span></span><br><span class="line"><span class="javascript">        ],</span></span><br><span class="line"><span class="javascript">        <span class="attr">getUserInfo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> index = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.data[index].userName + <span class="string">" "</span> + <span class="built_in">this</span>.data[index].age);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">      btn.onclick = userInfo.getUserInfo;</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">   <span class="comment">//   btn.onclick = userInfo.getUserInfo;</span></span><br><span class="line">   btn.onclick = userInfo.getUserInfo.bind(userInfo);</span><br></pre></td></tr></tbody></table></figure>



<p>ç¬¬å…«ã€å¦‚ä¸‹ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id=<span class="string">"btn"</span>&gt;è·å–ç”¨æˆ·ä¿¡æ¯&lt;/button&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">var</span> userInfo = {</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">data</span>: [</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      { <span class="attr">userName</span>: <span class="string">"zhangsan"</span>, <span class="attr">age</span>: <span class="number">20</span> },</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      { <span class="attr">userName</span>: <span class="string">"lisi"</span>, <span class="attr">age</span>: <span class="number">21</span> },</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    ],</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    <span class="attr">getUserInfo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="built_in">this</span>.data.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">p</span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      });</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    },</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  };</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  <span class="comment">//   btn.onclick = userInfo.getUserInfo;</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">  btn.onclick = userInfo.getUserInfo.bind(userInfo);</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">var</span> userInfo = {</span><br><span class="line">        <span class="attr">data</span>: [</span><br><span class="line">          { <span class="attr">userName</span>: <span class="string">"zhangsan"</span>, <span class="attr">age</span>: <span class="number">20</span> },</span><br><span class="line">          { <span class="attr">userName</span>: <span class="string">"lisi"</span>, <span class="attr">age</span>: <span class="number">21</span> },</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">getUserInfo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">var</span> that = <span class="built_in">this</span>;<span class="comment">//ä¿å­˜this</span></span><br><span class="line">          <span class="built_in">this</span>.data.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">p</span>) </span>{</span><br><span class="line">            <span class="built_in">console</span>.log(that);<span class="comment">//è¿™é‡Œçš„that æŒ‡çš„å°±æ˜¯å½“å‰çš„userInfoå¯¹è±¡ã€‚</span></span><br><span class="line">          });</span><br><span class="line">        },</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">      <span class="comment">//   btn.onclick = userInfo.getUserInfo;</span></span><br><span class="line">      btn.onclick = userInfo.getUserInfo.bind(userInfo);</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…æ˜¯ä¿®æ”¹æˆç®­å¤´å‡½æ•°</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userInfo = {</span><br><span class="line">   <span class="attr">data</span>: [</span><br><span class="line">     { <span class="attr">userName</span>: <span class="string">"zhangsan"</span>, <span class="attr">age</span>: <span class="number">20</span> },</span><br><span class="line">     { <span class="attr">userName</span>: <span class="string">"lisi"</span>, <span class="attr">age</span>: <span class="number">21</span> },</span><br><span class="line">   ],</span><br><span class="line">   <span class="attr">getUserInfo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="comment">//   var that = this;</span></span><br><span class="line">     <span class="built_in">this</span>.data.forEach(<span class="function">(<span class="params">p</span>) =&gt;</span> {</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">     });</span><br><span class="line">   },</span><br><span class="line"> };</span><br><span class="line"> <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line"> <span class="comment">//   btn.onclick = userInfo.getUserInfo;</span></span><br><span class="line"> btn.onclick = userInfo.getUserInfo.bind(userInfo);</span><br></pre></td></tr></tbody></table></figure>



<h2 id="13ã€call-å‡½æ•°ï¼Œapply-å‡½æ•°ï¼Œbind-å‡½æ•°çš„ä½¿ç”¨ä¸åŒºåˆ«"><a href="#13ã€call-å‡½æ•°ï¼Œapply-å‡½æ•°ï¼Œbind-å‡½æ•°çš„ä½¿ç”¨ä¸åŒºåˆ«" class="headerlink" title="13ã€call()å‡½æ•°ï¼Œapply( )å‡½æ•°ï¼Œbind( )å‡½æ•°çš„ä½¿ç”¨ä¸åŒºåˆ«"></a>13ã€call()å‡½æ•°ï¼Œapply( )å‡½æ•°ï¼Œbind( )å‡½æ•°çš„ä½¿ç”¨ä¸åŒºåˆ«</h2><p>åœ¨å‰é¢æˆ‘ä»¬ç®€å•çš„è¯´è¿‡<code>call( )</code>å‡½æ•°ï¼Œ<code>apply( )</code>å‡½æ•°ï¼Œ<code>bind( )</code>å‡½æ•°ï¼Œçš„ä½œç”¨ã€‚</p>
<p><code>call( )</code>å‡½æ•°ï¼Œ<code>apply( )</code>å‡½æ•°ï¼Œ<code>bind( )</code>å‡½æ•°,çš„ä½œç”¨éƒ½æ˜¯æ”¹å˜<code>this</code>çš„æŒ‡å‘ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨æ–¹å¼ä¸Šæ˜¯æœ‰ä¸€å®šçš„åŒºåˆ«çš„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«æ¥çœ‹ä¸€ä¸‹å®ƒä»¬å„è‡ªçš„ä½¿ç”¨æ–¹å¼ï¼š</p>
<h3 id="call-å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"><a href="#call-å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="call( )å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"></a><code>call( )</code>å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</h3><p>åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>.call(thisObj,arg1,arg2,...)</span><br></pre></td></tr></tbody></table></figure>

<p><code>function</code>è¡¨ç¤ºçš„æ˜¯ï¼šéœ€è¦è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<p><code>thisObj</code>è¡¨ç¤ºï¼š<code>this</code>æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>this</code>å°†æŒ‡å‘<code>thisObj</code>è¿™ä¸ªå‚æ•°ï¼Œå¦‚æœ<code>thisObj</code>çš„å€¼ä¸º<code>null</code>æˆ–è€…æ˜¯<code>undefined</code>,åˆ™<code>this</code>æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡ã€‚</p>
<p><code>arg1,arg2,..</code>è¡¨ç¤ºï¼šè°ƒç”¨çš„å‡½æ•°éœ€è¦çš„å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(a + b);</span><br><span class="line">   }</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(a - b);</span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   add.call(sub, <span class="number">3</span>, <span class="number">1</span>);<span class="comment">// è°ƒç”¨addæ–¹æ³•ï¼Œä½†æ˜¯addæ–¹æ³•ä¸­çš„thisæŒ‡å‘çš„æ˜¯sub,æœ€ç»ˆçš„è¾“å‡ºç»“æœæ˜¯4</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="apply-å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"><a href="#apply-å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="apply( )å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"></a><code>apply( )</code>å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</h3><p><code>apply()</code>å‡½æ•°çš„ä½œç”¨ä¸<code>call()</code>å‡½æ•°çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œä¸åŒçš„æ˜¯åœ¨ä¼ é€’å‚æ•°çš„æ—¶å€™æœ‰ä¸€å®šçš„å·®åˆ«</p>
<p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>.apply(thisObj,[argsArray])</span><br></pre></td></tr></tbody></table></figure>

<p><code>function</code>è¡¨ç¤ºçš„æ˜¯ï¼šéœ€è¦è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<p><code>thisObj</code>:<code>this</code>æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>this</code>å°†æŒ‡å‘<code>thisObj</code>è¿™ä¸ªå‚æ•°ï¼Œå¦‚æœ<code>thisObj</code>çš„å€¼ä¸º<code>null</code>æˆ–è€…æ˜¯<code>undefined</code>,åˆ™<code>this</code>æŒ‡å‘çš„æ˜¯å…¨å±€å¯¹è±¡ã€‚</p>
<p><code>[argsArray]</code>:è¡¨ç¤ºçš„æ˜¯å‡½æ•°éœ€è¦çš„å‚æ•°ä¼šé€šè¿‡æ•°ç»„çš„å½¢å¼è¿›è¡Œä¼ é€’,å¦‚æœä¼ é€’çš„ä¸æ˜¯æ•°ç»„æˆ–è€…æ˜¯argumentså¯¹è±¡ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// è¿™é‡ŒæŒ‡å‘çš„æ˜¯sub</span></span><br><span class="line">      <span class="built_in">console</span>.log(a + b);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(a - b);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    add.apply(sub, [<span class="number">3</span>, <span class="number">1</span>]); </span><br></pre></td></tr></tbody></table></figure>

<h3 id="bindå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"><a href="#bindå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="bindå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨"></a><code>bind</code>å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>.bind(thisObj,arg1,arg2,...)</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢è¯­æ³•æ ¼å¼ï¼Œå¯ä»¥çœ‹å‡º<code>bind</code>å‡½æ•°ä¸<code>call</code>å‡½æ•°çš„å‚æ•°æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>ä¸åŒ çš„æ˜¯<code>bind</code>å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¿›è¡Œè°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// è¿™é‡ŒæŒ‡å‘çš„æ˜¯sub</span></span><br><span class="line">  <span class="built_in">console</span>.log(a + b);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(a - b);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> newFun = add.bind(sub, <span class="number">3</span>, <span class="number">1</span>); <span class="comment">//bind è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</span></span><br><span class="line">newFun();<span class="comment">//å®Œæˆå¯¹addå‡½æ•°çš„è°ƒç”¨ï¼ŒåŒæ—¶thisæŒ‡å‘äº†sub</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="ä¸‰ä¸ªå‡½æ•°çš„æ¯”è¾ƒ"><a href="#ä¸‰ä¸ªå‡½æ•°çš„æ¯”è¾ƒ" class="headerlink" title="ä¸‰ä¸ªå‡½æ•°çš„æ¯”è¾ƒ"></a>ä¸‰ä¸ªå‡½æ•°çš„æ¯”è¾ƒ</h3><p>é€šè¿‡å‰é¢å¯¹ä¸‰ä¸ªå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨ï¼Œå¯ä»¥çœ‹å‡ºï¼Œå®ƒä»¬å…±åŒç‚¹å°±æ˜¯æ”¹å˜<code>this</code>çš„æŒ‡å‘ã€‚</p>
<p>ä¸åŒç‚¹ï¼š</p>
<p><code>call()</code>å‡½æ•°ä¸<code>apply()</code>å‡½æ•°ï¼Œä¼šç«‹å³æ‰§è¡Œå‡½æ•°çš„è°ƒç”¨ï¼Œè€Œ<code>bind</code>è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™è¿›è¡Œè°ƒç”¨ã€‚</p>
<p><code>call()</code>å‡½æ•°ä¸<code>bind</code>å‡½æ•°çš„å‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œè€Œ<code>apply</code>å‡½æ•°ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„æˆ–è€…æ˜¯<code>arguments</code>å¯¹è±¡ã€‚</p>
<h3 id="åº”ç”¨åœºæ™¯-1"><a href="#åº”ç”¨åœºæ™¯-1" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><p>è¿™é‡Œï¼Œæˆ‘ä»¬é‡ç‚¹çœ‹ä¸€ä¸‹ï¼Œå…³äº<code>call()</code>å‡½æ•°ï¼Œ<code>bind()</code>å‡½æ•°ï¼Œ<code>apply()</code>å‡½æ•°çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>];</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr));</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, arr));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>å°†<code>arguments</code>è½¬æ¢æˆæ•°ç»„</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">     arr.push(<span class="number">6</span>);</span><br><span class="line">     <span class="keyword">return</span> arr;</span><br><span class="line">   }</span><br><span class="line">   <span class="built_in">console</span>.log(fn(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></tbody></table></figure>



<p><strong>ç»§æ‰¿çš„å®ç°</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, userAge</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">        <span class="built_in">this</span>.userAge = userAge;</span><br><span class="line">      }</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Student</span>(<span class="params">name, age, gender</span>) </span>{</span><br><span class="line">        Person.call(<span class="built_in">this</span>, name, age);</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> student = <span class="keyword">new</span> Student(<span class="string">"zhangsan"</span>, <span class="number">20</span>, <span class="string">"ç”·"</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(</span><br><span class="line">        <span class="string">"userName="</span> +</span><br><span class="line">          student.userName +</span><br><span class="line">          <span class="string">",userAge="</span> +</span><br><span class="line">          student.userAge +</span><br><span class="line">          <span class="string">",gender="</span> +</span><br><span class="line">          student.gender</span><br><span class="line">      );</span><br></pre></td></tr></tbody></table></figure>



<p><strong>æ”¹å˜åŒ¿åå‡½æ•°çš„<code>this</code>æŒ‡å‘</strong></p>
<p>é¦–å…ˆçœ‹ä¸€ä¸‹å¦‚ä¸‹ç¨‹åºçš„æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = [</span><br><span class="line">      { <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">userName</span>: <span class="string">"zhangsan"</span> },</span><br><span class="line">      { <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">userName</span>: <span class="string">"lisi"</span> },</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; person.length; i++) {</span><br><span class="line">      (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.print = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.id);</span><br><span class="line">        };</span><br><span class="line">        <span class="built_in">this</span>.print();</span><br><span class="line">      })(i);</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>



<p>å…·ä½“çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = [</span><br><span class="line">    { <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">userName</span>: <span class="string">"zhangsan"</span> },</span><br><span class="line">    { <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">userName</span>: <span class="string">"lisi"</span> },</span><br><span class="line">  ];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; person.length; i++) {</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.print = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.id);</span><br><span class="line">      };</span><br><span class="line">      <span class="built_in">this</span>.print();</span><br><span class="line">    }.call(person[i], i));</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>



<h3 id="æ‰‹å†™callã€applyåŠbindå‡½æ•°"><a href="#æ‰‹å†™callã€applyåŠbindå‡½æ•°" class="headerlink" title="æ‰‹å†™callã€applyåŠbindå‡½æ•°"></a>æ‰‹å†™callã€applyåŠbindå‡½æ•°</h3><p><strong><code>call</code>æ–¹æ³•çš„å®ç°</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">Function</span>.prototype.myCall = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>{</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">var</span> args = [...arguments].slice(<span class="number">1</span>);</span><br><span class="line"> </span><br><span class="line">  context = context || <span class="built_in">window</span>;</span><br><span class="line">  </span><br><span class="line">  context.fn = <span class="built_in">this</span>;</span><br><span class="line">     </span><br><span class="line">  <span class="keyword">var</span> result = context.fn(...args);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">};</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">  <span class="built_in">console</span>.log(num1 - num2);</span><br><span class="line">}</span><br><span class="line">Add.myCall(Sub, <span class="number">6</span>, <span class="number">3</span>);</span><br></pre></td></tr></tbody></table></figure>



<p><strong><code>apply</code>å‡½æ•°çš„å®ç°</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myApply = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> result = <span class="literal">null</span>;</span><br><span class="line">       context = context || <span class="built_in">window</span>;</span><br><span class="line">       context.fn = <span class="built_in">this</span>;</span><br><span class="line">       <span class="keyword">if</span> (<span class="built_in">arguments</span>[<span class="number">1</span>]) {</span><br><span class="line">         <span class="comment">// console.log("arguments=", arguments[1]);// arguments= (2)&nbsp;[6, 3]</span></span><br><span class="line">         result = context.fn(...arguments[<span class="number">1</span>]);</span><br><span class="line">       } <span class="keyword">else</span> {</span><br><span class="line">         result = context.fn();</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">     };</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">       <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">     }</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(num1 - num2);</span><br><span class="line">     }</span><br><span class="line">     Add.myApply(Sub, [<span class="number">6</span>, <span class="number">3</span>]);</span><br></pre></td></tr></tbody></table></figure>





<p><strong><code>bind</code>å‡½æ•°çš„å®ç°</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>{</span><br><span class="line">     <span class="comment">// è·å–å‚æ•°</span></span><br><span class="line">     <span class="keyword">var</span> args = [...arguments].slice(<span class="number">1</span>), <span class="comment">// [1,5]</span></span><br><span class="line">       fn = <span class="built_in">this</span>;</span><br><span class="line">     <span class="comment">// console.log(this);//Add</span></span><br><span class="line">     <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="comment">// console.log(this); //Window</span></span><br><span class="line">       <span class="keyword">return</span> fn.apply(context, args);</span><br><span class="line">     };</span><br><span class="line">   };</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">   }</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(num1 - num2);</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> newFun = Add.myBind(Sub, <span class="number">1</span>, <span class="number">5</span>);</span><br><span class="line">   newFun();</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// è¿™é‡ŒæŒ‡å‘çš„æ˜¯sub</span></span><br><span class="line">      <span class="built_in">console</span>.log(a + b);</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">sub</span>(<span class="params">a, b</span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(a - b);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> newFun = add.bind(sub, <span class="number">3</span>); <span class="comment">//bind è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</span></span><br><span class="line">    newFun(<span class="number">2</span>); <span class="comment">//å®Œæˆå¯¹addå‡½æ•°çš„è°ƒç”¨ï¼ŒåŒæ—¶thisæŒ‡å‘äº†sub</span></span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±å®ç°ä¸€ä¸‹å…³äº<code>myBind</code>æ–¹æ³•å‚æ•°çš„æ¨¡æ‹Ÿã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Function</span>.prototype.myBind = <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>{</span><br><span class="line">    <span class="comment">// è·å–å‚æ•°</span></span><br><span class="line">    <span class="keyword">var</span> args = [...arguments].slice(<span class="number">1</span>),</span><br><span class="line">      fn = <span class="built_in">this</span>;</span><br><span class="line">    <span class="comment">// console.log(this);//Add</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="comment">// console.log(this); //Window</span></span><br><span class="line">      <span class="comment">//è¿™é‡Œæ˜¯è°ƒç”¨bindå‡½æ•°çš„æ—¶å€™ä¼ é€’çš„å‚æ•°ï¼Œå°†å…¶è½¬æ¢æˆæ•°ç»„</span></span><br><span class="line">      <span class="keyword">var</span> bindArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">      <span class="comment">//ä¸‹é¢å®Œæˆå‚æ•°çš„æ‹¼æ¥</span></span><br><span class="line">      <span class="keyword">return</span> fn.apply(context, args.concat(bindArgs));</span><br><span class="line">    };</span><br><span class="line">  };</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Add</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">  }</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(num1 - num2);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">var</span> newFun = Add.myBind(Sub, <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(newFun(<span class="number">8</span>));</span><br></pre></td></tr></tbody></table></figure>



<h2 id="å›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹"><a href="#å›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹" class="headerlink" title="å›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹"></a>å›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹</h2><p>åœ¨<code>JavaScript</code>ç¼–ç¨‹è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå†™å›è°ƒå‡½æ•°ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“åœ¨<code>JavaScript</code>ä¸­å‡½æ•°ä¹Ÿæ˜¯ä¸€ç§å¯¹è±¡ï¼Œå¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œå› æ­¤å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªä½œä¸ºå‚æ•°çš„å‡½æ•°å°±æ˜¯å›è°ƒå‡½æ•°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¦‚ä¸‹çš„ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>{</span><br><span class="line">    </span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>å›è°ƒå‡½æ•°æœ‰ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œå°±æ˜¯å¾ˆå®¹æ˜“å‡ºç°å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯å®ç°äº†å›è°ƒå‡½æ•°ä¸æ–­çš„åµŒå¥—ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">    </span><br><span class="line">        },<span class="number">3000</span>)</span><br><span class="line">    </span><br><span class="line">    },<span class="number">2000</span>)</span><br><span class="line">},<span class="number">1000</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„ä»£ç å°±æ˜¯å…¸å‹çš„å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œè¿™æ ·çš„ä»£ç æ˜¯éå¸¸ä¸åˆ©äºé˜…è¯»å’Œç»´æŠ¤çš„ã€‚</p>
<p>æ‰€ä»¥åœ¨<code>ES6</code>ä¸­æä¾›äº†<code>Promise</code>ä»¥åŠ<code>async/await</code>æ¥è§£å†³åœ°ç‹±å›è°ƒçš„é—®é¢˜ã€‚å…³äºè¿™å—å†…å®¹</p>
<h2 id="ä¸ºä»€ä¹ˆå‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆå‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆå‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ"></a>ä¸ºä»€ä¹ˆå‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ</h2><p>JavaScript è¯­è¨€å°†å‡½æ•°çœ‹ä½œä¸€ç§å€¼ï¼Œä¸å…¶å®ƒå€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ç­‰ï¼‰åœ°ä½ç›¸åŒã€‚å‡¡æ˜¯å¯ä»¥ä½¿ç”¨å€¼çš„åœ°æ–¹ï¼Œå°±èƒ½ä½¿ç”¨å‡½æ•°ã€‚æ¯”å¦‚ï¼Œå¯ä»¥æŠŠ<strong>å‡½æ•°èµ‹å€¼ç»™å˜é‡å’Œå¯¹è±¡çš„å±æ€§</strong>ï¼Œä¹Ÿå¯ä»¥å½“ä½œ<strong>å‚æ•°ä¼ å…¥å…¶ä»–å‡½æ•°</strong>ï¼Œæˆ–è€…<strong>ä½œä¸ºå‡½æ•°çš„ç»“æœè¿”å›</strong>ã€‚</p>
<p>åŒæ—¶å‡½æ•°è¿˜å¯ä»¥ä½œä¸ºç±»çš„æ„é€ å‡½æ•°ï¼Œå®Œæˆå¯¹è±¡å®ä¾‹çš„åˆ›å»ºã€‚æ‰€ä»¥è¯´ï¼Œè¿™ç§å¤šé‡èº«ä»½è®©<code>JavaScript</code>ä¸­çš„å‡½æ•°å˜å¾—éå¸¸é‡è¦ï¼Œæ‰€ä»¥è¯´å‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ã€‚</p>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><h1 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h1><h2 id="1ã€å¯¹è±¡çš„å±æ€§"><a href="#1ã€å¯¹è±¡çš„å±æ€§" class="headerlink" title="1ã€å¯¹è±¡çš„å±æ€§"></a>1ã€å¯¹è±¡çš„å±æ€§</h2><p>ç»™å¯¹è±¡æ·»åŠ å±æ€§éå¸¸çš„ç®€å•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person={</span><br><span class="line">    <span class="attr">userName</span>:<span class="string">'zhangsan'</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæƒ³ä¿®æ”¹å±æ€§çš„ç‰¹æ€§ï¼Œå¯ä»¥é€šè¿‡<code>Object.defineProperty()</code>æ¥å®Œæˆã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">      <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">    };</span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(person, <span class="string">"userName"</span>, {</span><br><span class="line">      <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    });</span><br><span class="line">    person.userName = <span class="string">"lisi"</span>; <span class="comment">//æ— æ³•å®Œæˆå€¼çš„ä¿®æ”¹</span></span><br><span class="line">    <span class="built_in">console</span>.log(person.userName); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç»™<code>Object.defineProperty</code>æ·»åŠ <code>getter()</code>å‡½æ•°å’Œ<code>setter( )</code>å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥å®ç°å¯¹è±¡çš„ç§æœ‰å±æ€§ï¼Œç§æœ‰å±æ€§ä¸å¯¹å¤–å…¬å¸ƒï¼Œå¦‚æœæƒ³è¦å¯¹ç§æœ‰å±æ€§è¿›è¡Œè¯»å–å’Œå†™å…¥ï¼Œå¯ä»¥é€šè¿‡<code>getter()</code>å‡½æ•°å’Œ<code>setter( )</code>å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">       <span class="attr">_age</span>: <span class="number">20</span>, <span class="comment">// _ageè¡¨ç¤ºç§æœ‰å±æ€§</span></span><br><span class="line">     };</span><br><span class="line">     <span class="built_in">Object</span>.defineProperty(person, <span class="string">"age"</span>, {</span><br><span class="line">       <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="built_in">this</span>._age;</span><br><span class="line">       },</span><br><span class="line">       <span class="comment">//åœ¨ç»™ç§æœ‰å±æ€§èµ‹å€¼çš„æ—¶å€™ï¼Œå®Œæˆå¯¹åº”çš„æ ¡éªŒåŠŸèƒ½</span></span><br><span class="line">       <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (value &gt;= <span class="number">18</span>) {</span><br><span class="line">           <span class="built_in">this</span>._age = value;</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">"å¯ä»¥æµè§ˆè¯¥ç½‘ç«™"</span>);</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="string">"ä¸å¯ä»¥æµè§ˆè¯¥ç½‘ç«™"</span>);</span><br><span class="line">         }</span><br><span class="line">       },</span><br><span class="line">     });</span><br><span class="line">     <span class="built_in">console</span>.log(person.age); <span class="comment">//20</span></span><br><span class="line">     person.age = <span class="number">12</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(person.age); <span class="comment">//20</span></span><br><span class="line">     person.age = <span class="number">30</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(person.age); <span class="comment">// 30</span></span><br></pre></td></tr></tbody></table></figure>

<p>å…³äº<code>Object.defineProperty</code>æ›´è¯¦ç»†çš„å†…å®¹ï¼Œå¯ä»¥å‚è€ƒ<code>vue</code>å“åº”å¼åŸç†çš„è¯¾ç¨‹ã€‚</p>
<h2 id="å±æ€§è®¿é—®æ–¹å¼çš„åŒºåˆ«"><a href="#å±æ€§è®¿é—®æ–¹å¼çš„åŒºåˆ«" class="headerlink" title="å±æ€§è®¿é—®æ–¹å¼çš„åŒºåˆ«"></a>å±æ€§è®¿é—®æ–¹å¼çš„åŒºåˆ«</h2><p>æˆ‘ä»¬çŸ¥é“è®¿é—®å¯¹è±¡ä¸­çš„å±æ€§ï¼Œæœ‰ä¸¤ç§æ–¹å¼ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹å¼:é€šè¿‡â€˜.â€™æ¥è®¿é—®ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼:é€šè¿‡â€˜[ ]â€™æ¥è®¿é—®å±æ€§ã€‚</p>
<p>ä¸¤ç§æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€ï¼šä½¿ç”¨æ–¹æ‹¬å·æ¥è®¿é—®å±æ€§ï¼Œå¯ä»¥å€ŸåŠ©äºå˜é‡æ¥å®ç°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">  };</span><br><span class="line">  <span class="keyword">var</span> myName = <span class="string">"userName"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(person[myName]);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šä½¿ç”¨æ–¹æ‹¬å·æ¥è®¿é—®å±æ€§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°å­—æ¥åšå±æ€§ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {};</span><br><span class="line">    person[<span class="number">1</span>] = <span class="string">"hello"</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(person[<span class="number">1</span>]);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼"><a href="#åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼" class="headerlink" title="åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼"></a>åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼</h2><p><strong>å­—é¢é‡æ–¹å¼åˆ›å»ºå¯¹è±¡</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> userInfo = {</span><br><span class="line">       <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">       <span class="attr">userAge</span>: <span class="number">18</span>,</span><br><span class="line">       <span class="attr">getUserInfo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName + <span class="string">":"</span> + <span class="built_in">this</span>.userAge);</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     userInfo.getUserInfo();</span><br></pre></td></tr></tbody></table></figure>

<p>å­—é¢é‡åˆ›å»ºå¯¹è±¡æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯é—®é¢˜ä¹Ÿæ¯”è¾ƒçªå‡ºï¼Œæ¯æ¬¡åªèƒ½åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¤ç”¨æ€§æ¯”è¾ƒå·®ï¼Œå¦‚æœéœ€è¦åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œä»£ç å†—ä½™æ¯”è¾ƒé«˜ã€‚</p>
<p><strong>é€šè¿‡å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡</strong></p>
<p>å·¥å‚æ¨¡å¼æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„è®¾è®¡æ¨¡å¼ï¼Œè¯¥æ¨¡å¼æä¾›äº†ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¯¥å‡½æ•°ä¸­å®Œæˆå¯¹è±¡çš„åˆ›å»ºã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createUser</span>(<span class="params">userName, userAge</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">       o.userName = userName;</span><br><span class="line">       o.userAge = userAge;</span><br><span class="line">       o.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName + <span class="string">":"</span> + <span class="built_in">this</span>.userAge);</span><br><span class="line">       };</span><br><span class="line">       <span class="keyword">return</span> o;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> user1 = createUser(<span class="string">"wangwu"</span>, <span class="number">20</span>);</span><br><span class="line">     <span class="keyword">var</span> user2 = createUser(<span class="string">"lisi"</span>, <span class="number">20</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(user1.userName + <span class="string">":"</span> + user2.userName);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡ï¼Œè§£å†³äº†å­—é¢é‡åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å½“åˆ›å»ºå¤šä¸ªç›¸ä¼¼å¯¹è±¡çš„æ—¶å€™ä»£ç é‡å¤çš„é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œæ‰€åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯<code>Object</code>ç±»å‹ï¼Œæ— æ³•è¿›ä¸€æ­¥çš„åŒºåˆ†å¯¹è±¡çš„å…·ä½“ç±»å‹æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, userAge</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">       <span class="built_in">this</span>.userAge = userAge;</span><br><span class="line">       <span class="built_in">this</span>.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName + <span class="string">":"</span> + <span class="built_in">this</span>.userAge);</span><br><span class="line">       };</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">19</span>);</span><br><span class="line">     p.sayHi();</span><br></pre></td></tr></tbody></table></figure>

<p>æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„ä¼˜ç‚¹ï¼šè§£å†³äº†å·¥å‚æ¨¡å¼ä¸­å¯¹è±¡ç±»å‹æ— æ³•è¯†åˆ«çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡å¯ä»¥ç¡®å®šå…¶æ‰€å±çš„ç±»å‹ã€‚</p>
<p>ä½†æ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ï¼š</p>
<p>åœ¨ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½ä¼šåœ¨åˆ›å»ºå¯¹è±¡æ—¶é‡æ–°åˆ›å»ºä¸€éï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ ¹æ®<code>Person</code>æ„é€ å‡½æ•°æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±ä¼šåˆ›å»ºä¸€ä¸ª<code>sayHi</code>æ–¹æ³•ï¼Œä½†å®ƒä»¬åšçš„äº‹æƒ…æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ä¼šé€ æˆå†…å­˜çš„æµªè´¹ã€‚</p>
<p><strong>é€šè¿‡åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡</strong></p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª<code>prototype</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œè€Œæ‰€è°“çš„é€šè¿‡åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡å°±æ˜¯å°†å±æ€§å’Œæ–¹æ³•æ·»åŠ åˆ°<code>prototype</code>å±æ€§ä¸Šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">    Person.prototype.userName = <span class="string">"wangwu"</span>;</span><br><span class="line">    Person.prototype.userAge = <span class="number">20</span>;</span><br><span class="line">    Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName + <span class="string">":"</span> + <span class="built_in">this</span>.userAge);</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line">    person1.sayHi();</span><br><span class="line">    <span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line">    <span class="built_in">console</span>.log(person1.sayHi === person2.sayHi); <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä½¿ç”¨åŸºäºåŸå‹æ¨¡å¼åˆ›å»ºçš„å¯¹è±¡ï¼Œå®ƒçš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ç›¸ç­‰çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸åŒçš„å¯¹è±¡ä¼šå…±äº«åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ ·æˆ‘ä»¬å°±è§£å†³äº†<code>æ„é€ å‡½æ•°</code>åˆ›å»ºå¯¹è±¡çš„é—®é¢˜ã€‚</p>
<p>ä½†æ˜¯è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å…±äº«ç›¸åŒçš„å±æ€§ï¼Œæ‰€ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ï¼Œä¼šå¼•èµ·å…¶ä»–å¯¹è±¡å±æ€§å€¼çš„æ”¹å˜ã€‚è€Œè¿™ç§æƒ…å†µæ˜¯æˆ‘ä»¬ä¸å…è®¸çš„ï¼Œå› ä¸ºè¿™æ ·å¾ˆå®¹æ˜“é€ æˆæ•°æ®çš„æ··ä¹±ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">   Person.prototype.userName = <span class="string">"wangwu"</span>;</span><br><span class="line">   Person.prototype.userAge = <span class="number">20</span>;</span><br><span class="line">   Person.prototype.arr = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">   Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName + <span class="string">":"</span> + <span class="built_in">this</span>.userAge);</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">   <span class="keyword">var</span> p2 = <span class="keyword">new</span> Person();</span><br><span class="line">   <span class="built_in">console</span>.log(p1.userName);</span><br><span class="line">   p2.userName = <span class="string">"zhangsan"</span>;</span><br><span class="line">   <span class="built_in">console</span>.log(p1.userName); <span class="comment">//wangwu,åŸºæœ¬æ•°æ®ç±»å‹ä¸å—å½±å“</span></span><br><span class="line">   p1.arr.push(<span class="number">3</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(p1.arr); <span class="comment">// [1,2,3]</span></span><br><span class="line">   <span class="built_in">console</span>.log(p2.arr); <span class="comment">// [1,2,3]</span></span><br><span class="line">   <span class="comment">//å¼•ç”¨ç±»å‹å—å½±å“</span></span><br></pre></td></tr></tbody></table></figure>



<p><strong>ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼</strong></p>
<p>é€šè¿‡æ„é€ å‡½æ•°å’ŒåŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p>åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰å¯¹è±¡çš„å±æ€§ï¼Œè€Œåœ¨åŸå‹å¯¹è±¡ä¸­å®šä¹‰å¯¹è±¡å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰å¯¹è±¡çš„å±æ€§</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, userAge</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">        <span class="built_in">this</span>.userAge = userAge;</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">//åœ¨åŸå‹å¯¹è±¡ä¸­æ·»åŠ å…±äº«çš„æ–¹æ³•</span></span><br><span class="line">      Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.userName;</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">21</span>);</span><br><span class="line">      <span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>, <span class="number">22</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(p1.sayHi());</span><br><span class="line">      <span class="built_in">console</span>.log(p.sayHi());</span><br><span class="line">      <span class="comment">// ä¸åŒå¯¹è±¡å…±äº«ç›¸åŒçš„å‡½æ•°ï¼Œæ‰€ä»¥ç»è¿‡æ¯”è¾ƒå‘ç°æ˜¯ç›¸ç­‰çš„ã€‚</span></span><br><span class="line">      <span class="built_in">console</span>.log(p.sayHi === p1.sayHi);</span><br><span class="line">      <span class="comment">//ä¿®æ”¹på¯¹è±¡çš„userNameå±æ€§çš„å€¼ï¼Œä½†æ˜¯ä¸ä¼šå½±å“åˆ°p1å¯¹è±¡çš„userNameå±æ€§çš„å€¼</span></span><br><span class="line">      p.userName = <span class="string">"admin"</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(p.sayHi());</span><br><span class="line">      <span class="built_in">console</span>.log(p1.sayHi());</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æ„é€ å‡½æ•°ä¸åŸå‹æ¨¡å¼ç»„åˆåˆ›å»ºå¯¹è±¡çš„å¥½å¤„å°±æ˜¯ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„å±æ€§å€¼ï¼Œä¹Ÿå°±æ˜¯æ‹¥æœ‰ä¸€ä»½è‡ªå·±çš„å®ä¾‹å±æ€§çš„å‰¯æœ¬ï¼ŒåŒæ—¶åˆå…±äº«ç€æ–¹æ³•çš„å¼•ç”¨ï¼Œæœ€å¤§é™åº¦çš„èŠ‚çœäº†å†…å­˜ã€‚</p>
<p><strong>ä½¿ç”¨åŠ¨æ€åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡</strong></p>
<p>æ‰€è°“çš„ä½¿ç”¨åŠ¨æ€åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯å°†æ‰€æœ‰çš„å†…å®¹éƒ½å°è£…åˆ°æ„é€ å‡½æ•°ä¸­ï¼Œè€Œåœ¨æ„é€ å‡½æ•°ä¸­é€šè¿‡åˆ¤æ–­åªåˆå§‹åŒ–ä¸€æ¬¡åŸå‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName, userAge</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">       <span class="built_in">this</span>.userAge = userAge;</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">this</span>.sayHi !== <span class="string">"function"</span>) {</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"abc"</span>); <span class="comment">//åªè¾“å‡ºä¸€æ¬¡</span></span><br><span class="line">         Person.prototype.sayHi = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">         };</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">21</span>);</span><br><span class="line">     <span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>, <span class="number">21</span>);</span><br><span class="line">     person.sayHi();</span><br><span class="line">     person1.sayHi();</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å°†æ‰€æœ‰çš„å†…å®¹å†™åœ¨äº†æ„é€ å‡½æ•°ä¸­ï¼Œå¹¶ä¸”åœ¨æ„é€ å‡½æ•°ä¸­é€šè¿‡åˆ¤æ–­åªåˆå§‹åŒ–ä¸€æ¬¡åŸå‹ï¼Œè€Œä¸”åªåœ¨ç¬¬ä¸€æ¬¡ç”Ÿæˆå®ä¾‹çš„æ—¶å€™è¿›è¡ŒåŸå‹çš„è®¾ç½®ã€‚è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ä¸æ„é€ å‡½æ•°å’ŒåŸå‹æ··åˆæ¨¡å¼åˆ›å»ºçš„å¯¹è±¡åŠŸèƒ½ä¸Šæ˜¯ç›¸åŒçš„ã€‚</p>
<h2 id="å¯¹è±¡æ‹·è´"><a href="#å¯¹è±¡æ‹·è´" class="headerlink" title="å¯¹è±¡æ‹·è´"></a>å¯¹è±¡æ‹·è´</h2><p>æ‹·è´æŒ‡çš„å°±æ˜¯å°†æŸä¸ªå˜é‡çš„å€¼å¤åˆ¶ç»™å¦å¤–ä¸€ä¸ªå˜é‡çš„è¿‡ç¨‹ï¼Œå…³äºæ‹·è´å¯ä»¥åˆ†ä¸ºæµ…æ‹·è´ä¸æ·±æ‹·è´ã€‚</p>
<p>é’ˆå¯¹ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œæµ…æ‹·è´ä¸æ·±æ‹·è´ä¼šæœ‰ä¸åŒçš„è¡¨ç°ï¼Œä¸»è¦è¡¨ç°äºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹åœ¨å†…å­˜ä¸­å­˜å‚¨çš„å€¼ä¸åŒã€‚</p>
<p>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå˜é‡å­˜å‚¨çš„æ˜¯å€¼æœ¬èº«ï¼Œ</p>
<p>å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œå˜é‡å­˜å‚¨çš„æ˜¯å€¼åœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œå¦‚æœæœ‰å¤šä¸ªå˜é‡åŒæ—¶æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå…¶ä¸­å¯¹ä¸€ä¸ªå˜é‡çš„å€¼è¿›è¡Œä¿®æ”¹ä»¥åï¼Œå…¶å®ƒçš„å˜é‡ä¹Ÿä¼šå—åˆ°å½±å“ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">23</span>,<span class="number">33</span>]</span><br><span class="line"><span class="keyword">var</span> arr2=arr</span><br><span class="line">arr2[<span class="number">0</span>]=<span class="number">10</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// &nbsp;[10, 23, 33]</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æŠŠ<code>arr</code>èµ‹å€¼ç»™äº†<code>arr2</code>,ç„¶åä¿®æ”¹<code>arr2</code>çš„å€¼ï¼Œä½†æ˜¯<code>arr</code>ä¹Ÿå—åˆ°äº†å½±å“ã€‚</p>
<p>æ­£æ˜¯ç”±äºæ•°æ®ç±»å‹çš„ä¸åŒï¼Œå¯¼è‡´åœ¨è¿›è¡Œæµ…æ‹·è´ä¸æ·±æ‹·è´çš„æ—¶å€™é¦–å…ˆçš„æ•ˆæœæ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<p><strong>åŸºæœ¬æ•°æ®ç±»å‹ä¸ç®¡æ˜¯æµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´éƒ½æ˜¯å¯¹å€¼çš„æœ¬èº«çš„æ‹·è´ã€‚å¯¹æ‹·è´åå€¼çš„ä¿®æ”¹ä¸ä¼šå½±å“åˆ°åŸå§‹çš„å€¼ã€‚</strong></p>
<p><strong>å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹è¿›è¡Œæµ…æ‹·è´ï¼Œæ‹·è´åçš„å€¼çš„ä¿®æ”¹ä¼šå½±å“åˆ°åŸå§‹çš„å€¼ï¼Œå¦‚æœæ‰§è¡Œçš„æ˜¯æ·±æ‹·è´ï¼Œåˆ™æ‹·è´çš„å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚</strong></p>
<p>æ‰€ä»¥ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Œä»€ä¹ˆæ˜¯æ·±æ‹·è´ã€‚</p>
<p>æµ…æ‹·è´ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯æ‹·è´åçš„å†…å®¹ä¸åŸå§‹å†…å®¹æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œè¿™æ ·æ‹·è´åçš„å€¼çš„ä¿®æ”¹ä¼šå½±å“åˆ°åŸå§‹çš„å€¼ã€‚</p>
<p>æ·±æ‹·è´ï¼šå¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ‹·è´çš„ä¹Ÿæ˜¯åŸºæœ¬ç±»å‹çš„å€¼ï¼Œå¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œå°±å°†å…¶ä»å†…å­˜ä¸­å®Œæ•´çš„æ‹·è´ä¸€ä»½å‡ºæ¥ï¼Œå¹¶ä¸”ä¼šåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸€ä¸ªæ–°çš„åŒºåŸŸå­˜æ¥è¿›è¡Œå­˜æ”¾ï¼Œè€Œä¸”æ‹·è´çš„å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚</p>
<h3 id="æµ…æ‹·è´"><a href="#æµ…æ‹·è´" class="headerlink" title="æµ…æ‹·è´"></a>æµ…æ‹·è´</h3><p>ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹<strong>æµ…æ‹·è´</strong>çš„å†…å®¹</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = { <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>], <span class="attr">o</span>: { <span class="attr">name</span>: <span class="string">"zhangsan"</span> } };</span><br><span class="line">     <span class="keyword">var</span> shallowObj = shallowCopy(obj);</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">shallowCopy</span>(<span class="params">src</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> dst = {};</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> src) {</span><br><span class="line">         <span class="keyword">if</span> (src.hasOwnProperty(prop)) {</span><br><span class="line">           dst[prop] = src[prop];</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> dst;</span><br><span class="line">     }</span><br><span class="line">     obj.o.name = <span class="string">"lisi"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(shallowObj.o.name); <span class="comment">//lisi,å€¼å—åˆ°äº†å½±å“</span></span><br><span class="line">     obj.arr[<span class="number">0</span>] = <span class="number">20</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(shallowObj.arr[<span class="number">0</span>]); <span class="comment">//20ï¼Œå€¼å—åˆ°äº†å½±å“</span></span><br><span class="line">     obj.a = <span class="number">10</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(shallowObj.a); <span class="comment">// 1,å€¼æ²¡æœ‰æ”¶åˆ°å½±å“</span></span><br></pre></td></tr></tbody></table></figure>



<p>é™¤äº†ä»¥ä¸Šæ–¹å¼å®ç°æµ…æ‹·è´ä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>ES6</code>ä¸­çš„<code>Object.assign()</code>å‡½æ•°æ¥å®ç°ï¼Œè¯¥å‡½æ•°å¯ä»¥å°†æºå¯¹è±¡ä¸­çš„å¯æšä¸¾çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = { <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>], <span class="attr">o</span>: { <span class="attr">name</span>: <span class="string">"zhangsan"</span> } };</span><br><span class="line">     <span class="keyword">var</span> result = {};</span><br><span class="line">     <span class="comment">//å°†objå¯¹è±¡æ‹·è´ç»™resultå¯¹è±¡</span></span><br><span class="line">     <span class="built_in">Object</span>.assign(result, obj);</span><br><span class="line">     <span class="built_in">console</span>.log(result);</span><br><span class="line">     obj.a = <span class="number">10</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(result.a); <span class="comment">// 1ï¼Œä¸å—å½±å“</span></span><br><span class="line">     obj.arr[<span class="number">0</span>] = <span class="number">20</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(result.arr[<span class="number">0</span>]); <span class="comment">//20 å—å½±å“</span></span><br><span class="line">     obj.o.name = <span class="string">"lisi"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(result.o.name); <span class="comment">// lisi å—å½±å“</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="æ·±æ‹·è´"><a href="#æ·±æ‹·è´" class="headerlink" title="æ·±æ‹·è´"></a>æ·±æ‹·è´</h3><p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<strong>æ·±æ‹·è´</strong>å†…å®¹</p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify());</span><br></pre></td></tr></tbody></table></figure>

<p>æ¥å®ç°æ·±æ‹·è´ã€‚</p>
<p><code>JSON.stringify()</code>å¯ä»¥å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</p>
<p><code>JSON.parse()</code>å¯ä»¥å°†å­—ç¬¦ä¸²ååºåˆ—ä¸ºä¸€ä¸ªå¯¹è±¡</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = { <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>], <span class="attr">o</span>: { <span class="attr">name</span>: <span class="string">"zhangsan"</span> } };</span><br><span class="line">     <span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(obj);</span><br><span class="line">     <span class="keyword">var</span> resultObj = <span class="built_in">JSON</span>.parse(str);</span><br><span class="line">     obj.a = <span class="number">10</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(resultObj.a); <span class="comment">// 1 ä¸å—å½±å“</span></span><br><span class="line">     obj.arr[<span class="number">0</span>] = <span class="number">20</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(resultObj.arr[<span class="number">0</span>]); <span class="comment">// 2 ä¸å—å½±å“</span></span><br><span class="line">     obj.o.name = <span class="string">"lisi"</span>;</span><br><span class="line">     <span class="built_in">console</span>.log(resultObj.o.name); <span class="comment">// zhangsan ä¸å—å½±å“</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šé€šè¿‡<code>JSON</code>å¯¹è±¡ï¼Œè™½ç„¶èƒ½å¤Ÿå®ç°æ·±æ‹·è´ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€å®šçš„é—®é¢˜çš„ã€‚</p>
<p>ç¬¬ä¸€ï¼šæ— æ³•å®ç°å¯¹å‡½æ•°çš„æ‹·è´</p>
<p>ç¬¬äºŒï¼šå¦‚æœå¯¹è±¡ä¸­å­˜åœ¨å¾ªç¯å¼•ç”¨ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>ç¬¬ä¸‰ï¼šå¯¹è±¡ä¸­çš„æ„é€ å‡½æ•°ä¼šæŒ‡å‘<code>Object</code>,åŸå‹é“¾å…³ç³»è¢«ç ´åã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">userName</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = userName;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">     <span class="keyword">var</span> obj = {</span><br><span class="line">       <span class="attr">fn</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"abc"</span>);</span><br><span class="line">       },</span><br><span class="line">       <span class="comment">// å±æ€§oçš„å€¼ä¸ºæŸä¸ªå¯¹è±¡</span></span><br><span class="line">       <span class="attr">o</span>: person,</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">var</span> str = <span class="built_in">JSON</span>.stringify(obj);</span><br><span class="line">     <span class="keyword">var</span> resultObj = <span class="built_in">JSON</span>.parse(str);</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"resultObj="</span>, resultObj); <span class="comment">// è¿™é‡Œä¸¢å¤±äº†fnå±æ€§ã€‚å› ä¸ºè¯¥å±æ€§çš„å€¼ä¸ºå‡½æ•°</span></span><br><span class="line">     <span class="built_in">console</span>.log(resultObj.o.constructor); <span class="comment">//æŒ‡å‘äº†Object,å¯¼è‡´äº†åŸå‹é“¾å…³ç³»çš„ç ´åã€‚</span></span><br><span class="line">     <span class="built_in">console</span>.log(obj.o.constructor); <span class="comment">// è¿™é‡ŒæŒ‡å‘Personæ„é€ å‡½æ•°ï¼Œæ²¡æœ‰é—®é¢˜</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = {</span><br><span class="line">      <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">    };</span><br><span class="line">    obj.a = obj;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj));</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„å†…å®¹ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p><strong>è‡ªå·±æ¨¡æ‹Ÿå®ç°æ·±æ‹·è´</strong></p>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªç®€å•çš„æ·±æ‹·è´ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ä¸­çš„æ–¹æ³•æ¥å®ç°æ·±æ‹·è´ï¼Œä¾‹å¦‚ï¼šå¯ä»¥ä½¿ç”¨<code>jQuery</code>ä¸­çš„<code>$.extend()</code></p>
<p>åœ¨æµ…æ‹·è´ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¾ªç¯å°†æºå¯¹è±¡ä¸­å±æ€§ä¾æ¬¡æ·»åŠ åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œè€Œåœ¨æ·±æ‹·è´ä¸­ï¼Œéœ€è¦è€ƒè™‘å¯¹è±¡ä¸­çš„å±æ€§æ˜¯å¦æœ‰åµŒå¥—çš„æƒ…å†µï¼ˆå±æ€§çš„å€¼æ˜¯å¦è¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œå¦‚æœæœ‰åµŒå¥—å¯ä»¥é€šè¿‡é€’å½’çš„æ–¹å¼æ¥å®ç°ï¼Œç›´åˆ°å±æ€§ä¸ºåŸºæœ¬ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦å°†æºå¯¹è±¡å„ä¸ªå±æ€§æ‰€åŒ…å«çš„å¯¹è±¡ä¾æ¬¡é‡‡ç”¨é€’å½’çš„æ–¹å¼å¤åˆ¶åˆ°<strong>æ–°å¯¹è±¡</strong>ä¸Šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target</span>) </span>{</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">"object"</span>) {</span><br><span class="line">         <span class="keyword">let</span> objTarget = {};</span><br><span class="line">         <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) {</span><br><span class="line">             <span class="comment">//é€šè¿‡é€’å½’å®Œæˆæ‹·è´</span></span><br><span class="line">           objTarget[key] = clone(target[key]);</span><br><span class="line">         }</span><br><span class="line">         <span class="keyword">return</span> objTarget;</span><br><span class="line">       } <span class="keyword">else</span> {</span><br><span class="line">         <span class="keyword">return</span> target;</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> obj = {</span><br><span class="line">       <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">       <span class="attr">a</span>: {</span><br><span class="line">         <span class="attr">a1</span>: <span class="string">"hello"</span>,</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">var</span> result = clone(obj);</span><br><span class="line">     <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ·±æ‹·è´åŠŸèƒ½ï¼Œä½†æ˜¯åœ¨è¿™æ®µä»£ç ä¸­æˆ‘ä»¬åªè€ƒè™‘äº†æ™®é€šçš„<code>object</code>,è¿˜æ²¡æœ‰å®ç°æ•°ç»„ï¼Œæ‰€ä»¥å°†ä¸Šé¢çš„ä»£ç ä¿®æ”¹ä¸€ä¸‹ï¼Œè®©å…¶èƒ½å¤Ÿå…¼å®¹åˆ°æ•°ç»„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target</span>) </span>{</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">"object"</span>) {</span><br><span class="line">       <span class="comment">//åˆ¤æ–­targetæ˜¯å¦ä¸ºæ•°ç»„</span></span><br><span class="line">       <span class="keyword">let</span> objTarget = <span class="built_in">Array</span>.isArray(target) ? [] : {};</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) {</span><br><span class="line">         objTarget[key] = clone(target[key]);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> objTarget;</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">return</span> target;</span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> obj = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">     <span class="attr">a</span>: {</span><br><span class="line">       <span class="attr">a1</span>: <span class="string">"hello"</span>,</span><br><span class="line">     },</span><br><span class="line">     <span class="comment">//æ·»åŠ æ•°ç»„</span></span><br><span class="line">     <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">var</span> result = clone(obj);</span><br><span class="line">   <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ·»åŠ äº†<code>  let objTarget = Array.isArray(target) ? [] : {};</code>åˆ¤æ–­<code>target</code>æ˜¯å¦ä¸ºæ•°ç»„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target</span>) </span>{</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">"object"</span>) {</span><br><span class="line">       <span class="comment">//åˆ¤æ–­targetæ˜¯å¦ä¸ºæ•°ç»„</span></span><br><span class="line">       <span class="keyword">let</span> objTarget = <span class="built_in">Array</span>.isArray(target) ? [] : {};</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) {</span><br><span class="line">         objTarget[key] = clone(target[key]);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> objTarget;</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">return</span> target;</span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> obj = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">     <span class="attr">a</span>: {</span><br><span class="line">       <span class="attr">a1</span>: <span class="string">"hello"</span>,</span><br><span class="line">     },</span><br><span class="line">     <span class="comment">//æ·»åŠ æ•°ç»„</span></span><br><span class="line">     <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">   };</span><br><span class="line">   obj.o = obj; <span class="comment">//æ„æˆäº†å¾ªç¯å¼•ç”¨</span></span><br><span class="line">   <span class="keyword">var</span> result = clone(obj);</span><br><span class="line">   <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ·»åŠ äº†<code>obj.o=obj</code>.ç„¶åå‡ºç°äº†<code>Maximum call stack size exceeded</code></p>
<p>ä»¥ä¸Šçš„é”™è¯¯è¡¨æ˜äº†é€’å½’è¿›å…¥äº†æ­»å¾ªç¯å¯¼è‡´æ ˆå†…å­˜æº¢å‡ºã€‚</p>
<p>åŸå› æ˜¯ï¼šå¯¹è±¡å­˜åœ¨å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„å±æ€§é—´æ¥æˆ–ç›´æ¥å¼•ç”¨äº†è‡ªèº«çš„æƒ…å†µã€‚</p>
<p>è§£å†³çš„æ–¹æ³•ï¼šè¿™é‡Œæˆ‘ä»¬å¯ä»¥é¢å¤–å¼€è¾Ÿä¸€ä¸ªå­˜å‚¨ç©ºé—´ï¼Œåœ¨è¿™ä¸ªå­˜å‚¨ç©ºé—´ä¸­å­˜å‚¨å½“å‰å¯¹è±¡å’Œæ‹·è´å¯¹è±¡ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚</p>
<p>å½“éœ€è¦æ‹·è´å½“å‰çš„å¯¹è±¡çš„æ—¶å€™ï¼Œå…ˆå»è¿™ä¸ªå­˜å‚¨ç©ºé—´ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‹·è´è¿‡è¿™ä¸ªå¯¹è±¡ï¼Œæ‰§è¡Œæ‹·è´æ“ä½œã€‚å¦‚æœå·²ç»æ‹·è´è¿‡è¿™ä¸ªå¯¹è±¡ï¼Œç›´æ¥è¿”å›ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">target</span>) </span>{</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">"object"</span>) {</span><br><span class="line">       <span class="comment">//åˆ¤æ–­targetæ˜¯å¦ä¸ºæ•°ç»„</span></span><br><span class="line">       <span class="keyword">let</span> objTarget = <span class="built_in">Array</span>.isArray(target) ? [] : {};</span><br><span class="line">       <span class="comment">// å¦‚æœæœ‰ç›´æ¥è¿”å›</span></span><br><span class="line">       <span class="keyword">if</span> (map.get(target)) {</span><br><span class="line">         <span class="keyword">return</span> target;</span><br><span class="line">       }</span><br><span class="line">       <span class="comment">//å­˜å‚¨å½“å‰å¯¹è±¡ä¸æ‹·è´å¯¹è±¡çš„å¯¹åº”å…³ç³»</span></span><br><span class="line">       map.set(target, objTarget);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) {</span><br><span class="line">         objTarget[key] = clone(target[key]);</span><br><span class="line">       }</span><br><span class="line">       <span class="keyword">return</span> objTarget;</span><br><span class="line">     } <span class="keyword">else</span> {</span><br><span class="line">       <span class="keyword">return</span> target;</span><br><span class="line">     }</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> obj = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">     <span class="attr">a</span>: {</span><br><span class="line">       <span class="attr">a1</span>: <span class="string">"hello"</span>,</span><br><span class="line">     },</span><br><span class="line">     <span class="comment">//æ·»åŠ æ•°ç»„</span></span><br><span class="line">     <span class="attr">arr</span>: [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">   };</span><br><span class="line">   obj.o = obj; <span class="comment">//æ„æˆäº†å¾ªç¯å¼•ç”¨</span></span><br><span class="line">   <span class="keyword">var</span> result = clone(obj);</span><br><span class="line">   <span class="built_in">console</span>.log(result);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªåŸºæœ¬çš„æ·±æ‹·è´çš„æ¡ˆä¾‹ã€‚</p>
<h2 id="é‡å†™åŸå‹å¯¹è±¡çš„é—®é¢˜"><a href="#é‡å†™åŸå‹å¯¹è±¡çš„é—®é¢˜" class="headerlink" title="é‡å†™åŸå‹å¯¹è±¡çš„é—®é¢˜"></a>é‡å†™åŸå‹å¯¹è±¡çš„é—®é¢˜</h2><p><strong>åŸå‹å¯¹è±¡</strong></p>
<p><img src="/2020/09/25/JavaScript-1/constructor.png"></p>
<p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬è®²è§£è¿‡åŸå‹å¯¹è±¡ï¼Œæˆ‘ä»¬çŸ¥é“æ¯ä¸ªå‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™éƒ½ä¼šæœ‰ä¸€ä¸ª<code>prototype</code>å±æ€§ï¼Œå®ƒæŒ‡å‘å‡½æ•°çš„åŸå‹å¯¹è±¡ã€‚</p>
<p>åœ¨è¿™ä¸ªå¯¹è±¡ä¸­å¯ä»¥åŒ…å«æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚ä¾‹å¦‚ä¸Šå›¾ä¸­çš„<code>sayName</code>æ–¹æ³•ã€‚</p>
<p>åŒæ—¶åœ¨æ¯ä¸ªåŸå‹å¯¹è±¡ä¸Šéƒ½ä¼šå¢åŠ ä¸€ä¸ª<code>constructor</code>å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘<code>prototype</code>å±æ€§æ‰€åœ¨çš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p>
<p><img src="/2020/09/25/JavaScript-1/proto.png"></p>
<p>å½“æˆ‘ä»¬é€šè¿‡<code>new</code>æ“ä½œç¬¦åˆ›å»ºä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œè¯¥å®ä¾‹å°±æœ‰äº†ä¸€ä¸ª<code>__proto__</code>å±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘äº†æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼š</p>
<p>æ‰€ä»¥è¯´ï¼Œ<code>__proto__</code>å±æ€§å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè¿æ¥å®ä¾‹ä¸æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡çš„æ¡¥æ¢ã€‚</p>
<p><strong>æ‰€ä»¥ä¸‰è€…çš„å…³ç³»æ˜¯ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®ä¾‹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆã€‚</strong>é€šä¿—ç‚¹è¯´å°±æ˜¯ï¼Œå®ä¾‹é€šè¿‡å†…éƒ¨æŒ‡é’ˆå¯ä»¥è®¿é—®åˆ°åŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡é€šè¿‡constructoræŒ‡é’ˆï¼Œåˆå¯ä»¥æ‰¾åˆ°æ„é€ å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯ä¸Šå›¾ä½“ç°çš„å†…å®¹ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š<strong>é‡å†™åŸå‹å¯¹è±¡</strong></p>
<p>æˆ‘ä»¬åœ¨å‰é¢å†™ä»£ç çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½æ˜¯ä¸ºåŸå‹å¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§æˆ–è€…å‡½æ•°æ—¶ï¼Œéƒ½æ˜¯ç›´æ¥ç»™<code>Person.prototype</code>ä¸Šæ·»åŠ ï¼Œè¿™ç§å†™æ³•æ¯”è¾ƒå†—ä½™ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†å±æ€§å’Œæ–¹æ³•å†™æˆä¸€ä¸ªå­—é¢é‡å¯¹è±¡çš„å½¢å¼ï¼Œç„¶ååœ¨èµ‹å€¼ç»™<code>prototype</code>å±æ€§ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">   Person.prototype = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">     <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">     <span class="attr">sayHi</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">     },</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">   person.sayHi(); <span class="comment">//zhangsan</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æ‰§è¡Œçš„ç»“æœï¼Œä¾ç„¶å¯ä»¥è·å–åˆ°åŸå‹å¯¹è±¡ä¸Šå±æ€§çš„å€¼ã€‚</p>
<p>å½“æˆ‘ä»¬æŠŠä¸€ä¸ªå­—é¢é‡å¯¹è±¡èµ‹å€¼ç»™<code>prototype</code>å±æ€§ä»¥åï¼Œå®é™…ä¸Šå°±æ˜¯é‡å†™äº†åŸå‹å¯¹è±¡ã€‚</p>
<p>ä½†æ˜¯è¿™æ—¶å€™ï¼Œæˆ‘ä»¬æ‰“å°<code>Person.prototype.constructor</code>çš„æ—¶å€™ï¼Œå‘ç°ä¸åœ¨æŒ‡å‘<code>Person</code>è¿™ä¸ªæ„é€ å‡½æ•°,è€Œæ˜¯æŒ‡å‘äº†<code>Object</code>æ„é€ å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">  Person.prototype = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">sayHi</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">    },</span><br><span class="line">  };</span><br><span class="line">  <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">  person.sayHi();</span><br><span class="line">  <span class="built_in">console</span>.log(Person.prototype.constructor); <span class="comment">// Object</span></span><br></pre></td></tr></tbody></table></figure>

<p>åŸå› æ˜¯ï¼šåœ¨é‡å†™<code>prototype</code>çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨å­—é¢é‡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªæ–°çš„å¯¹è±¡ä¸­å°‘äº†<code>constructor</code>å±æ€§ï¼Œ</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E9%87%8D%E5%86%99.png"></p>
<p>è€Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨å­—é¢é‡å¯¹è±¡ä¸­æœ‰ä¸€ä¸ª<code>__proto__</code>å±æ€§ï¼ŒæŒ‡å‘äº†<code>Object</code>çš„åŸå‹å¯¹è±¡,è¿™æ—¶ï¼Œåªèƒ½å»<code>Object</code>åŸå‹å¯¹è±¡ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰<code>constructor</code>å±æ€§ï¼Œè€Œ<code>Object</code>åŸå‹å¯¹è±¡ä¸­çš„<code>constructor</code>æŒ‡å‘çš„è¿˜æ˜¯<code>Object</code>.æ‰€ä»¥æœ€ç»ˆè¾“å‡ºç»“æœä¸º<code>Object</code>.</p>
<p>æˆ‘ä»¬æ€æ ·é¿å…è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p>
<p>å¯ä»¥åœ¨é‡å†™åŸå‹å¯¹è±¡çš„æ—¶å€™æ·»åŠ <code>constructor</code>å±æ€§ã€‚è¿™æ ·å°±ä¸ç”¨åœ¨å»æ–°å¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸­æŸ¥æ‰¾<code>constructor</code>å±æ€§äº†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">      Person.prototype = {</span><br><span class="line">        <span class="attr">constructor</span>: Person, <span class="comment">//æ·»åŠ constructor</span></span><br><span class="line">        <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">        <span class="attr">sayHi</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">        },</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">      person.sayHi();</span><br><span class="line">      <span class="built_in">console</span>.log(Person.prototype.constructor);<span class="comment">// Person</span></span><br></pre></td></tr></tbody></table></figure>

<p>é‡å†™äº†åŸå‹å¯¹è±¡ä»¥åï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åœ¨é‡å†™åŸå‹å¯¹è±¡ä¹‹å‰ï¼Œå·²ç»ç”Ÿæˆçš„å¯¹è±¡çš„å®ä¾‹ï¼Œæ— æ³•è·å–æ–°çš„åŸå‹å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{}</span><br><span class="line">    <span class="keyword">var</span> person = <span class="keyword">new</span> Person();<span class="comment">//åœ¨é‡å†™åŸå‹å¯¹è±¡ä¹‹å‰ï¼Œç”Ÿæˆå¯¹è±¡çš„å®ä¾‹</span></span><br><span class="line">    Person.prototype = {</span><br><span class="line">      <span class="attr">constructor</span>: Person, <span class="comment">//æ·»åŠ constructor</span></span><br><span class="line">      <span class="attr">userName</span>: <span class="string">"zhangsan"</span>,</span><br><span class="line">      <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">      <span class="attr">sayHi</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">      },</span><br><span class="line">    };</span><br><span class="line">    <span class="comment">//   var person = new Person();</span></span><br><span class="line">    person.sayHi(); <span class="comment">//  person.sayHi is not a function,æ— æ³•è·å–sayHiå‡½æ•°ã€‚</span></span><br><span class="line">    <span class="built_in">console</span>.log(Person.prototype.constructor);</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>é€ æˆä¸Šé¢é”™è¯¯çš„åŸå› æ˜¯ï¼š<code>person</code>è¿™ä¸ªå¯¹è±¡æŒ‡å‘çš„æ˜¯æœ€åˆçš„åŸå‹å¯¹è±¡ï¼Œè€Œæœ€åˆçš„åŸå‹å¯¹è±¡ä¸­æ˜¯æ²¡æœ‰<code>sayHi</code>è¿™ä¸ªæ–¹æ³•çš„ã€‚</p>
<p>æ‰€ä»¥åœ¨æ‰§è¡Œçš„æ—¶å€™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h2 id="ç»§æ‰¿çš„å®ç°æ–¹å¼æœ‰å“ªäº›"><a href="#ç»§æ‰¿çš„å®ç°æ–¹å¼æœ‰å“ªäº›" class="headerlink" title="ç»§æ‰¿çš„å®ç°æ–¹å¼æœ‰å“ªäº›"></a>ç»§æ‰¿çš„å®ç°æ–¹å¼æœ‰å“ªäº›</h2><p>å…³äºç»§æ‰¿çš„å®ç°æ–¹å¼ï¼Œåœ¨å‰é¢ï¼Œæˆ‘ä»¬ä¹Ÿå·²ç»è®²è§£è¿‡ï¼Œè¿™é‡Œåšä¸€ä¸ªæ±‡æ€»ã€‚</p>
<h3 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.superType = <span class="string">"Animal"</span>;</span><br><span class="line">        <span class="built_in">this</span>.name = name || <span class="string">"åŠ¨ç‰©"</span>;</span><br><span class="line">        <span class="comment">//å®ä¾‹æ–¹æ³•</span></span><br><span class="line">        <span class="built_in">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">"æ­£åœ¨ç¡è§‰!!"</span>);</span><br><span class="line">        };</span><br><span class="line">      }</span><br><span class="line"><span class="comment">//åŸå‹ä¸Šçš„å‡½æ•°</span></span><br><span class="line">      Animal.prototype.eat = <span class="function"><span class="keyword">function</span> (<span class="params">food</span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">"æ­£åœ¨åƒ:"</span> + food);</span><br><span class="line">      };</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">// æ”¹å˜Dogçš„prototypeæŒ‡å‘ï¼ŒæŒ‡å‘äº†ä¸€ä¸ªAnimalå®ä¾‹ï¼Œå®ç°äº†åŸå‹ç»§æ‰¿</span></span><br><span class="line">      Dog.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">      <span class="keyword">var</span> doggie = <span class="keyword">new</span> Dog(<span class="string">"wangcai"</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(doggie.superType);</span><br><span class="line">      doggie.sleep();</span><br><span class="line">      doggie.eat(<span class="string">"ç‹—ç²®"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå°†<code>Animal</code>çš„å®ä¾‹èµ‹å€¼ç»™äº†<code>Dog</code>çš„åŸå‹å¯¹è±¡ï¼Œè¿™æ ·å°±å®ç°äº†åŸå‹çš„ç»§æ‰¿ï¼Œæ‰€ä»¥<code>Dog</code>çš„å®ä¾‹å¯ä»¥è·å–çˆ¶ç±»<code>Animal</code>ä¸­çš„<code>superType</code>å±æ€§ï¼Œè°ƒç”¨çˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•ï¼ŒåŸå‹ä¸Šçš„å‡½æ•°ã€‚</p>
<p>ä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡ä¸€å¼ å›¾æ¥ç†è§£ä¸€ä¸‹ï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF1.png"></p>
<p>åŸæ¥çš„æ„é€ å‡½æ•°<code>Dog</code>çš„<code>prototype</code>æŒ‡å‘çš„æ˜¯<code>Dog</code>çš„åŸå‹å¯¹è±¡ï¼Œä½†æ˜¯ç°åœ¨æŒ‡å‘äº†<code>Animal</code>çš„å®ä¾‹å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´æ„é€ å‡½æ•°<code>Dog</code>çš„åŸå‹å¯¹è±¡ä¸º<code>Animal</code>çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<p>è¿™æ ·ä¼šå‡ºç°ä»€ä¹ˆæ ·çš„æ•ˆæœå‘¢ï¼Ÿ</p>
<p><img src="/2020/09/25/JavaScript-1/%E5%8E%9F%E5%9E%8B%E7%BB%A7%E6%89%BF2.png"></p>
<p>æ³¨æ„ï¼šä¸Šé¢æˆ‘ä»¬æ‰€å†™çš„ä»£ç è¿˜æ˜¯æœ‰ä¸€ä¸ªå°çš„é—®é¢˜çš„ã€‚</p>
<p><code>Dog.prototype.constructor</code>æŒ‡å‘äº†<code>Animal</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Dog.prototype.constructor===Animal <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œï¼Œè¿˜æ˜¯è¦æ±‚<code>Dog.prototype.constructor</code>æŒ‡å‘<code>Dog</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.superType = <span class="string">"Animal"</span>;</span><br><span class="line">       <span class="built_in">this</span>.name = name || <span class="string">"åŠ¨ç‰©"</span>;</span><br><span class="line">       <span class="comment">//å®ä¾‹æ–¹æ³•</span></span><br><span class="line">       <span class="built_in">this</span>.sleep = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">"æ­£åœ¨ç¡è§‰!!"</span>);</span><br><span class="line">       };</span><br><span class="line">     }</span><br><span class="line">     Animal.prototype.eat = <span class="function"><span class="keyword">function</span> (<span class="params">food</span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.name + <span class="string">"æ­£åœ¨åƒ:"</span> + food);</span><br><span class="line">     };</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Dog</span>(<span class="params">name</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.name = name;</span><br><span class="line">     }</span><br><span class="line">     <span class="comment">// æ”¹å˜Dogçš„prototypeæŒ‡å‘ï¼ŒæŒ‡å‘äº†ä¸€ä¸ªAnimalå®ä¾‹ï¼Œå®ç°äº†åŸå‹ç»§æ‰¿</span></span><br><span class="line">     Dog.prototype = <span class="keyword">new</span> Animal();</span><br><span class="line">     <span class="comment">// å°†Dogçš„æ„é€ å‡½æ•°æŒ‡å‘è‡ªèº«</span></span><br><span class="line">     Dog.prototype.constructor = Dog;</span><br><span class="line">     <span class="keyword">var</span> doggie = <span class="keyword">new</span> Dog(<span class="string">"wangcai"</span>);</span><br><span class="line">     <span class="built_in">console</span>.log(doggie.superType);</span><br><span class="line">     doggie.sleep();</span><br><span class="line">     doggie.eat(<span class="string">"ç‹—ç²®"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>åŸå‹ç»§æ‰¿çš„ä¼˜ç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼šå®ç°èµ·æ¥éå¸¸ç®€å•</p>
<p>åªè¦è®¾ç½®å­ç±»çš„<code>portotype</code>å±æ€§ä¸ºçˆ¶ç±»çš„å®ä¾‹å³å¯ã€‚</p>
<p>ç¬¬äºŒï¼šå¯ä»¥é€šè¿‡å­ç±»çš„å®ä¾‹ç›´æ¥è®¿é—®çˆ¶ç±»åŸå‹é“¾ä¸­çš„å±æ€§å’Œå‡½æ•°ã€‚</p>
<p>åŸå‹ç»§æ‰¿çš„ç¼ºç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼šæˆ‘ä»¬çŸ¥é“å­ç±»çš„æ‰€æœ‰å®ä¾‹å°†å…±äº«çˆ¶ç±»çš„å±æ€§ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœçˆ¶ç±»ä¸­çš„æŸä¸ªå±æ€§çš„å€¼ä¸ºå¼•ç”¨ç±»å‹ï¼ŒæŸä¸ªå­ç±»çš„å®ä¾‹å»ä¿®æ”¹è¿™ä¸ªå±æ€§çš„å€¼ï¼Œå°±ä¼šå½±å“åˆ°å…¶å®ƒå®ä¾‹çš„å€¼ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">  }</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id</span>) </span>{</span><br><span class="line">    <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">  }</span><br><span class="line">  Studnet.prototype = <span class="keyword">new</span> Person();</span><br><span class="line">  Studnet.prototype.constructor = Studnet;</span><br><span class="line">  <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(stu1.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ "]</span></span><br><span class="line">  stu1.emotion.push(<span class="string">"ç©æ¸¸æˆ"</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(stu1.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ ", "ç©æ¸¸æˆ"]</span></span><br><span class="line">  <span class="comment">//åˆ›å»º stu2å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">var</span> stu2 = <span class="keyword">new</span> Studnet(<span class="number">1002</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(stu2.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ ", "ç©æ¸¸æˆ"]</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>stu1</code>å¯¹è±¡å‘æ•°ç»„<code>emotion</code>æ•°ç»„ä¸­æ·»åŠ äº†ä¸€é¡¹ä»¥åï¼Œ<code>stu2</code>å¯¹è±¡ä¹Ÿæ”¶åˆ°äº†å½±å“ã€‚</p>
<p>ç¬¬äºŒï¼šåœ¨åˆ›å»ºå­ç±»çš„å®ä¾‹çš„æ—¶å€™ï¼Œæ— æ³•å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</p>
<p>åœ¨é€šè¿‡<code>new</code>æ“ä½œç¬¦åˆ›å»ºå­ç±»çš„å®ä¾‹çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨å­ç±»çš„æ„é€ å‡½æ•°ï¼Œè€Œåœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­å¹¶æ²¡æœ‰è®¾ç½®ä¸çˆ¶ç±»çš„å…³è”æ“ä½œï¼Œæ‰€ä»¥æ— æ³•å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</p>
<p>ç¬¬ä¸‰ï¼šåœ¨ç»™å­ç±»çš„åŸå‹å¯¹è±¡ä¸Šæ·»åŠ å±æ€§æˆ–è€…æ˜¯æ–¹æ³•çš„æ—¶å€™ï¼Œä¸€å®šè¦æ”¾åœ¨<code>Student.prototype=new Person</code>è¯­å¥çš„åé¢ã€‚</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">      }</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">      }</span><br><span class="line"><span class="comment">//åœ¨Studnet.prototype = new Person();ä»£ç å‰ç»™Studentçš„prototypeæ·»åŠ studyæ–¹æ³•ã€‚</span></span><br><span class="line">      Studnet.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š"</span>);</span><br><span class="line">      };</span><br><span class="line">      Studnet.prototype = <span class="keyword">new</span> Person();</span><br><span class="line">      Studnet.prototype.constructor = Studnet;</span><br><span class="line">      <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>);</span><br><span class="line">      stu1.study();</span><br></pre></td></tr></tbody></table></figure>

<p>æŒ‡å‘ä¸Šé¢çš„ä»£ç ï¼Œä¼šå‡ºç°<code>stu1.study is not a function</code>çš„é”™è¯¯ã€‚</p>
<p>åŸå› ï¼šåé¢é€šè¿‡<code>Studnet.prototype = new Person();</code>è¿™è¡Œä»£ç å¯¹<code>Student</code>çš„åŸå‹å¯¹è±¡è¿›è¡Œäº†é‡å†™ï¼Œæ‰€ä»¥å¯¼è‡´<code>study</code>æ–¹æ³•æ— æ•ˆäº†ã€‚</p>
<p>ä¿®æ”¹åçš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">      }</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      Studnet.prototype = <span class="keyword">new</span> Person();</span><br><span class="line">      Studnet.prototype.constructor = Studnet;</span><br><span class="line"><span class="comment">//æ”¾åœ¨äº†Studnet.prototype=new Personè¯­å¥çš„åé¢</span></span><br><span class="line">      Studnet.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š"</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>);</span><br><span class="line">      stu1.study();</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#æ„é€ å‡½æ•°ç»§æ‰¿" class="headerlink" title="æ„é€ å‡½æ•°ç»§æ‰¿"></a>æ„é€ å‡½æ•°ç»§æ‰¿</h3><p>åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œé€šè¿‡<code>apply()</code>æ–¹æ³•æˆ–è€…æ˜¯<code>call()</code>æ–¹æ³•ï¼Œè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä»è€Œå®ç°ç»§æ‰¿åŠŸèƒ½ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">      Person.call(<span class="built_in">this</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(stu1.emotion);</span><br></pre></td></tr></tbody></table></figure>



<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">   }</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id</span>) </span>{</span><br><span class="line">     <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">     Person.call(<span class="built_in">this</span>);</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>);</span><br><span class="line">   <span class="keyword">var</span> stu2 = <span class="keyword">new</span> Studnet(<span class="number">1002</span>);</span><br><span class="line">   stu1.emotion.push(<span class="string">"ç©æ¸¸æˆ"</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(stu1.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ ", "ç©æ¸¸æˆ"]</span></span><br><span class="line">   <span class="built_in">console</span>.log(stu2.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ "]</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°<code>stu1</code>å¯¹è±¡å‘<code>emotion</code>æ•°ç»„ä¸­æ·»åŠ æ•°æ®ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°<code>stu2</code>å¯¹è±¡ã€‚</p>
<p><strong>æ„é€ å‡½æ•°ç»§æ‰¿çš„ä¼˜ç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šç”±äºåœ¨å­ç±»çš„æ„é€ ä¸­é€šè¿‡<code>call</code>æ”¹å˜äº†çˆ¶ç±»ä¸­çš„<code>this</code>æŒ‡å‘ï¼Œå¯¼è‡´äº†åœ¨çˆ¶ç±»æ„é€ å‡½æ•°ä¸­å®šä¹‰çš„å±æ€§æˆ–è€…æ˜¯æ–¹æ³•éƒ½èµ‹å€¼ç»™äº†å­ç±»ï¼Œè¿™æ ·ç”Ÿæˆçš„æ¯ä¸ªå­ç±»çš„å®ä¾‹ä¸­éƒ½å…·æœ‰äº†è¿™äº›å±æ€§å’Œæ–¹æ³•ã€‚è€Œä¸”å®ƒä»¬ä¹‹é—´æ˜¯äº’ä¸å½±å“çš„ï¼ŒåŠæ—¶æ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
<p>ç¬¬äºŒï¼šåˆ›å»ºå­ç±»çš„å®ä¾‹çš„æ—¶å€™ï¼Œå¯ä»¥å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¼ é€’ageå‚æ•°   </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; </span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">      }</span><br><span class="line"><span class="comment">//ä¼ é€’ageå‚æ•°</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.id = id; </span><br><span class="line">         <span class="comment">// ä¼ é€’ageå‚æ•°</span></span><br><span class="line">        Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">20</span>);<span class="comment">//ä¼ é€’å¹´é¾„</span></span><br><span class="line">      <span class="keyword">var</span> stu2 = <span class="keyword">new</span> Studnet(<span class="number">1002</span>, <span class="number">21</span>);</span><br><span class="line">      stu1.emotion.push(<span class="string">"ç©æ¸¸æˆ"</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(stu1.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ ", "ç©æ¸¸æˆ"]</span></span><br><span class="line">      <span class="built_in">console</span>.log(stu2.emotion); <span class="comment">// ["åƒé¥­", "ç¡è§‰", "å­¦ä¹ "]</span></span><br><span class="line">      <span class="built_in">console</span>.log(stu1.age); <span class="comment">// 20</span></span><br><span class="line">      <span class="built_in">console</span>.log(stu2.age); <span class="comment">// 21</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>æ„é€ å‡½æ•°ç»§æ‰¿çš„ç¼ºç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šå­ç±»åªèƒ½ç»§æ‰¿çˆ¶ç±»ä¸­å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼Œæ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">     <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">     <span class="built_in">this</span>.age = age;</span><br><span class="line">   }</span><br><span class="line">   <span class="comment">// åŸå‹ä¸Šçš„æ–¹æ³•</span></span><br><span class="line">   Person.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Š"</span>);</span><br><span class="line">   };</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">     <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">     Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">var</span> stu = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">20</span>);</span><br><span class="line">   <span class="built_in">console</span>.log(stu.age); <span class="comment">// 20</span></span><br><span class="line">   stu.study(); <span class="comment">//stu.study is not a function</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒï¼šåœ¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­æ·»åŠ ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œå¯¹åº”çš„å­ç±»ä¹Ÿå°±æœ‰äº†è¯¥å®ä¾‹æ–¹æ³•ï¼Œä½†æ˜¯é—®é¢˜æ—¶ï¼Œæ¯åˆ›å»ºä¸€ä¸ªå­ç±»çš„å®ä¾‹ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªçˆ¶ç±»ä¸­çš„å®ä¾‹æ–¹æ³•ï¼Œè¿™æ ·å¯¼è‡´çš„ç»“æœå°±æ˜¯å ç”¨å†…å­˜æ¯”è¾ƒå¤§ã€‚ä»¥å‰æˆ‘ä»¬æ˜¯å®šä¹‰åœ¨<code>prototype</code>åŸå‹ä¸Šæ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œä½†æ˜¯åœ¨æ„é€ å‡½æ•°çš„ç»§æ‰¿ä¸­ï¼Œåˆå‡ºç°äº†è¿™ä¸ªã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·åŒå­¦è¦åŠªåŠ›å­¦ä¹ "</span>);</span><br><span class="line">        };</span><br><span class="line">      }</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.id = id; <span class="comment">// å­¦å·</span></span><br><span class="line">        Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">var</span> stu = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">20</span>);</span><br><span class="line">      stu.study();</span><br><span class="line">      <span class="keyword">var</span> stu1 = <span class="keyword">new</span> Studnet(<span class="number">1002</span>, <span class="number">20</span>);</span><br><span class="line">      stu1.study();</span><br><span class="line"><span class="comment">//stuå¯¹è±¡å’Œstu1å¯¹è±¡éƒ½å•ç‹¬æœ‰ä¸€ä¸ªstudyæ–¹æ³•ã€‚</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ‹·è´ç»§æ‰¿"><a href="#æ‹·è´ç»§æ‰¿" class="headerlink" title="æ‹·è´ç»§æ‰¿"></a>æ‹·è´ç»§æ‰¿</h3><p>æ‰€è°“çš„æ‹·è´ç»§æ‰¿æŒ‡çš„æ˜¯å…ˆåˆ›å»ºçˆ¶ç±»çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡<code>for...in</code>çš„æ–¹å¼æ¥éå†çˆ¶ç±»å®ä¾‹ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¾æ¬¡èµ‹å€¼ç»™å­ç±»çš„å®ä¾‹ï¼ŒåŒæ—¶åŸå‹ä¸Šçš„å±æ€§å’Œå‡½æ•°ä¹Ÿèµ‹ç»™å­ç±»çš„å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">       <span class="built_in">this</span>.age = age;</span><br><span class="line">       <span class="built_in">this</span>.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·åŒå­¦è¦åŠªåŠ›å­¦ä¹ "</span>);</span><br><span class="line">       };</span><br><span class="line">     }</span><br><span class="line">     Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿæ­£åœ¨è·‘æ­¥,å¹´é¾„æ˜¯:"</span> + <span class="built_in">this</span>.age);</span><br><span class="line">     };</span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> person = <span class="keyword">new</span> Person(age);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> person) {</span><br><span class="line">         <span class="keyword">if</span> (person.hasOwnProperty(key)) {</span><br><span class="line">           <span class="built_in">this</span>[key] = person[key];</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           Studnet.prototype[key] = person[key];</span><br><span class="line">         }</span><br><span class="line">       }</span><br><span class="line">       <span class="comment">// å­ç±»è‡ªèº«çš„å±æ€§</span></span><br><span class="line">       <span class="built_in">this</span>.id = id;</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> student = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">21</span>);</span><br><span class="line">     student.study();</span><br><span class="line">     student.run();</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆ›å»ºäº†çˆ¶ç±»<code>Person</code>,å¹¶ä¸”åœ¨è¯¥ç±»ä¸­æŒ‡å®šäº†ç›¸åº”çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼ŒåŒæ—¶ä¸ºå…¶åŸå‹å¯¹è±¡ä¸­ä¹Ÿæ·»åŠ äº†æ–¹æ³•ã€‚</p>
<p>åœ¨<code>Studnet</code>è¿™ä¸ªå­ç±»ä¸­ï¼Œé¦–å…ˆä¼šåˆ›å»ºçˆ¶ç±»<code>Person</code>çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡<code>for...in</code>æ¥è¿›è¡Œéå†ï¼Œè·å–çˆ¶ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œè·å–ä»¥åè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœ<code>person.hasOwnProperty(key)</code>è¿”å›å€¼ä¸º<code>false</code>ï¼Œè¡¨ç¤ºè·å–åˆ°çš„æ˜¯çˆ¶ç±»åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿè¦æ·»åŠ åˆ°å­ç±»çš„<code>prototype</code>å±æ€§ä¸Šï¼Œæˆä¸ºå­ç±»çš„åŸç”Ÿå¯¹è±¡ä¸Šçš„å±æ€§æˆ–è€…æ˜¯æ–¹æ³•ã€‚</p>
<p>æœ€ååˆ›å»ºå­ç±»çš„å®ä¾‹<code>student</code>,é€šè¿‡å­ç±»çš„å®ä¾‹<code>student</code>,å¯ä»¥è®¿é—®ç»§æ‰¿åˆ°çš„å±æ€§æˆ–è€…æ˜¯æ–¹æ³•ã€‚</p>
<p><strong>æ‹·è´ç»§æ‰¿çš„ä¼˜ç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šå¯ä»¥å®ç°å‘çˆ¶ç±»ä¸­çš„æ„é€ æ–¹æ³•ä¸­ä¼ é€’å‚æ•°ã€‚</p>
<p>ç¬¬äºŒï¼šèƒ½å¤Ÿå®ç°è®©å­ç±»ç»§æ‰¿çˆ¶ç±»ä¸­çš„å®ä¾‹å±æ€§ï¼Œå®ä¾‹æ–¹æ³•ä»¥åŠåŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p><strong>æ‹·è´ç»§æ‰¿çš„ç¼ºç‚¹</strong></p>
<p>çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»éƒ½éœ€è¦å¤åˆ¶æ‹·è´ä¸€éï¼Œæ‰€ä»¥æ¯”è¾ƒæ¶ˆè€—å†…å­˜ã€‚</p>
<h3 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h3><p>ç»„åˆç»§æ‰¿çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†æ„é€ å‡½æ•°ç»§æ‰¿ä¸åŸå‹ç»§æ‰¿ä¸¤ç§æ–¹å¼ç»„åˆåœ¨ä¸€èµ·ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">      <span class="built_in">this</span>.age = age;</span><br><span class="line">      <span class="built_in">this</span>.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·åŒå­¦è¦åŠªåŠ›å­¦ä¹ "</span>);</span><br><span class="line">      };</span><br><span class="line">    }</span><br><span class="line">    Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿæ­£åœ¨è·‘æ­¥,å¹´é¾„æ˜¯:"</span> + <span class="built_in">this</span>.age);</span><br><span class="line">    };</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">      Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">      <span class="built_in">this</span>.id = id; <span class="comment">//å­ç±»ç‹¬æœ‰çš„å±æ€§</span></span><br><span class="line">    }</span><br><span class="line">    Studnet.prototype = <span class="keyword">new</span> Person();</span><br><span class="line">    Studnet.prototype.constructor = Studnet;</span><br><span class="line">    <span class="keyword">var</span> student = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">21</span>);</span><br><span class="line">    student.run();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"çˆ±å¥½æ˜¯:"</span> + student.emotion);</span><br></pre></td></tr></tbody></table></figure>

<p><strong>ç»„åˆç»§æ‰¿çš„ä¼˜ç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šé€šè¿‡<code>Person.call(this,ge)</code>è¿™ä¸ªè¡Œä»£ç ï¼Œå¯ä»¥å°†çˆ¶ç±»ä¸­çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•æ·»åŠ åˆ°å­ç±»<code>Student</code>ä¸­ï¼Œå¦å¤–é€šè¿‡<code>Studnet.prototype = new Person();</code> å¯ä»¥å°†çˆ¶ç±»çš„åŸå‹å¯¹è±¡ä¸Šçš„å±æ€§å’Œå‡½æ•°ç»‘å®šåˆ°<code>Student</code>çš„åŸå‹å¯¹è±¡ä¸Šã€‚</p>
<p>ç¬¬äºŒï¼šå¯ä»¥å‘çˆ¶ç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’å‚æ•°ã€‚</p>
<p> <strong>ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹</strong></p>
<p>ç»„åˆç»§æ‰¿çš„ä¸»è¦ç¼ºç‚¹æ˜¯çˆ¶ç±»çš„å®ä¾‹å±æ€§ä¼šç»‘å®šä¸¤æ¬¡ã€‚</p>
<p>ç¬¬ä¸€æ¬¡æ˜¯åœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­é€šè¿‡<code>call( )</code>å‡½æ•°è°ƒç”¨äº†ä¸€æ¬¡çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå®Œæˆå®ä¾‹å±æ€§å’Œæ–¹æ³•çš„ç»‘å®šæ“ä½œã€‚</p>
<p>ç¬¬äºŒæ¬¡æ˜¯åœ¨æ”¹å†™å­ç±»<code>prototype</code>å±æ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰§è¡Œäº†ä¸€æ¬¡<code>new Person()</code>çš„æ“ä½œï¼Œè¿™é‡Œåˆå°†çˆ¶ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨äº†ä¸€æ¬¡ï¼Œå®Œæˆäº†å±æ€§çš„ç»‘å®šæ“ä½œã€‚</p>
<p>æ‰€ä»¥åœ¨æ•´ä¸ªç»„åˆç»§æ‰¿çš„è¿‡ç¨‹ä¸­ï¼Œçˆ¶ç±»å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ä¼šè¿›è¡Œä¸¤æ¬¡çš„ç»‘å®šæ“ä½œã€‚å½“ç„¶è¿™é‡Œéœ€è¦ä½ æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼šé€šè¿‡<code>call()</code>å‡½æ•°å®Œæˆçˆ¶ç±»ä¸­å®ä¾‹å±æ€§å’Œæ–¹æ³•çš„ç»‘å®šçš„ä¼˜å…ˆçº§è¦é«˜äºé€šè¿‡æ”¹å†™å­ç±»<code>prototype</code>çš„æ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ç§æ–¹å¼ä¼šè¦†ç›–ç¬¬äºŒç§æ–¹å¼ï¼š</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">       <span class="built_in">this</span>.age = age;</span><br><span class="line">    <span class="comment">//å®ä¾‹æ–¹æ³•</span></span><br><span class="line">       <span class="built_in">this</span>.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·åŒå­¦è¦åŠªåŠ›å­¦ä¹ "</span>);</span><br><span class="line">       };</span><br><span class="line">     }</span><br><span class="line">     Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿæ­£åœ¨è·‘æ­¥,å¹´é¾„æ˜¯:"</span> + <span class="built_in">this</span>.age);</span><br><span class="line">     };</span><br><span class="line">   <span class="comment">// åŸå‹æ–¹æ³•</span></span><br><span class="line">     Person.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿéœ€è¦å¥½å¥½å­¦ä¹ "</span>);</span><br><span class="line">     };</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">       Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">       <span class="built_in">this</span>.id = id; <span class="comment">//å­ç±»ç‹¬æœ‰çš„å±æ€§</span></span><br><span class="line">     }</span><br><span class="line">     Studnet.prototype = <span class="keyword">new</span> Person();</span><br><span class="line">     Studnet.prototype.constructor = Student;</span><br><span class="line">     <span class="keyword">var</span> student = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">21</span>);</span><br><span class="line">     student.run();</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"çˆ±å¥½æ˜¯:"</span> + student.emotion);</span><br><span class="line">     student.study(); <span class="comment">//è°ƒç”¨çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•student</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨çˆ¶ç±»<code>Person</code>çš„æ„é€ å‡½æ•°ä¸­å®šä¹‰äº†å®ä¾‹æ–¹æ³•<code>study</code>,åŒæ—¶åœ¨å…¶åŸå‹å¯¹è±¡ä¸Šä¹Ÿå®šä¹‰äº†ä¸€ä¸ª<code>study</code>æ–¹æ³•ã€‚</p>
<p>é€šè¿‡å­ç±»çš„å®ä¾‹è°ƒç”¨<code>study</code>æ–¹æ³•çš„æ—¶å€™ï¼Œè°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„å®ä¾‹æ–¹æ³•<code>study</code>.</p>
<h3 id="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">age</span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.emotion = [<span class="string">"åƒé¥­"</span>, <span class="string">"ç¡è§‰"</span>, <span class="string">"å­¦ä¹ "</span>]; <span class="comment">// çˆ±å¥½</span></span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·åŒå­¦è¦åŠªåŠ›å­¦ä¹ "</span>);</span><br><span class="line">        };</span><br><span class="line">      }</span><br><span class="line">      Person.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿæ­£åœ¨è·‘æ­¥,å¹´é¾„æ˜¯:"</span> + <span class="built_in">this</span>.age);</span><br><span class="line">      };</span><br><span class="line">      Person.prototype.study = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.id + <span class="string">"å·å­¦ç”Ÿéœ€è¦å¥½å¥½å­¦ä¹ "</span>);</span><br><span class="line">      };</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Studnet</span>(<span class="params">id, age</span>) </span>{</span><br><span class="line">        Person.call(<span class="built_in">this</span>, age);</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">      }</span><br><span class="line"><span class="comment">// å®šä¹‰Superæ„é€ å‡½æ•°</span></span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">Super</span>(<span class="params"></span>) </span>{}</span><br><span class="line"><span class="comment">//Super.prototypeåŸå‹å¯¹è±¡æŒ‡å‘äº†Person.prototype</span></span><br><span class="line">      Super.prototype = Person.prototype;</span><br><span class="line"><span class="comment">//Student.prototypeåŸå‹å¯¹è±¡æŒ‡å‘äº†Superçš„å®ä¾‹ï¼Œè¿™æ ·å°±å»æ‰äº†Personçˆ¶ç±»çš„å®ä¾‹å±æ€§ã€‚</span></span><br><span class="line">      Studnet.prototype = <span class="keyword">new</span> Super();</span><br><span class="line">      Studnet.prototype.constructor = Studnet;</span><br><span class="line">      <span class="keyword">var</span> student = <span class="keyword">new</span> Studnet(<span class="number">1001</span>, <span class="number">21</span>);</span><br><span class="line">      student.run();</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"çˆ±å¥½æ˜¯:"</span> + student.emotion);</span><br><span class="line">      student.study();</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ª<code>Super</code>æ„é€ å‡½æ•°ï¼Œè®©<code>Super.prototype</code>çš„åŸå‹æŒ‡å‘äº†<code>Person.prototype</code>,åŒæ—¶å°†<code>Super</code>çš„å¯¹è±¡èµ‹å€¼ç»™äº†<code>Student.prototype</code>ï¼Œè¿™æ ·å°±å»æ‰äº†<code>Person</code>çˆ¶ç±»çš„å®ä¾‹å±æ€§ã€‚</p>
<p>é€šè¿‡å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿è§£å†³äº†ç»„åˆç»§æ‰¿çš„é—®é¢˜ã€‚</p>
<p>åŒæ—¶ï¼Œåœ¨ä»¥åçš„åº”ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ç»„åˆç»§æ‰¿ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿ã€‚</p>
<h2 id="æ¨¡æ‹ŸjQueryå®ç°"><a href="#æ¨¡æ‹ŸjQueryå®ç°" class="headerlink" title="æ¨¡æ‹ŸjQueryå®ç°"></a>æ¨¡æ‹ŸjQueryå®ç°</h2><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªç®€å•çš„<code>jQuery</code>,æ¥å·©å›ºåŸå‹çš„åº”ç”¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// ä¸ºjQueryèµ·ä¸€ä¸ªåˆ«åï¼Œæ¨¡ä»¿jQueryçš„æ¡†æ¶</span></span><br><span class="line">    <span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{});</span><br><span class="line">    <span class="comment">// ä¸ºjQueryåŸå‹èµ·ä¸€ä¸ªåˆ«å</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œæ²¡æœ‰ç›´æ¥èµ‹å€¼ç»™fnï¼Œå¦åˆ™å®ƒå±äºwindowå¯¹è±¡ï¼Œå®¹æ˜“é€ æˆå…¨å±€æ±¡æŸ“</span></span><br><span class="line">    <span class="comment">//åé¢è¦è®¿é—®jqueryçš„åŸå‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡jQuery.fnæ¥å®ç°</span></span><br><span class="line">    jQuery.fn = jQuery.prototype = {</span><br><span class="line">      <span class="attr">version</span>: <span class="string">"6.1.1"</span>, <span class="comment">//æ·»åŠ åŸå‹å±æ€§ï¼Œè¡¨ç¤ºjqueryçš„ç‰ˆæœ¬</span></span><br><span class="line">      <span class="comment">//æ·»åŠ åŸå‹æ–¹æ³•ï¼Œè¡¨ç¤ºè¿”å›jqueryå¯¹è±¡çš„é•¿åº¦</span></span><br><span class="line">      <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">      },</span><br><span class="line">    };</span><br><span class="line">    </span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>jQuery</code>åŸå‹ä¸­çš„<code>size</code>æ–¹æ³•å’Œ<code>version</code>å±æ€§ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºjQueryèµ·ä¸€ä¸ªåˆ«åï¼Œæ¨¡ä»¿jQueryçš„æ¡†æ¶</span></span><br><span class="line">   <span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{});</span><br><span class="line">   <span class="comment">// ä¸ºjQueryåŸå‹èµ·ä¸€ä¸ªåˆ«å</span></span><br><span class="line">   <span class="comment">//è¿™é‡Œæ²¡æœ‰ç›´æ¥èµ‹å€¼ç»™fnï¼Œå¦åˆ™å®ƒå±äºwindowå¯¹è±¡ï¼Œå®¹æ˜“é€ æˆå…¨å±€æ±¡æŸ“</span></span><br><span class="line">   <span class="comment">//åé¢è¦è®¿é—®jqueryçš„åŸå‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡jQuery.fnæ¥å®ç°</span></span><br><span class="line">   jQuery.fn = jQuery.prototype = {</span><br><span class="line">     <span class="attr">version</span>: <span class="string">"6.1.1"</span>, <span class="comment">//æ·»åŠ åŸå‹å±æ€§ï¼Œè¡¨ç¤ºjqueryçš„ç‰ˆæœ¬</span></span><br><span class="line">     <span class="comment">//æ·»åŠ åŸå‹æ–¹æ³•ï¼Œè¡¨ç¤ºè¿”å›jqueryå¯¹è±¡çš„é•¿åº¦</span></span><br><span class="line">     <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">     },</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">var</span> jq = <span class="keyword">new</span> $();</span><br><span class="line">   <span class="built_in">console</span>.log(jq.version); <span class="comment">// 6.1.1</span></span><br><span class="line">   <span class="built_in">console</span>.log(jq.size()); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ˜¯åˆ›å»ºäº†ä¸€ä¸ª<code>jquery</code>çš„å®ä¾‹ï¼Œç„¶åé€šè¿‡è¯¥å®ä¾‹å®Œæˆäº†åŸå‹å±æ€§å’Œæ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p>ä½†æ˜¯åœ¨<code>jquery</code>åº“ä¸­ï¼Œæ˜¯é‡‡ç”¨å¦‚ä¸‹çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$().version;</span><br><span class="line">$().size()</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä¸¤è¡Œä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨<code>jQuery</code>åº“ä¸­ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨<code>new</code>æ“ä½œç¬¦ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨å°æ‹¬å·è¿ç®—ç¬¦å®Œæˆäº†å¯¹<code>jQuery</code>æ„é€ å‡½æ•°çš„è°ƒç”¨ã€‚ç„¶ååé¢ç›´æ¥è®¿é—®åŸå‹æˆå‘˜ã€‚</p>
<p>é‚£åº”è¯¥æ€æ ·å®ç°è¿™ç§æ“ä½œï¼Ÿ</p>
<p>æˆ‘ä»¬æƒ³åˆ°çš„å°±æ˜¯ï¼Œåœ¨<code>jquery</code>çš„æ„é€ å‡½æ•°ä¸­ï¼Œç›´æ¥åˆ›å»º<code>jQuery</code>ç±»çš„å®ä¾‹ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºjQueryèµ·ä¸€ä¸ªåˆ«åï¼Œæ¨¡ä»¿jQueryçš„æ¡†æ¶</span></span><br><span class="line">   <span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> jQuery();</span><br><span class="line">   });</span><br><span class="line">   <span class="comment">// ä¸ºjQueryåŸå‹èµ·ä¸€ä¸ªåˆ«å</span></span><br><span class="line">   <span class="comment">//è¿™é‡Œæ²¡æœ‰ç›´æ¥èµ‹å€¼ç»™fnï¼Œå¦åˆ™å®ƒå±äºwindowå¯¹è±¡ï¼Œå®¹æ˜“é€ æˆå…¨å±€æ±¡æŸ“</span></span><br><span class="line">   <span class="comment">//åé¢è¦è®¿é—®jqueryçš„åŸå‹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡jQuery.fnæ¥å®ç°</span></span><br><span class="line">   jQuery.fn = jQuery.prototype = {</span><br><span class="line">     <span class="attr">version</span>: <span class="string">"6.1.1"</span>, <span class="comment">//æ·»åŠ åŸå‹å±æ€§ï¼Œè¡¨ç¤ºjqueryçš„ç‰ˆæœ¬</span></span><br><span class="line">     <span class="comment">//æ·»åŠ åŸå‹æ–¹æ³•ï¼Œè¡¨ç¤ºè¿”å›jqueryå¯¹è±¡çš„é•¿åº¦</span></span><br><span class="line">     <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">     },</span><br><span class="line">   };</span><br><span class="line">   $().version;</span><br><span class="line">   <span class="comment">//   var jq = new $();</span></span><br><span class="line">   <span class="comment">//   console.log(jq.version); // 6.1.1</span></span><br><span class="line">   <span class="comment">//   console.log(jq.size());</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç»™<code>jQuery</code>æ„é€ å‡½æ•°ç›´æ¥è¿”å›äº†<code>å®ƒçš„å®ä¾‹</code>ï¼Œ<code>return new jQuery();</code></p>
<p>ç„¶åè·å–åŸå‹å¯¹è±¡ä¸­çš„<code>size</code>å±æ€§çš„å€¼:<code>$().version</code>.</p>
<p>ä½†æ˜¯ï¼Œå‡ºç°äº†å¦‚ä¸‹çš„é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uncaught RangeError: Maximum call stack size exceeded</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šé”™è¯¯çš„å«ä¹‰æ˜¯æ ˆå†…å­˜æº¢å‡ºã€‚</p>
<p>åŸå› å°±æ˜¯ï¼šå½“æˆ‘ä»¬é€šè¿‡<code>$()</code>è°ƒç”¨æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œå†…éƒ¨æœ‰æ‰§è¡Œäº†<code>new</code>æ“ä½œï¼Œè¿™æ—¶ï¼Œåˆä¼šé‡æ–°æ‰§è¡Œ<code>jQuery</code>çš„æ„é€ å‡½æ•°ï¼Œè¿™æ ·å°±é€ æˆäº†æ­»å¾ªç¯ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> jQuery.fn.init(); <span class="comment">//è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span></span><br><span class="line">});</span><br><span class="line">     </span><br><span class="line">jQuery.fn = jQuery.prototype = {</span><br><span class="line">  <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>; <span class="comment">//è¿”å›jqueryçš„åŸå‹å¯¹è±¡</span></span><br><span class="line">  },</span><br><span class="line">  <span class="attr">version</span>: <span class="string">"6.1.1"</span>,        </span><br><span class="line">  <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">  },</span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log($().version);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨<code>jQuery</code>çš„æ„é€ æ–¹æ³•ä¸­ï¼Œè°ƒç”¨çš„æ˜¯åŸå‹ä¸­çš„<code>init</code>æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ï¼Œè¿”å›äº†<code>jquery</code>çš„åŸå‹å¯¹è±¡ã€‚</p>
<p>æœ€åè¿›è¡Œè¾“å‡º:<code>cosnole.log($().version)</code></p>
<p>ä½†æ˜¯ï¼Œä»¥ä¸Šçš„å¤„ç†è¿˜æ˜¯éšè—ä¸€ä¸ªé—®é¢˜ï¼Œå…·ä½“çœ‹å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> jQuery.fn.init(); </span><br><span class="line">     });</span><br><span class="line">     jQuery.fn = jQuery.prototype = {</span><br><span class="line">       <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">this</span>.length = <span class="number">0</span>; <span class="comment">//åŸå‹å±æ€§length</span></span><br><span class="line">         <span class="built_in">this</span>._size = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{ <span class="comment">//åŸå‹æ–¹æ³•</span></span><br><span class="line">           <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">         };</span><br><span class="line">         <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">version</span>: <span class="string">"6.1.1"</span>,</span><br><span class="line">       <span class="attr">length</span>: <span class="number">1</span>, <span class="comment">// åŸå‹å±æ€§</span></span><br><span class="line">       <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="built_in">console</span>.log($().version);</span><br><span class="line">     <span class="built_in">console</span>.log($()._size()); <span class="comment">// 0</span></span><br><span class="line">     <span class="built_in">console</span>.log($().size()); <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨<code>init</code>è¿™ä¸ªåŸå‹æ–¹æ³•ä¸­æ·»åŠ äº†<code>lenght</code>å±æ€§ä¸<code>_size</code>æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­æ‰“å°<code>length</code>çš„å€¼ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(); <span class="comment">//è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span></span><br><span class="line">     });</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>jQuery</code>çš„æ„é€ å‡½æ•°ä¸­ï¼Œé€šè¿‡<code>new</code>æ“ä½œç¬¦åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œè¿™æ ·<code>init()</code>æ–¹æ³•ä¸­çš„<code>this</code>æŒ‡å‘çš„å°±æ˜¯<code>init</code>æ–¹æ³•çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯<code>jQuery.prototype</code>è¿™ä¸ªåŸå‹å¯¹è±¡äº†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($().version); <span class="comment">// è¿”å›undefined</span></span><br><span class="line">    <span class="built_in">console</span>.log($()._size()); <span class="comment">// 0</span></span><br><span class="line">    <span class="built_in">console</span>.log($().size()); <span class="comment">// æŠ›å‡ºå¼‚å¸¸ï¼šUncaught TypeError: $(...).size is not a function</span></span><br></pre></td></tr></tbody></table></figure>



<p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ€æ ·è§£å†³ç°åœ¨é¢ä¸´çš„é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(); <span class="comment">//è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span></span><br><span class="line">    });</span><br><span class="line">    jQuery.fn = jQuery.prototype = {</span><br><span class="line">      <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">this</span>.length = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">this</span>._size = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">        };</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">      },</span><br><span class="line">      <span class="attr">version</span>: <span class="string">"6.1.1"</span>,</span><br><span class="line">      <span class="attr">length</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">size</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.length;</span><br><span class="line">      },</span><br><span class="line">    };</span><br><span class="line"><span class="comment">// å°†`jQuery`çš„åŸå‹å¯¹è±¡è¦†ç›–æ‰initçš„åŸå‹å¯¹è±¡ã€‚</span></span><br><span class="line">    jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line">    <span class="built_in">console</span>.log($().version); <span class="comment">//6.1.1</span></span><br><span class="line">    <span class="built_in">console</span>.log($()._size()); <span class="comment">// 0</span></span><br><span class="line">    <span class="built_in">console</span>.log($().size()); <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€è¡Œä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.init.prototype = jQuery.fn;</span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($().version); </span><br></pre></td></tr></tbody></table></figure>



<p><strong>ä¸‹é¢ï¼Œè¦å®ç°çš„æ˜¯é€‰æ‹©å™¨åŠŸèƒ½</strong></p>
<p><code>jQuery</code>æ„é€ å‡½æ•°åŒ…æ‹¬ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯<code>selector</code>å’Œ<code>context</code>,<code>selector</code>è¡¨ç¤ºçš„æ˜¯é€‰æ‹©å™¨ï¼Œ<code>context</code>è¡¨ç¤ºåŒ¹é…çš„ä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯å¯é€‰æ‹©çš„è®¿é—®ï¼Œä¸€èˆ¬è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ª<code>DOM</code>å…ƒç´ ã€‚è¿™é‡Œæˆ‘ä»¬åªè€ƒè™‘æ ‡ç­¾é€‰æ‹©å™¨ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="comment">// ç»™æ„é€ å‡½æ•°ä¼ é€’selector,contextä¸¤ä¸ªå‚æ•°</span></span><br><span class="line">      <span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector, context</span>) </span>{</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(selector, context); <span class="comment">//è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span></span><br><span class="line">      });</span><br><span class="line">      jQuery.fn = jQuery.prototype = {</span><br><span class="line">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params">selector, context</span>) </span>{</span><br><span class="line">          selector = selector || <span class="built_in">document</span>; <span class="comment">//åˆå§‹åŒ–é€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸ºdocument</span></span><br><span class="line">          context = context || <span class="built_in">document</span>; <span class="comment">// åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºdocument</span></span><br><span class="line">          <span class="keyword">if</span> (selector.nodeType) {</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜¯DOMå…ƒç´ </span></span><br><span class="line">            <span class="comment">// æŠŠè¯¥DOMå…ƒç´ èµ‹å€¼ç»™å®ä¾‹å¯¹è±¡</span></span><br><span class="line">            <span class="built_in">this</span>[<span class="number">0</span>] = selector;</span><br><span class="line">            <span class="built_in">this</span>.length = <span class="number">1</span>; <span class="comment">//è¡¨ç¤ºåŒ…å«äº†1ä¸ªå…ƒç´ </span></span><br><span class="line">            <span class="built_in">this</span>.context = selector; <span class="comment">//é‡æ–°è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>; <span class="comment">//è¿”å›å½“å‰å®ä¾‹</span></span><br><span class="line">          }</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">typeof</span> selector === <span class="string">"string"</span>) {</span><br><span class="line">            <span class="comment">//å¦‚æœé€‰æ‹©å™¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">var</span> e = context.getElementsByTagName(selector); <span class="comment">// è·å–æŒ‡å®šåç§°çš„å…ƒç´ </span></span><br><span class="line">            <span class="comment">//é€šè¿‡forå¾ªç¯å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨åˆ°å½“å‰çš„å®ä¾‹ä¸­</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; e.length; i++) {</span><br><span class="line">              <span class="built_in">this</span>[i] = e[i];</span><br><span class="line">            }</span><br><span class="line">            <span class="built_in">this</span>.length = e.length; <span class="comment">//å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">            <span class="built_in">this</span>.context = context; <span class="comment">//ä¿å­˜ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>; <span class="comment">//è¿”å›å½“å‰çš„å®ä¾‹</span></span><br><span class="line">          } <span class="keyword">else</span> {</span><br><span class="line">            <span class="built_in">this</span>.length = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">this</span>.context = context;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">          }</span><br><span class="line">          <span class="comment">//   this.length = 0;</span></span><br><span class="line">          <span class="comment">//   console.log("init==", this);</span></span><br><span class="line">          <span class="comment">//   this._size = function () {</span></span><br><span class="line">          <span class="comment">//     return this.length;</span></span><br><span class="line">          <span class="comment">//   };</span></span><br><span class="line">          <span class="comment">//   return this;</span></span><br><span class="line">        },</span><br><span class="line"></span><br><span class="line">        <span class="comment">// version: "6.1.1",</span></span><br><span class="line">        <span class="comment">// length: 1,</span></span><br><span class="line">        <span class="comment">// size: function () {</span></span><br><span class="line">        <span class="comment">//   return this.length;</span></span><br><span class="line">        <span class="comment">// },</span></span><br><span class="line">      };</span><br><span class="line">      jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line">      <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log($(<span class="string">"div"</span>).length);</span><br><span class="line">      };</span><br><span class="line">      <span class="comment">//   console.log($().version);</span></span><br><span class="line">      <span class="comment">//   console.log($()._size()); // 0</span></span><br><span class="line">      <span class="comment">//   console.log($().size()); // 0</span></span><br><span class="line">      <span class="comment">//   var jq = new $();</span></span><br><span class="line">      <span class="comment">//   console.log(jq.version); // 6.1.1</span></span><br><span class="line">      <span class="comment">//   console.log(jq.size());</span></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  &lt;/body&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå½“é¡µé¢åŠ è½½å®Œä»¥åï¼Œè¿™æ—¶ä¼šè§¦å‘<code>onload</code>äº‹ä»¶ï¼Œåœ¨è¯¥äº‹ä»¶å¯¹åº”çš„å¤„ç†å‡½æ•°ä¸­ï¼Œé€šè¿‡<code>$("div")</code>,ä¼ é€’çš„æ˜¯å­—ç¬¦ä¸²ï¼Œ</p>
<p><code>selector</code>å‚æ•°è¡¨ç¤ºçš„å°±æ˜¯<code>div</code>è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™é‡Œæ²¡æœ‰ä¼ é€’<code>context</code>å‚æ•°ï¼Œè¡¨ç¤ºçš„å°±æ˜¯<code>document</code>å¯¹è±¡ã€‚</p>
<p>æœ€åæ‰“å°å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<p>åœ¨ä½¿ç”¨<code>jQuery</code>åº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ“ä½œï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'div'</span>).html()</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç çš„å«ä¹‰å°±æ˜¯ç›´æ¥åœ¨<code>jQuery</code>å¯¹è±¡ä¸Šè°ƒç”¨<code>html( )</code>æ–¹æ³•æ¥æ“ä½œ<code>jQuery</code>åŒ…å«æ‰€æœ‰çš„<code>DOM</code>å…ƒç´ ã€‚</p>
<p><code>html()</code>æ–¹æ³•çš„å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang="en"&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset="UTF-8" /&gt;</span><br><span class="line">    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;</span><br><span class="line">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      // ç»™æ„é€ å‡½æ•°ä¼ é€’selector,contextä¸¤ä¸ªå‚æ•°</span><br><span class="line">      var $ = (jQuery = function (selector, context) {</span><br><span class="line">        return new jQuery.fn.init(selector, context); //è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span><br><span class="line">      });</span><br><span class="line">      jQuery.fn = jQuery.prototype = {</span><br><span class="line">        init: function (selector, context) {</span><br><span class="line">          selector = selector || document; //åˆå§‹åŒ–é€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">          context = context || document; // åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">          if (selector.nodeType) {</span><br><span class="line">            // å¦‚æœæ˜¯DOMå…ƒç´ </span><br><span class="line">            // æŠŠè¯¥DOMå…ƒç´ èµ‹å€¼ç»™å®ä¾‹å¯¹è±¡</span><br><span class="line">            this[0] = selector;</span><br><span class="line">            this.length = 1; //è¡¨ç¤ºåŒ…å«äº†1ä¸ªå…ƒç´ </span><br><span class="line">            this.context = selector; //é‡æ–°è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">            return this; //è¿”å›å½“å‰å®ä¾‹</span><br><span class="line">          }</span><br><span class="line">          if (typeof selector === "string") {</span><br><span class="line">            //å¦‚æœé€‰æ‹©å™¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">            var e = context.getElementsByTagName(selector); // è·å–æŒ‡å®šåç§°çš„å…ƒç´ </span><br><span class="line">            //é€šè¿‡forå¾ªç¯å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨åˆ°å½“å‰çš„å®ä¾‹ä¸­</span><br><span class="line">            for (var i = 0; i &lt; e.length; i++) {</span><br><span class="line">              this[i] = e[i];</span><br><span class="line">            }</span><br><span class="line">            this.length = e.length; //å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">            this.context = context; //ä¿å­˜ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">            return this; //è¿”å›å½“å‰çš„å®ä¾‹</span><br><span class="line">          } else {</span><br><span class="line">            this.length = 0;</span><br><span class="line">            this.context = context;</span><br><span class="line">            return this;</span><br><span class="line">          }</span><br><span class="line">          //   this.length = 0;</span><br><span class="line">          //   console.log("init==", this);</span><br><span class="line">          //   this._size = function () {</span><br><span class="line">          //     return this.length;</span><br><span class="line">          //   };</span><br><span class="line">          //   return this;</span><br><span class="line">        },</span><br><span class="line">        html: function (val) {</span><br><span class="line">          jQuery.each(</span><br><span class="line">            this,</span><br><span class="line">            function (val) {</span><br><span class="line">              this.innerHTML = val;</span><br><span class="line">            },</span><br><span class="line">            val</span><br><span class="line">          );</span><br><span class="line">        },</span><br><span class="line"></span><br><span class="line">        // version: "6.1.1",</span><br><span class="line">        // length: 1,</span><br><span class="line">        // size: function () {</span><br><span class="line">        //   return this.length;</span><br><span class="line">        // },</span><br><span class="line">      };</span><br><span class="line">      jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line"></span><br><span class="line">      //æä¾›eachæ‰©å±•æ–¹æ³•</span><br><span class="line">      jQuery.each = function (object, callback, args) {</span><br><span class="line">        //é€šè¿‡forå¾ªç¯çš„æ–¹å¼æ¥éå†jQueryå¯¹è±¡ä¸­çš„æ¯ä¸ªDOMå…ƒç´ ã€‚</span><br><span class="line">        for (var i = 0; i &lt; object.length; i++) {</span><br><span class="line">          // åœ¨æ¯ä¸ªDOMå…ƒç´ ä¸Šè°ƒç”¨å›è°ƒå‡½æ•°</span><br><span class="line">          callback.call(object[i], args);</span><br><span class="line">        }</span><br><span class="line">        return object; //è¿”å›jQueryå¯¹è±¡ã€‚</span><br><span class="line">      };</span><br><span class="line">      window.onload = function () {</span><br><span class="line">        // console.log($("div").length);</span><br><span class="line">        $("div").html("&lt;h2&gt;hello&lt;h2&gt;");</span><br><span class="line">      };</span><br><span class="line">      //   console.log($().version);</span><br><span class="line">      //   console.log($()._size()); // 0</span><br><span class="line">      //   console.log($().size()); // 0</span><br><span class="line">      //   var jq = new $();</span><br><span class="line">      //   console.log(jq.version); // 6.1.1</span><br><span class="line">      //   console.log(jq.size());</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé¦–å…ˆæ·»åŠ äº†<code>jQuery.each</code>æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æä¾›eachæ‰©å±•æ–¹æ³•</span></span><br><span class="line">  jQuery.each = <span class="function"><span class="keyword">function</span> (<span class="params">object, callback, args</span>) </span>{</span><br><span class="line">    <span class="comment">//é€šè¿‡forå¾ªç¯çš„æ–¹å¼æ¥éå†jQueryå¯¹è±¡ä¸­çš„æ¯ä¸ªDOMå…ƒç´ ã€‚</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; object.length; i++) {</span><br><span class="line">      <span class="comment">// åœ¨æ¯ä¸ªDOMå…ƒç´ ä¸Šè°ƒç”¨å›è°ƒå‡½æ•°</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œçš„è®©å›è°ƒå‡½æ•°ä¸­çš„thisæŒ‡å‘äº†domå…ƒç´ ã€‚</span></span><br><span class="line">      callback.call(object[i], args);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> object; <span class="comment">//è¿”å›jQueryå¯¹è±¡ã€‚</span></span><br><span class="line">  };</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé€šè¿‡<code>for</code>å¾ªç¯éå†<code>jQuery</code>å¯¹è±¡ä¸­çš„æ¯ä¸ª<code>DOM</code>å…ƒç´ ã€‚ç„¶åæ‰§è¡Œå›è°ƒå‡½æ•°<code>callback</code></p>
<p>åœ¨<code>jQuery</code>çš„åŸå‹å¯¹è±¡ä¸Šï¼Œæ·»åŠ <code>html</code>æ–¹æ³•</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">html: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">        jQuery.each(</span><br><span class="line">          <span class="built_in">this</span>, <span class="comment">//è¡¨ç¤ºjQueryåŸå‹å¯¹è±¡</span></span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">              <span class="comment">//thisè¡¨ç¤ºçš„æ˜¯domå…ƒç´ ï¼Œè¿™é‡Œæ˜¯divå…ƒç´ </span></span><br><span class="line">            <span class="built_in">this</span>.innerHTML = val;</span><br><span class="line">          },</span><br><span class="line">          val <span class="comment">//è¡¨ç¤ºä¼ é€’è¿‡æ¥çš„`&lt;h2&gt;hello&lt;h2&gt;`</span></span><br><span class="line">        );</span><br><span class="line">      },</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>html</code>æ–¹æ³•ä¸­å®Œæˆå¯¹<code>jQuery.each</code>æ–¹æ³•çš„è°ƒç”¨ã€‚</p>
<p><code>window.onload</code>çš„æ–¹æ³•ä¿®æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="comment">// console.log($("div").length);</span></span><br><span class="line">    $(<span class="string">"div"</span>).html(<span class="string">"&lt;h2&gt;hello&lt;h2&gt;"</span>);</span><br><span class="line">  };</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä¸‹é¢æˆ‘ä»¬å®ç°jQueryçš„æ‰©å±•åŠŸèƒ½"><a href="#ä¸‹é¢æˆ‘ä»¬å®ç°jQueryçš„æ‰©å±•åŠŸèƒ½" class="headerlink" title="**ä¸‹é¢æˆ‘ä»¬å®ç°jQueryçš„æ‰©å±•åŠŸèƒ½"></a>**ä¸‹é¢æˆ‘ä»¬å®ç°<code>jQuery</code>çš„æ‰©å±•åŠŸèƒ½</h2><p>jQuery æä¾›äº†è‰¯å¥½çš„æ‰©å±•æ¥å£ï¼Œæ–¹ä¾¿ç”¨æˆ·è‡ªå®šä¹‰ jQuery æ–¹æ³•ã€‚æ ¹æ®è®¾è®¡ä¹ æƒ¯ï¼Œå¦‚æœä¸º jQuery æˆ–è€… jQuery.prototype æ–°å¢æ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç‚¹è¯­æ³•æ¥å®ç°ï¼Œä¾‹å¦‚ä¸Šé¢æˆ‘ä»¬æ‰©å±•çš„<code>html</code>æ–¹æ³•ï¼Œæˆ–è€…åœ¨ jQuery.prototype å¯¹è±¡ç»“æ„å†…å¢åŠ ã€‚ä½†æ˜¯ï¼Œå¦‚æœåˆ†æ jQuery æºç ï¼Œä¼šå‘ç°å®ƒæ˜¯é€šè¿‡ extend() å‡½æ•°æ¥å®ç°åŠŸèƒ½æ‰©å±•çš„ã€‚</p>
<p>é€šè¿‡<code>extend()</code>æ–¹æ³•æ¥å®ç°æ‰©å±•çš„å¥½å¤„æ˜¯ï¼šæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿçš„æ‰©å±•<code>jQuery</code>åŠŸèƒ½ï¼Œä½†ä¸ä¼šç ´å<code>jQuery</code>æ¡†æ¶çš„ç»“æ„ã€‚å¦‚æœç›´æ¥åœ¨<code>jQuery</code>æºç ä¸­æ·»åŠ æ–¹æ³•ï¼Œè¿™æ ·å°±ç ´åäº†<code>Jquery</code>æ¡†æ¶çš„ç»“æ„ï¼Œä¸æ–¹ä¾¿åæœŸçš„ä»£ç ç»´æŠ¤ã€‚</p>
<p>å¦‚æœåæœŸä¸éœ€è¦æŸä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<code>Jquery</code>æä¾›çš„æ–¹æ³•åˆ é™¤ï¼Œè€Œä¸éœ€è¦ä»æºç ä¸­åœ¨å¯¹è¯¥åŠŸèƒ½è¿›è¡Œåˆ é™¤ã€‚</p>
<p>extend() å‡½æ•°çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œå®ƒåªæ˜¯æŠŠæŒ‡å®šå¯¹è±¡çš„æ–¹æ³•å¤åˆ¶ç»™<code> jQuery</code> å¯¹è±¡æˆ–è€… <code>jQuery.prototype</code>ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">// ç»™æ„é€ å‡½æ•°ä¼ é€’selector,contextä¸¤ä¸ªå‚æ•°</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> $ = (jQuery = <span class="function"><span class="keyword">function</span> (<span class="params">selector, context</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init(selector, context); <span class="comment">//è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span></span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      jQuery.fn = jQuery.prototype = {</span></span><br><span class="line"><span class="javascript">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span> (<span class="params">selector, context</span>) </span>{</span></span><br><span class="line"><span class="javascript">          selector = selector || <span class="built_in">document</span>; <span class="comment">//åˆå§‹åŒ–é€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸ºdocument</span></span></span><br><span class="line"><span class="javascript">          context = context || <span class="built_in">document</span>; <span class="comment">// åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºdocument</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (selector.nodeType) {</span></span><br><span class="line"><span class="javascript">            <span class="comment">// å¦‚æœæ˜¯DOMå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// æŠŠè¯¥DOMå…ƒç´ èµ‹å€¼ç»™å®ä¾‹å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>[<span class="number">0</span>] = selector;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.length = <span class="number">1</span>; <span class="comment">//è¡¨ç¤ºåŒ…å«äº†1ä¸ªå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.context = selector; <span class="comment">//é‡æ–°è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">this</span>; <span class="comment">//è¿”å›å½“å‰å®ä¾‹</span></span></span><br><span class="line"><span class="javascript">          }</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (<span class="keyword">typeof</span> selector === <span class="string">"string"</span>) {</span></span><br><span class="line"><span class="javascript">            <span class="comment">//å¦‚æœé€‰æ‹©å™¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> e = context.getElementsByTagName(selector); <span class="comment">// è·å–æŒ‡å®šåç§°çš„å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//é€šè¿‡forå¾ªç¯å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨åˆ°å½“å‰çš„å®ä¾‹ä¸­</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; e.length; i++) {</span></span><br><span class="line"><span class="javascript">              <span class="built_in">this</span>[i] = e[i];</span></span><br><span class="line"><span class="javascript">            }</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.length = e.length; <span class="comment">//å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.context = context; <span class="comment">//ä¿å­˜ä¸Šä¸‹æ–‡å¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">this</span>; <span class="comment">//è¿”å›å½“å‰çš„å®ä¾‹</span></span></span><br><span class="line"><span class="javascript">          } <span class="keyword">else</span> {</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.length = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.context = context;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">          }</span></span><br><span class="line"><span class="javascript">          <span class="comment">//   this.length = 0;</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//   console.log("init==", this);</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//   this._size = function () {</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//     return this.length;</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//   };</span></span></span><br><span class="line"><span class="javascript">          <span class="comment">//   return this;</span></span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="comment">// html: function (val) {</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   jQuery.each(</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     this,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     function (val) {</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//       this.innerHTML = val;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     },</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     val</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   );</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// },</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// version: "6.1.1",</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// length: 1,</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// size: function () {</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//   return this.length;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// },</span></span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      jQuery.fn.init.prototype = jQuery.fn;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="comment">//æä¾›eachæ‰©å±•æ–¹æ³•</span></span></span><br><span class="line"><span class="javascript">      jQuery.each = <span class="function"><span class="keyword">function</span> (<span class="params">object, callback, args</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="comment">//é€šè¿‡forå¾ªç¯çš„æ–¹å¼æ¥éå†jQueryå¯¹è±¡ä¸­çš„æ¯ä¸ªDOMå…ƒç´ ã€‚</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; object.length; i++) {</span></span><br><span class="line"><span class="javascript">          <span class="comment">// åœ¨æ¯ä¸ªDOMå…ƒç´ ä¸Šè°ƒç”¨å›è°ƒå‡½æ•°</span></span></span><br><span class="line"><span class="javascript">          callback.call(object[i], args);</span></span><br><span class="line"><span class="javascript">        }</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> object; <span class="comment">//è¿”å›jQueryå¯¹è±¡ã€‚</span></span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      jQuery.extend = jQuery.fn.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) {</span></span><br><span class="line"><span class="javascript">          <span class="built_in">this</span>[prop] = obj[prop];</span></span><br><span class="line"><span class="javascript">        }</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      jQuery.fn.extend({</span></span><br><span class="line"><span class="javascript">        <span class="attr">html</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span></span><br><span class="line"><span class="javascript">          jQuery.each(</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>,</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span></span><br><span class="line"><span class="javascript">              <span class="built_in">this</span>.innerHTML = val;</span></span><br><span class="line"><span class="javascript">            },</span></span><br><span class="line"><span class="javascript">            val</span></span><br><span class="line"><span class="javascript">          );</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log($("div").length);</span></span></span><br><span class="line"><span class="javascript">        $(<span class="string">"div"</span>).html(<span class="string">"&lt;h2&gt;hello&lt;h2&gt;"</span>);</span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log($().version);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log($()._size()); // 0</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log($().size()); // 0</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   var jq = new $();</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log(jq.version); // 6.1.1</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   console.log(jq.size());</span></span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸º<code>jQuery</code>çš„åŸå‹å¯¹è±¡æ·»åŠ äº†<code>extend</code>æ–¹æ³•</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend = jQuery.fn.extend = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>{</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) {</span><br><span class="line">     <span class="built_in">this</span>[prop] = obj[prop];</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line"> };</span><br></pre></td></tr></tbody></table></figure>

<p>æŠŠ<code>obj</code>å¯¹è±¡ä¸­çš„å±æ€§æ·»åŠ åˆ°<code>jQuery</code>åŸå‹å¯¹è±¡ä¸Šã€‚</p>
<p>ä¸‹é¢è°ƒç”¨<code>extend</code>æ–¹æ³•ï¼ŒåŒæ—¶è®¾ç½®<code>html</code>å±æ€§</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.extend({</span><br><span class="line">      <span class="attr">html</span>: <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">        jQuery.each(</span><br><span class="line">          <span class="built_in">this</span>,</span><br><span class="line">          <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>{</span><br><span class="line">            <span class="built_in">this</span>.innerHTML = val;</span><br><span class="line">          },</span><br><span class="line">          val</span><br><span class="line">        );</span><br><span class="line">      },</span><br><span class="line">    });</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·<code>jQuery</code>åŸå‹å¯¹è±¡ä¸Šå°±æœ‰äº†<code>html</code>æ–¹æ³•ã€‚</p>
<p>è€ŒæŠŠåŸæ¥çš„<code>html</code>æ–¹æ³•çš„ä»£ç æ³¨é‡Šæ‰ã€‚</p>
<p>åˆ·æ–°æµè§ˆå™¨ï¼ŒæŸ¥çœ‹å¯¹åº”çš„æ•ˆæœã€‚</p>
<p><strong>å‚æ•°ä¼ é€’</strong></p>
<p>æˆ‘ä»¬åœ¨ä½¿ç”¨<code>jquery</code>çš„æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œå‚æ•°çš„ä¼ é€’ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½è¦æ±‚ä¼ é€’çš„å‚æ•°éƒ½æ˜¯å¯¹è±¡ã€‚</p>
<p>ä½¿ç”¨å¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’çš„å¥½å¤„ï¼Œå°±æ˜¯æ–¹ä¾¿å‚æ•°çš„ç®¡ç†ï¼Œä¾‹å¦‚å‚æ•°ä¸ªæ•°ä¸å—é™åˆ¶ã€‚</p>
<p>å¦‚æœä½¿ç”¨å¯¹è±¡ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œéœ€è¦è§£å†³çš„é—®é¢˜ï¼šå¦‚ä½•è§£å†³å¹¶æå–å‚æ•°ï¼Œå¦‚ä½•å¤„ç†é»˜è®¤å€¼ç­‰é—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang="en"&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset="UTF-8" /&gt;</span><br><span class="line">    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;</span><br><span class="line">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      // ç»™æ„é€ å‡½æ•°ä¼ é€’selector,contextä¸¤ä¸ªå‚æ•°</span><br><span class="line">      var $ = (jQuery = function (selector, context) {</span><br><span class="line">        return new jQuery.fn.init(selector, context); //è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span><br><span class="line">      });</span><br><span class="line">      jQuery.fn = jQuery.prototype = {</span><br><span class="line">        init: function (selector, context) {</span><br><span class="line">          selector = selector || document; //åˆå§‹åŒ–é€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">          context = context || document; // åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">          if (selector.nodeType) {</span><br><span class="line">            // å¦‚æœæ˜¯DOMå…ƒç´ </span><br><span class="line">            // æŠŠè¯¥DOMå…ƒç´ èµ‹å€¼ç»™å®ä¾‹å¯¹è±¡</span><br><span class="line">            this[0] = selector;</span><br><span class="line">            this.length = 1; //è¡¨ç¤ºåŒ…å«äº†1ä¸ªå…ƒç´ </span><br><span class="line">            this.context = selector; //é‡æ–°è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">            return this; //è¿”å›å½“å‰å®ä¾‹</span><br><span class="line">          }</span><br><span class="line">          if (typeof selector === "string") {</span><br><span class="line">            //å¦‚æœé€‰æ‹©å™¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">            var e = context.getElementsByTagName(selector); // è·å–æŒ‡å®šåç§°çš„å…ƒç´ </span><br><span class="line">            //é€šè¿‡forå¾ªç¯å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨åˆ°å½“å‰çš„å®ä¾‹ä¸­</span><br><span class="line">            for (var i = 0; i &lt; e.length; i++) {</span><br><span class="line">              this[i] = e[i];</span><br><span class="line">            }</span><br><span class="line">            this.length = e.length; //å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">            this.context = context; //ä¿å­˜ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">            return this; //è¿”å›å½“å‰çš„å®ä¾‹</span><br><span class="line">          } else {</span><br><span class="line">            this.length = 0;</span><br><span class="line">            this.context = context;</span><br><span class="line">            return this;</span><br><span class="line">          }</span><br><span class="line">          //   this.length = 0;</span><br><span class="line">          //   console.log("init==", this);</span><br><span class="line">          //   this._size = function () {</span><br><span class="line">          //     return this.length;</span><br><span class="line">          //   };</span><br><span class="line">          //   return this;</span><br><span class="line">        },</span><br><span class="line">        // html: function (val) {</span><br><span class="line">        //   jQuery.each(</span><br><span class="line">        //     this,</span><br><span class="line">        //     function (val) {</span><br><span class="line">        //       this.innerHTML = val;</span><br><span class="line">        //     },</span><br><span class="line">        //     val</span><br><span class="line">        //   );</span><br><span class="line">        // },</span><br><span class="line"></span><br><span class="line">        // version: "6.1.1",</span><br><span class="line">        // length: 1,</span><br><span class="line">        // size: function () {</span><br><span class="line">        //   return this.length;</span><br><span class="line">        // },</span><br><span class="line">      };</span><br><span class="line">      jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line"></span><br><span class="line">      //æä¾›eachæ‰©å±•æ–¹æ³•</span><br><span class="line">      jQuery.each = function (object, callback, args) {</span><br><span class="line">        console.log("args=", args);</span><br><span class="line">        //é€šè¿‡forå¾ªç¯çš„æ–¹å¼æ¥éå†jQueryå¯¹è±¡ä¸­çš„æ¯ä¸ªDOMå…ƒç´ ã€‚</span><br><span class="line">        for (var i = 0; i &lt; object.length; i++) {</span><br><span class="line">          // åœ¨æ¯ä¸ªDOMå…ƒç´ ä¸Šè°ƒç”¨å›è°ƒå‡½æ•°</span><br><span class="line">          callback.call(object[i], args);</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        return object; //è¿”å›jQueryå¯¹è±¡ã€‚</span><br><span class="line">      };</span><br><span class="line"></span><br><span class="line">      // jQuery.extend = jQuery.fn.extend = function (obj) {</span><br><span class="line">      //   for (var prop in obj) {</span><br><span class="line">      //     this[prop] = obj[prop];</span><br><span class="line">      //   }</span><br><span class="line">      //   return this;</span><br><span class="line">      // };</span><br><span class="line">      jQuery.extend = jQuery.fn.extend = function () {</span><br><span class="line">        var destination = arguments[0],</span><br><span class="line">          source = arguments[1];</span><br><span class="line">        //å¦‚æœå­˜åœ¨ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éƒ½æ˜¯å¯¹è±¡</span><br><span class="line">        if (typeof destination === "object" &amp;&amp; typeof source === "object") {</span><br><span class="line">          //æŠŠç¬¬äºŒä¸ªå¯¹è±¡åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›åˆå¹¶åçš„å¯¹è±¡</span><br><span class="line">          for (var property in source) {</span><br><span class="line">            destination[property] = source[property];</span><br><span class="line">          }</span><br><span class="line">          return destination;</span><br><span class="line">        } else {</span><br><span class="line">          for (var prop in destination) {</span><br><span class="line">            this[prop] = destination[prop];</span><br><span class="line">          }</span><br><span class="line">          return this;</span><br><span class="line">        }</span><br><span class="line">      };</span><br><span class="line">      jQuery.fn.extend({</span><br><span class="line">        html: function (val) {</span><br><span class="line">          jQuery.each(</span><br><span class="line">            this,</span><br><span class="line">            function (val) {</span><br><span class="line">              this.innerHTML = val;</span><br><span class="line">            },</span><br><span class="line">            val</span><br><span class="line">          );</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      jQuery.fn.extend({</span><br><span class="line">        fontStyle: function (obj) {</span><br><span class="line">          var defaults = {</span><br><span class="line">            color: "#ccc",</span><br><span class="line">            size: "16px",</span><br><span class="line">          };</span><br><span class="line">          //å¦‚æœæœ‰å‚æ•°ï¼Œä¼šè¦†ç›–æ‰é»˜è®¤çš„å‚æ•°</span><br><span class="line">          defaults = jQuery.extend(defaults, obj || {});</span><br><span class="line">          //ä¸ºæ¯ä¸ªDOMå…ƒç´ æ‰§è®¾ç½®æ ·å¼.</span><br><span class="line">          jQuery.each(this, function () {</span><br><span class="line">            this.style.color = defaults.color;</span><br><span class="line">            this.style.fontSize = defaults.size;</span><br><span class="line">          });</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      window.onload = function () {</span><br><span class="line">        // console.log($("div").length);</span><br><span class="line">        $("div").html("&lt;h2&gt;hello&lt;h2&gt;");</span><br><span class="line">        $("p").fontStyle({</span><br><span class="line">          color: "red",</span><br><span class="line">          size: "30px",</span><br><span class="line">        });</span><br><span class="line">      };</span><br><span class="line">      //   console.log($().version);</span><br><span class="line">      //   console.log($()._size()); // 0</span><br><span class="line">      //   console.log($().size()); // 0</span><br><span class="line">      //   var jq = new $();</span><br><span class="line">      //   console.log(jq.version); // 6.1.1</span><br><span class="line">      //   console.log(jq.size());</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;å­¦ä¹ å‰ç«¯&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;å­¦ä¹ å‰ç«¯&lt;/p&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé‡æ–°æ”¹é€ <code>extend</code>æ–¹æ³•ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">jQuery.extend = jQuery.fn.extend = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">   <span class="keyword">var</span> destination = <span class="built_in">arguments</span>[<span class="number">0</span>],</span><br><span class="line">     source = <span class="built_in">arguments</span>[<span class="number">1</span>];</span><br><span class="line">   <span class="comment">//å¦‚æœå­˜åœ¨ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éƒ½æ˜¯å¯¹è±¡</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">typeof</span> destination === <span class="string">"object"</span> &amp;&amp; <span class="keyword">typeof</span> source === <span class="string">"object"</span>) {</span><br><span class="line">     <span class="comment">//æŠŠç¬¬äºŒä¸ªå¯¹è±¡åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›åˆå¹¶åçš„å¯¹è±¡</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> property <span class="keyword">in</span> source) {</span><br><span class="line">       destination[property] = source[property];</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> destination;</span><br><span class="line">   } <span class="keyword">else</span> {</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> destination) {</span><br><span class="line">       <span class="built_in">this</span>[prop] = destination[prop];</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">   }</span><br><span class="line"> };</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>extend</code>æ–¹æ³•ä¸­ï¼Œé¦–å…ˆè·å–ä¸¤ä¸ªå‚æ•°ï¼Œç„¶ååˆ¤æ–­è¿™ä¸¤ä¸ªå‚æ•°æ˜¯å¦éƒ½æ˜¯å¯¹è±¡ï¼Œå¦‚æœéƒ½æ˜¯å¯¹è±¡ï¼ŒæŠŠç¬¬äºŒä¸ªå‚æ•°å¯¹è±¡åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›åˆå¹¶åçš„å¯¹è±¡ã€‚</p>
<p>å¦åˆ™ï¼Œå°†ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡å¤åˆ¶åˆ°<code>jquery</code>çš„åŸå‹å¯¹è±¡ä¸Šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">jQuery.fn.extend({</span><br><span class="line">   <span class="attr">fontStyle</span>: <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> defaults = {</span><br><span class="line">       <span class="attr">color</span>: <span class="string">"#ccc"</span>,</span><br><span class="line">       <span class="attr">size</span>: <span class="string">"16px"</span>,</span><br><span class="line">     };</span><br><span class="line">     <span class="comment">//å¦‚æœæœ‰å‚æ•°ï¼Œä¼šè¦†ç›–æ‰é»˜è®¤çš„å‚æ•°</span></span><br><span class="line">     defaults = jQuery.extend(defaults, obj || {});</span><br><span class="line">       <span class="comment">// console.log("this==", this);//init&nbsp;{0: p, 1: p, length: 2, context: document}</span></span><br><span class="line">     <span class="comment">//ä¸ºæ¯ä¸ªDOMå…ƒç´ æ‰§è®¾ç½®æ ·å¼.</span></span><br><span class="line">     jQuery.each(<span class="built_in">this</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">          <span class="comment">//è¿™é‡Œçš„thisè¡¨ç¤ºçš„æ˜¯pæ ‡ç­¾ï¼Œå› ä¸ºåœ¨eachæ–¹æ³•å†…éƒ¨é€šè¿‡callæ”¹å˜äº†thisæŒ‡å‘ï¼Œè®©thisæŒ‡å‘äº†æ¯ä¸ªéå†å¾—åˆ°çš„på…ƒç´ </span></span><br><span class="line">       <span class="built_in">this</span>.style.color = defaults.color;</span><br><span class="line">       <span class="built_in">this</span>.style.fontSize = defaults.size;</span><br><span class="line">     });</span><br><span class="line">   },</span><br><span class="line"> });</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ è°ƒç”¨äº†<code>extend</code>æ–¹æ³•ï¼Œç„¶åä¼ é€’äº†<code>fontStyle</code>,è¿™ä¸ª<code>fontStyle</code>å¯ä»¥ç”¨æ¥è®¾ç½®æ–‡æœ¬çš„é¢œè‰²ä¸å­—ä½“å¤§å°ã€‚</p>
<p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡è°ƒç”¨<code>extend</code>æ–¹æ³•çš„æ—¶å€™ï¼Œåªæ˜¯ä¼ é€’äº†<code>fontStyle</code>è¿™ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶ï¼Œä¼šå°†è¯¥å¯¹è±¡æ·»åŠ åˆ°<code>jQuery</code>åŸå‹å¯¹è±¡ä¸Šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="comment">// console.log($("div").length);</span></span><br><span class="line">       $(<span class="string">"div"</span>).html(<span class="string">"&lt;h2&gt;hello&lt;h2&gt;"</span>);</span><br><span class="line">       $(<span class="string">"p"</span>).fontStyle({</span><br><span class="line">         <span class="attr">color</span>: <span class="string">"red"</span>,</span><br><span class="line">         <span class="attr">size</span>: <span class="string">"30px"</span>,</span><br><span class="line">       });</span><br><span class="line">     };</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å­¦ä¹ å‰ç«¯<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å­¦ä¹ å‰ç«¯<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>onload</code>äº‹ä»¶ä¸­ï¼Œè°ƒç”¨<code>fontStyle</code>æ–¹æ³•ï¼Œå¹¶ä¸”ä¼ é€’äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶åœ¨<code>fontStyle</code>æ–¹æ³•çš„å†…éƒ¨ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ª<code>defaults</code>é»˜è®¤çš„å¯¹è±¡ï¼Œç„¶åå†æ¬¡è°ƒç”¨<code>extend</code>æ–¹æ³•ï¼Œå°†ä¼ é€’çš„å¯¹è±¡åˆå¹¶åˆ°é»˜è®¤å¯¹è±¡ä¸Šï¼Œå½“ç„¶å®Œæˆäº†å€¼çš„è¦†ç›–ã€‚</p>
<p>ä¸‹é¢è°ƒç”¨<code>each</code>æ–¹æ³•ï¼Œåœ¨<code>each</code>æ–¹æ³•ä¸­éå†æ¯ä¸ªå…ƒç´ ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”æ”¹å˜<code>this</code>çš„æŒ‡å‘ã€‚</p>
<p><strong>å°è£…æˆç‹¬ç«‹çš„å‘½åç©ºé—´</strong></p>
<p>ä»¥ä¸Šå·²ç»å®ç°äº†ä¸€ä¸ªç®€å•çš„<code>jQuery</code>åº“ï¼Œ</p>
<p>ä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œéœ€è¦è§£å†³ï¼šå½“ç¼–å†™äº†å¤§é‡çš„<code>javascript</code>ä»£ç ä»¥åï¼Œå¼•å…¥è¯¥<code>jquery</code>åº“å°±å¾ˆå®¹æ˜“å‡ºç°ä»£ç å†²çªçš„é—®é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦å°†<code>jquery</code>åº“çš„ä»£ç ä¸å…¶ä»–çš„<code>javascript</code>ä»£ç è¿›è¡Œéš”ç¦»ï¼Œè¿™é‡Œä½¿ç”¨é—­åŒ…ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang="en"&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;meta charset="UTF-8" /&gt;</span><br><span class="line">    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge" /&gt;</span><br><span class="line">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      (function (window) {</span><br><span class="line">        // ç»™æ„é€ å‡½æ•°ä¼ é€’selector,contextä¸¤ä¸ªå‚æ•°</span><br><span class="line">        var $ = (jQuery = function (selector, context) {</span><br><span class="line">          return new jQuery.fn.init(selector, context); //è°ƒç”¨åŸå‹ä¸­çš„`initæ–¹æ³•`</span><br><span class="line">        });</span><br><span class="line">        jQuery.fn = jQuery.prototype = {</span><br><span class="line">          init: function (selector, context) {</span><br><span class="line">            selector = selector || document; //åˆå§‹åŒ–é€‰æ‹©å™¨ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">            context = context || document; // åˆå§‹åŒ–ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œé»˜è®¤å€¼ä¸ºdocument</span><br><span class="line">            if (selector.nodeType) {</span><br><span class="line">              // å¦‚æœæ˜¯DOMå…ƒç´ </span><br><span class="line">              // æŠŠè¯¥DOMå…ƒç´ èµ‹å€¼ç»™å®ä¾‹å¯¹è±¡</span><br><span class="line">              this[0] = selector;</span><br><span class="line">              this.length = 1; //è¡¨ç¤ºåŒ…å«äº†1ä¸ªå…ƒç´ </span><br><span class="line">              this.context = selector; //é‡æ–°è®¾ç½®ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">              return this; //è¿”å›å½“å‰å®ä¾‹</span><br><span class="line">            }</span><br><span class="line">            if (typeof selector === "string") {</span><br><span class="line">              //å¦‚æœé€‰æ‹©å™¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">              var e = context.getElementsByTagName(selector); // è·å–æŒ‡å®šåç§°çš„å…ƒç´ </span><br><span class="line">              //é€šè¿‡forå¾ªç¯å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨åˆ°å½“å‰çš„å®ä¾‹ä¸­</span><br><span class="line">              for (var i = 0; i &lt; e.length; i++) {</span><br><span class="line">                this[i] = e[i];</span><br><span class="line">              }</span><br><span class="line">              this.length = e.length; //å­˜å‚¨å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">              this.context = context; //ä¿å­˜ä¸Šä¸‹æ–‡å¯¹è±¡</span><br><span class="line">              return this; //è¿”å›å½“å‰çš„å®ä¾‹</span><br><span class="line">            } else {</span><br><span class="line">              this.length = 0;</span><br><span class="line">              this.context = context;</span><br><span class="line">              return this;</span><br><span class="line">            }</span><br><span class="line">            //   this.length = 0;</span><br><span class="line">            //   console.log("init==", this);</span><br><span class="line">            //   this._size = function () {</span><br><span class="line">            //     return this.length;</span><br><span class="line">            //   };</span><br><span class="line">            //   return this;</span><br><span class="line">          },</span><br><span class="line">          // html: function (val) {</span><br><span class="line">          //   jQuery.each(</span><br><span class="line">          //     this,</span><br><span class="line">          //     function (val) {</span><br><span class="line">          //       this.innerHTML = val;</span><br><span class="line">          //     },</span><br><span class="line">          //     val</span><br><span class="line">          //   );</span><br><span class="line">          // },</span><br><span class="line"></span><br><span class="line">          // version: "6.1.1",</span><br><span class="line">          // length: 1,</span><br><span class="line">          // size: function () {</span><br><span class="line">          //   return this.length;</span><br><span class="line">          // },</span><br><span class="line">        };</span><br><span class="line">        jQuery.fn.init.prototype = jQuery.fn;</span><br><span class="line"></span><br><span class="line">        //æä¾›eachæ‰©å±•æ–¹æ³•</span><br><span class="line">        jQuery.each = function (object, callback, args) {</span><br><span class="line">          //é€šè¿‡forå¾ªç¯çš„æ–¹å¼æ¥éå†jQueryå¯¹è±¡ä¸­çš„æ¯ä¸ªDOMå…ƒç´ ã€‚</span><br><span class="line">          for (var i = 0; i &lt; object.length; i++) {</span><br><span class="line">            // åœ¨æ¯ä¸ªDOMå…ƒç´ ä¸Šè°ƒç”¨å›è°ƒå‡½æ•°</span><br><span class="line">            callback.call(object[i], args);</span><br><span class="line">          }</span><br><span class="line"></span><br><span class="line">          return object; //è¿”å›jQueryå¯¹è±¡ã€‚</span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        // jQuery.extend = jQuery.fn.extend = function (obj) {</span><br><span class="line">        //   for (var prop in obj) {</span><br><span class="line">        //     this[prop] = obj[prop];</span><br><span class="line">        //   }</span><br><span class="line">        //   return this;</span><br><span class="line">        // };</span><br><span class="line">        jQuery.extend = jQuery.fn.extend = function () {</span><br><span class="line">          var destination = arguments[0],</span><br><span class="line">            source = arguments[1];</span><br><span class="line">          //å¦‚æœå­˜åœ¨ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶ä¸”éƒ½æ˜¯å¯¹è±¡</span><br><span class="line">          if (typeof destination === "object" &amp;&amp; typeof source === "object") {</span><br><span class="line">            //æŠŠç¬¬äºŒä¸ªå¯¹è±¡åˆå¹¶åˆ°ç¬¬ä¸€ä¸ªå‚æ•°å¯¹è±¡ä¸­ï¼Œå¹¶è¿”å›åˆå¹¶åçš„å¯¹è±¡</span><br><span class="line">            for (var property in source) {</span><br><span class="line">              destination[property] = source[property];</span><br><span class="line">            }</span><br><span class="line">            return destination;</span><br><span class="line">          } else {</span><br><span class="line">            for (var prop in destination) {</span><br><span class="line">              this[prop] = destination[prop];</span><br><span class="line">            }</span><br><span class="line">            return this;</span><br><span class="line">          }</span><br><span class="line">        };</span><br><span class="line">        // å¼€å‘jqueyr</span><br><span class="line">        window.jQuery = window.$ = jQuery;</span><br><span class="line">      })(window);</span><br><span class="line"></span><br><span class="line">      jQuery.fn.extend({</span><br><span class="line">        html: function (val) {</span><br><span class="line">          jQuery.each(</span><br><span class="line">            this,</span><br><span class="line">            function (val) {</span><br><span class="line">              this.innerHTML = val;</span><br><span class="line">            },</span><br><span class="line">            val</span><br><span class="line">          );</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      jQuery.fn.extend({</span><br><span class="line">        fontStyle: function (obj) {</span><br><span class="line">          var defaults = {</span><br><span class="line">            color: "#ccc",</span><br><span class="line">            size: "16px",</span><br><span class="line">          };</span><br><span class="line">          //å¦‚æœæœ‰å‚æ•°ï¼Œä¼šè¦†ç›–æ‰é»˜è®¤çš„å‚æ•°</span><br><span class="line">          defaults = jQuery.extend(defaults, obj || {});</span><br><span class="line"></span><br><span class="line">          // console.log("this==", this);//init&nbsp;{0: p, 1: p, length: 2, context: document}</span><br><span class="line">          //ä¸ºæ¯ä¸ªDOMå…ƒç´ æ‰§è®¾ç½®æ ·å¼.</span><br><span class="line">          jQuery.each(this, function () {</span><br><span class="line">            //è¿™é‡Œçš„thisè¡¨ç¤ºçš„æ˜¯pæ ‡ç­¾ï¼Œå› ä¸ºåœ¨eachæ–¹æ³•å†…éƒ¨é€šè¿‡callæ”¹å˜äº†thisæŒ‡å‘ï¼Œè®©thisæŒ‡å‘äº†æ¯ä¸ªéå†å¾—åˆ°çš„på…ƒç´ </span><br><span class="line"></span><br><span class="line">            this.style.color = defaults.color;</span><br><span class="line">            this.style.fontSize = defaults.size;</span><br><span class="line">          });</span><br><span class="line">        },</span><br><span class="line">      });</span><br><span class="line">      window.onload = function () {</span><br><span class="line">        // console.log($("div").length);</span><br><span class="line">        $("div").html("&lt;h2&gt;hello&lt;h2&gt;");</span><br><span class="line">        $("p").fontStyle({</span><br><span class="line">          color: "red",</span><br><span class="line">          size: "30px",</span><br><span class="line">        });</span><br><span class="line">      };</span><br><span class="line">      //   console.log($().version);</span><br><span class="line">      //   console.log($()._size()); // 0</span><br><span class="line">      //   console.log($().size()); // 0</span><br><span class="line">      //   var jq = new $();</span><br><span class="line">      //   console.log(jq.version); // 6.1.1</span><br><span class="line">      //   console.log(jq.size());</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;å­¦ä¹ å‰ç«¯&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;å­¦ä¹ å‰ç«¯&lt;/p&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå°†<code>jQuery</code>åº“æ”¾åœ¨åŒ¿åå‡½æ•°ä¸­ï¼Œç„¶åè¿›è¡Œè‡ªè°ƒç”¨ï¼Œå¹¶ä¸”ä¼ å…¥<code>window</code>å¯¹è±¡ã€‚</p>
<p>åœ¨ä¸Šé¢æ‰€æ·»åŠ çš„ä»£ç ä¸­è¿˜è¦æ³¨æ„å¦‚ä¸‹è¯­å¥ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery;</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šè¯­å¥çš„ä½œç”¨ï¼šæŠŠé—­åŒ…ä¸­çš„ç§æœ‰å˜é‡<code>jQuery</code>ä¼ é€’ç»™<code>window</code>å¯¹è±¡çš„<code>jQuery</code>å±æ€§ã€‚è¿™æ ·å°±å¯ä»¥åœ¨å…¨å±€ä½œç”¨åŸŸä¸­é€šè¿‡<code>jQuery</code>å˜é‡æ¥è®¿é—®é—­åŒ…ä½“å†…çš„<code>jQuery</code>æ¡†æ¶äº†ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬æ¨¡æ‹Ÿçš„<code>jQuery</code>åº“ã€‚</p>
<h1 id="DOMä¸äº‹ä»¶"><a href="#DOMä¸äº‹ä»¶" class="headerlink" title="DOMä¸äº‹ä»¶"></a>DOMä¸äº‹ä»¶</h1><h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p><code>getElementById()</code>:é€šè¿‡<code>id</code>æ¥æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ ã€‚</p>
<p><code>getElementsByClassName()</code>:é€šè¿‡ç±»åæ¥æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª<code>HTMLCollection</code>å¯¹è±¡ã€‚</p>
<p><code>getElementsByName()</code>:é€šè¿‡å…ƒç´ çš„<code>name</code>å±æ€§æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ ï¼Œè¿”å›çš„æ˜¯<code>NodeList</code>å¯¹è±¡ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ä¼¼äºæ•°ç»„çš„ç»“æ„ã€‚</p>
<p><code>getElementsByTagName()</code>: é€šè¿‡æ ‡ç­¾çš„åç§°æ¥æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ ï¼Œè¿”å›çš„æ˜¯<code>HTMLCollection</code>å¯¹è±¡ã€‚</p>
<p><code>querySelector</code>ï¼šè¯¥é€‰æ‹©å™¨è¿”å›çš„æ˜¯åœ¨åŸºå‡†å…ƒç´ ä¸‹ï¼Œé€‰æ‹©å™¨åŒ¹é…åˆ°çš„å…ƒç´ é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚è¯¥é€‰æ‹©å™¨çš„å‚æ•°æ¥æ”¶çš„æ˜¯ä¸€ä¸ª<code>css</code>é€‰æ‹©</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ ‡é¢˜å†…å®¹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">span</span>&gt;</span>spanæ ‡ç­¾å†…å®¹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">       æ®µè½å†…å®¹</span><br><span class="line">       <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬ä¸€ä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬äºŒä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">   <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">"p span"</span>).innerHTML);<span class="comment">// è·å–pæ ‡ç­¾ä¸­ç¬¬ä¸€ä¸ªspanæ ‡ç­¾ä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœä¸º:æ®µè½ä¸­çš„ç¬¬ä¸€ä¸ªspanæ ‡ç­¾</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">"h4,span"</span>).innerHTML);<span class="comment">//è·å–ç¬¬ä¸€ä¸ªh4æˆ–è€…æ˜¯spanå…ƒç´ çš„å†…å®¹ï¼šæ‰€ä»¥è¾“å‡ºç»“æœä¸ºï¼šæ ‡é¢˜å†…å®¹</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> ele = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">   <span class="built_in">console</span>.log(ele.querySelector(<span class="string">"div span"</span>).innerHTML);<span class="comment">//æ®µè½ä¸­çš„ç¬¬ä¸€ä¸ªspanæ ‡ç­¾ã€‚</span></span></span><br><span class="line"><span class="javascript">     <span class="comment">// é¦–å…ˆå…ˆæ‰¾åˆ°`p`å…ƒç´ ï¼Œç„¶åçœ‹ä¸€ä¸‹på…ƒç´ ä¸‹é¢æœ‰æ²¡æœ‰div,æˆ‘ä»¬å‘ç°æ²¡æœ‰ï¼Œä½†æ˜¯ä¾ç„¶èƒ½å¤ŸåŒ¹é…åˆ°spanå…ƒç´ ã€‚</span></span></span><br><span class="line"><span class="javascript">     <span class="comment">//åŸå› æ˜¯ï¼šåœ¨åŒ¹é…çš„è¿‡ç¨‹ä¸­ä¼šä¼˜å…ˆæ‰¾å‡ºæœ€å¤–å±‚divå…ƒç´ ä¸‹çš„spanå…ƒç´ çš„é›†åˆï¼Œç„¶ååœ¨åˆ¤æ–­spanå…ƒç´ æ˜¯å¦å±äºpå…ƒç´ çš„å­å…ƒç´ ï¼Œæœ€åè¿”å›</span></span></span><br><span class="line"><span class="javascript">     <span class="comment">//ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„spanå…ƒç´ çš„å€¼ã€‚</span></span></span><br><span class="line"><span class="javascript"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼ŒæŠŠ<code>HTML</code>æ–‡æ¡£çš„ç»“æ„ä¿®æ”¹æˆå¦‚ä¸‹çš„å½¢å¼ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ ‡é¢˜å†…å®¹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>spanæ ‡ç­¾å†…å®¹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--è¿™é‡Œå¢åŠ äº†ä¸€ä¸ªpæ ‡ç­¾--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç¬¬ä¸€ä¸ªæ®µè½<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        æ®µè½å†…å®¹</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬ä¸€ä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬äºŒä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œå¦‚ä¸‹ä»£ç ä¼šå‡ºç°å¼‚å¸¸ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ele = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span><br><span class="line"> <span class="built_in">console</span>.log(ele.querySelector(<span class="string">"div span"</span>).innerHTML);<span class="comment">//Cannot read property 'innerHTML' of null</span></span><br></pre></td></tr></tbody></table></figure>

<p>åŸå› ï¼šä¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ª<code>p</code>å…ƒç´ ,ç„¶åçœ‹ä¸€ä¸‹<code>p</code>æ ‡ç­¾ä¸­æ˜¯å¦æœ‰<code>div</code>,å‘ç°æ²¡æœ‰ï¼Œä½†æ˜¯ä¼šæ‰¾å‡ºæœ€å¤–å±‚<code>div</code>ä¸‹çš„æ‰€æœ‰<code>span</code>å…ƒç´ çš„é›†åˆï¼Œçœ‹ä¸€ä¸‹<code>span</code>å…ƒç´ æ˜¯å¦å±äº<code>p</code>å…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ª<code>p</code>å…ƒç´ ä¸­æ²¡æœ‰<code>span</code>å…ƒç´ ï¼Œæ‰€ä»¥æŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p><code>querySelectorAll()</code>é€‰æ‹©å™¨ï¼š</p>
<p><code>querySelectorAll</code>é€‰æ‹©å™¨ä¸<code>querySelector</code>é€‰æ‹©å™¨çš„åŒºåˆ«æ˜¯ï¼š<code>querySelectAll</code>é€‰æ‹©å™¨ä¼šè·å–åˆ°åŸºå‡†å…ƒç´ ä¸‹åŒ¹é…åˆ°æ‰€æœ‰å­å…ƒç´ çš„é›†åˆã€‚è¿”å›çš„æ˜¯ä¸€ä¸ª<code>NodeList</code>é›†åˆã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ ‡é¢˜å†…å®¹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>spanæ ‡ç­¾å†…å®¹<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        æ®µè½å†…å®¹</span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬ä¸€ä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ®µè½ä¸­çš„ç¬¬äºŒä¸ªspanæ ‡ç­¾<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	 <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelectorAll(<span class="string">"span"</span>));<span class="comment">//è¿”å›æ‰€æœ‰çš„spanæ ‡ç­¾ã€‚</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ï¼Œå†æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"foo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// è·å–containerä¸‹çš„æ‰€æœ‰divå…ƒç´ ã€‚</span></span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> div1 = <span class="built_in">document</span>.querySelectorAll(<span class="string">"#container div"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div1);<span class="comment">// NodeList(3)&nbsp;[div.bar, div.foo, div.inner]</span></span></span><br><span class="line"><span class="javascript">   </span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="HTMLCollectionå¯¹è±¡ä¸NodeListå¯¹è±¡åŒºåˆ«"><a href="#HTMLCollectionå¯¹è±¡ä¸NodeListå¯¹è±¡åŒºåˆ«" class="headerlink" title="HTMLCollectionå¯¹è±¡ä¸NodeListå¯¹è±¡åŒºåˆ«"></a>HTMLCollectionå¯¹è±¡ä¸NodeListå¯¹è±¡åŒºåˆ«</h2><p>åœ¨ä»‹ç»å‰é¢çš„é€‰æ‹©å™¨çš„æ—¶å€™ï¼Œå®ƒä»¬è¿”å›çš„å€¼æœ‰äº›æ˜¯<code>HTMLCollection</code>å¯¹è±¡ï¼Œæœ‰äº›æ˜¯<code>NodeList</code>å¯¹è±¡ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<p><code>HTMLCollection</code>å¯¹è±¡å…·æœ‰<code>1ength</code>å±æ€§ï¼Œè¿”å›é›†åˆçš„é•¿åº¦ï¼Œå¯ä»¥é€šè¿‡<code>item()</code>å’Œ<code>namedItem()</code>å‡½æ•°æ¥è®¿é—®ç‰¹å®šçš„å…ƒç´ ã€‚</p>
<p><code>item()</code>å‡½æ•°ï¼šé€šè¿‡åºå·ç´¢å¼•å€¼æ¥è·å–ç‰¹å®šçš„æŸä¸ªèŠ‚ç‚¹ï¼Œè¶…è¿‡ç´¢å¼•åˆ™è¿”å›<code>null</code>.</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bar"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"foo"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> main = <span class="built_in">document</span>.getElementById(<span class="string">"container"</span>).children;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(main); <span class="comment">//HTMLCollection</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(main.item(<span class="number">0</span>)); <span class="comment">//è¾“å‡º:&lt;div class="bar"&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(main.item(<span class="number">1</span>)); <span class="comment">// è¾“å‡º:fooå…ƒç´ </span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>namedItem()</code>å‡½æ•°ï¼šè¯¥å‡½æ•°ç”¨æ¥è¿”å›ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé¦–å…ˆé€šè¿‡<code>id</code>å±æ€§å»åŒ¹é…ï¼Œç„¶åå¦‚æœæ²¡æœ‰åŒ¹é…åˆ°åˆ™ä½¿ç”¨<code>name</code>å±æ€§åŒ¹é…ï¼Œå¦‚æœè¿˜æ²¡æœ‰åŒ¹é…åˆ°åˆ™è¿”å›<code>null</code>. å½“å‡ºç°é‡å¤çš„<code>id</code>æˆ–è€…<code>name</code>å±æ€§æ—¶ï¼Œåªè¿”å›åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå€¼ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> form1 = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>).children;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(form1.namedItem(<span class="string">"userPwd"</span>));<span class="comment">//   &lt;input type="password" id="password" name="userPwd" /&gt;</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>NodeList</code>å¯¹è±¡ä¹Ÿå…·æœ‰<code>length</code>å±æ€§ï¼Œè¿”å›é›†åˆçš„é•¿åº¦ï¼ŒåŒæ ·ä¹Ÿæœ‰<code>item</code>å‡½æ•°ï¼Œä¹Ÿæ˜¯é€šè¿‡ç´¢å¼•å®šä½å­å…ƒç´ çš„ä½ç½®ã€‚ä½†æ˜¯<code>NodeList</code>å¯¹è±¡æ²¡æœ‰<code>namedItem</code>æ–¹æ³•ã€‚</p>
<p><code>HTMLCollection</code>å¯¹è±¡ä¸<code>NodeList</code>å¯¹è±¡éƒ½æ˜¯ç±»ä¼¼æ•°ç»„çš„ç»“æ„ï¼Œå¦‚æœæƒ³è°ƒç”¨æ•°ç»„ä¸­çš„æ–¹æ³•ï¼Œéœ€è¦é€šè¿‡<code>call()</code>å‡½æ•°æˆ–è€…æ˜¯<code>apply()</code>å‡½æ•°ï¼Œè½¬æ¢ä¸ºçœŸæ­£çš„æ•°ç»„åï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ä¸­çš„å‡½æ•°ã€‚</p>
<p>åŒæ—¶ï¼Œå½“æˆ‘ä»¬å¯¹<code>DOM</code>æ ‘æ–°å¢æˆ–è€…æ˜¯åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œéƒ½ä¼šç«‹å³çš„æ”¾æ˜ åœ¨<code>HTMLCollection</code>å¯¹è±¡ä¸<code>NodeList</code>å¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="comment">//è·å–HTMLCollectioné›†åˆ</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> form1Children = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>).children;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// è·å–formå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> form1 = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(form1Children.length); <span class="comment">// 2 HTMLCollectionä¸­æœ‰ä¸¤ä¸ªå­å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> input = <span class="built_in">document</span>.createElement(<span class="string">"input"</span>); <span class="comment">//åˆ›å»ºinputå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    form1.appendChild(input); <span class="comment">// æŠŠåˆ›å»ºçš„inputå…ƒç´ æ·»åŠ åˆ°formå…ƒç´ ä¸­</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(form1Children.length); <span class="comment">// 3 å¯ä»¥çœ‹åˆ°HTMLCollectionç«‹å³å—åˆ°äº†å½±å“</span></span></span><br></pre></td></tr></tbody></table></figure>

<p>æœ€åï¼Œæ€»ç»“ä¸€ä¸‹<code>HTMLCollection</code>å¯¹è±¡ä¸<code>NodeList</code>å¯¹è±¡çš„ç›¸åŒç‚¹ä¸ä¸åŒç‚¹</p>
<p>ç›¸åŒç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼šéƒ½æ˜¯ç±»ä¼¼æ•°ç»„çš„ç»“æ„ï¼Œæœ‰<code>length</code>å±æ€§ï¼Œå¯ä»¥é€šè¿‡<code>call()</code>å‡½æ•°æˆ–è€…æ˜¯<code>apply()</code>å‡½æ•°è½¬æ¢æˆæ•°ç»„ï¼Œä½¿ç”¨æ•°ç»„ä¸­çš„å‡½æ•°ã€‚</p>
<p>ç¬¬äºŒï¼šéƒ½ç”¨<code>item</code>å‡½æ•°ï¼Œé€šè¿‡ç´¢å¼•å€¼è·å–ç›¸åº”çš„å…ƒç´ ã€‚</p>
<p>ç¬¬ä¸‰ï¼šéƒ½æ˜¯å®æ—¶çš„ï¼Œå½“åœ¨<code>DOM</code>æ ‘ä¸Šæ·»åŠ å…ƒç´ æˆ–è€…æ˜¯åˆ é™¤å…ƒç´ ï¼Œéƒ½ä¼šç«‹å³ååº”åˆ°<code>HTMLCollection</code>å¯¹è±¡å’Œ<code>NodeList</code>å¯¹è±¡ä¸Šã€‚</p>
<p>ä¸åŒç‚¹ï¼š</p>
<p>ç¬¬ä¸€ï¼š<code>HTMLCollection</code>å¯¹è±¡ä¸­ï¼Œæœ‰<code>namedItem()</code>å‡½æ•°ï¼Œè€Œ<code>NodeList</code>å¯¹è±¡ä¸­æ²¡æœ‰.</p>
<p>ç¬¬äºŒï¼š<code>NodeList</code>å¯¹è±¡ä¸­å­˜å‚¨çš„æ˜¯å…ƒç´ èŠ‚ç‚¹çš„é›†åˆï¼ŒåŒ…æ‹¬å…ƒç´ ï¼Œä»¥åŠèŠ‚ç‚¹ï¼Œä¾‹å¦‚<code>text</code>æ–‡æœ¬èŠ‚ç‚¹ï¼Œè€Œ<code>HTMLCollection</code>å¯¹è±¡ä¸­åªåŒ…å«äº†å…ƒç´ çš„é›†åˆã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·å<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      ç”¨æˆ·å¯†ç <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="comment">//è·å–HTMLCollectioné›†åˆ</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> form1Children = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>).children;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(form1Children);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//è·å–NodeListå¯¹è±¡</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> formNodes = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>).childNodes;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(formNodes);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºçš„ç»“æœï¼Œå¯ä»¥çœ‹å‡º<code>HTMLCollection</code>å¯¹è±¡ä¸<code>NodeList</code>å¯¹è±¡çš„åŒºåˆ«ã€‚</p>
<h2 id="å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›ï¼Ÿ"><a href="#å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›ï¼Ÿ"></a>å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›ï¼Ÿ</h2><p><strong>æ·»åŠ èŠ‚ç‚¹</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·å<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      ç”¨æˆ·å¯†ç <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="keyword">var</span> form1 = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//åˆ›å»ºä¸€ä¸ªinputå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> newInput = <span class="built_in">document</span>.createElement(<span class="string">"input"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//åˆ›å»ºå±æ€§</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> newAttr = <span class="built_in">document</span>.createAttribute(<span class="string">"type"</span>);</span></span><br><span class="line"><span class="javascript">    newAttr.value = <span class="string">"password"</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//å°†å±æ€§ç»‘å®šåˆ°å…ƒç´ ä¸Š</span></span></span><br><span class="line"><span class="javascript">    newInput.setAttributeNode(newAttr);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> newTextNode = <span class="built_in">document</span>.createTextNode(<span class="string">"ç”¨æˆ·å¯†ç "</span>);</span></span><br><span class="line"><span class="javascript">    form1.appendChild(newTextNode); <span class="comment">//æ·»åŠ æ–‡æœ¬èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="javascript">    form1.appendChild(newInput);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>åˆ é™¤èŠ‚ç‚¹</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·å<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      ç”¨æˆ·å¯†ç <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> form1 = <span class="built_in">document</span>.getElementById(<span class="string">"form1"</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> nodeChilds = form1.childNodes;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(nodeChilds);</span></span><br><span class="line"><span class="javascript">    form1.removeChild(nodeChilds[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript">    form1.removeChild(nodeChilds[<span class="number">0</span>]);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æƒ³å°†è¡¨å•ä¸­çš„<code>ç”¨æˆ·å</code>è¿™ä¸€é¡¹å†…å®¹åˆ é™¤æ‰ã€‚</p>
<p>é¦–å…ˆè·å–<code>form</code>è¡¨å•ï¼Œç„¶ååœ¨è·å–å¯¹åº”çš„å­å…ƒç´ ã€‚</p>
<p>é€šè¿‡æ‰§è¡Œ<code>removeChild</code>æ–¹æ³•åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯<code>ç”¨æˆ·å</code>è¿™ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼Œ</p>
<p>ä¸‹é¢è¿˜è¦åˆ é™¤æ–‡æœ¬æ¡†ï¼Œæ‰€ä»¥å†æ¬¡è°ƒç”¨äº†<code>removeChild</code>å‡½æ•°ï¼Œæ³¨æ„ç”±äºå‰é¢å·²ç»åˆ é™¤äº†<code>ç”¨æˆ·å</code>è¿™ä¸ªæ–‡æœ¬å…ƒç´ äº†ï¼Œæ‰€ä»¥æ–‡æœ¬æ¡†æˆä¸ºäº†ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥è¿™é‡Œå†™åˆ°ç´¢å¼•å€¼ä¹Ÿæ˜¯0.</p>
<p><strong>åˆ é™¤æ–‡æœ¬æ¡†çš„<code>id</code>å±æ€§</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">      ç”¨æˆ·å<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">      ç”¨æˆ·å¯†ç <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">id</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"userPwd"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	 <span class="keyword">var</span> input = <span class="built_in">document</span>.querySelector(<span class="string">"#userName"</span>);</span></span><br><span class="line"><span class="javascript">    input.removeAttribute(<span class="string">"id"</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<p> <strong>ä¿®æ”¹èŠ‚ç‚¹</strong></p>
<p><strong>ä¿®æ”¹å…ƒç´ èŠ‚ç‚¹</strong></p>
<p>ä¿®æ”¹å…ƒç´ çš„èŠ‚ç‚¹çš„æ“ä½œï¼Œä¸€èˆ¬æ˜¯ç›´æ¥ç”¨æ–°çš„èŠ‚ç‚¹æ›¿æ¢æ—§çš„èŠ‚ç‚¹ã€‚å…³äºèŠ‚ç‚¹çš„æ›¿æ¢å¯ä»¥ä½¿ç”¨ï¼Œ<code>replaceChild</code>å‡½æ•°æ¥å®ç°ï¼Œè¯¥å‡½æ•°çš„è°ƒç”¨æ˜¯é€šè¿‡çˆ¶å…ƒç´ æ¥è°ƒç”¨çš„ï¼Œä¾‹å¦‚ï¼šæŠŠ<code>div1</code>ä¸­çš„å†…å®¹æ›¿æ¢æ‰ï¼Œè¿™é‡Œå°±éœ€è¦é€šè¿‡<code>container.replaceChild</code>æ–¹æ³•æ¥å®Œæˆï¼Œ<code>replaceChild</code>æ–¹æ³•éœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯æ–°å…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯æ—§å…ƒç´ ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> container = <span class="built_in">document</span>.getElementById(<span class="string">"container"</span>); <span class="comment">//è·å–çˆ¶å…ƒç´ container</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>); <span class="comment">//è·å–å­å…ƒç´ </span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> newDiv = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>); <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„divå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> newText = <span class="built_in">document</span>.createTextNode(<span class="string">"nihao"</span>); <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡æœ¬å†…å®¹</span></span></span><br><span class="line"><span class="javascript">      newDiv.appendChild(newText); <span class="comment">//æŠŠåˆ›å»ºçš„æ–‡æœ¬å†…å®¹æ·»åŠ åˆ°æ–°çš„divä¸­</span></span></span><br><span class="line"><span class="javascript">      container.replaceChild(newDiv, div1); <span class="comment">//ç”¨æ–°çš„divæ›¿æ¢æ—§çš„div,å®ŒæˆèŠ‚ç‚¹çš„ä¿®æ”¹æ“ä½œã€‚</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p><strong>ä¿®æ”¹å±æ€§èŠ‚ç‚¹</strong></p>
<p>ä¿®æ”¹å±æ€§çš„èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>setAttribute()</code>å‡½æ•°æ¥å®Œæˆï¼Œå¦‚æœæƒ³è·å–å±æ€§èŠ‚ç‚¹å¯ä»¥é€šè¿‡<code>getAttribute()</code>å‡½æ•°æ¥å®Œæˆã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">style</span>=<span class="string">"color: red"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	   <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">      div1.setAttribute(<span class="string">"style"</span>, <span class="string">"color:blue"</span>); <span class="comment">//è®¾ç½®styleå±æ€§</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(div1.getAttribute(<span class="string">"style"</span>)); <span class="comment">// è·å–styleå±æ€§çš„å€¼</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¿®æ”¹å±æ€§èŠ‚ç‚¹é™¤äº†é€šè¿‡<code>setAttribute()</code>æ–¹æ³•å®Œæˆä»¥å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å±æ€§åç›´æ¥è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">style</span>=<span class="string">"color: red"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"> <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">      div1.style.color = <span class="string">"blue"</span>;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œä¿®æ”¹ï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šç›´æ¥ä¿®æ”¹çš„å±æ€§åä¸å…ƒç´ èŠ‚ç‚¹ä¸­çš„å±æ€§åä¸ä¸€å®šæ˜¯ä¸€è‡´çš„ã€‚ä¾‹å¦‚<code>class</code>è¿™ä¸ªå±æ€§ï¼Œåœ¨<code>javascript</code>ä¸­æ˜¯å…³é”®å­—ï¼Œä¸èƒ½ç›´æ¥ä½œä¸ºå±æ€§ä½¿ç”¨ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡<code>className</code>æ¥å®Œæˆã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">style</span>=<span class="string">"color: red"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span> <span class="attr">class</span>=<span class="string">"foo"</span>&gt;</span>å‰ç«¯å­¦ä¹ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</span></span><br><span class="line"><span class="javascript">      div2.className = <span class="string">"bar"</span>; <span class="comment">//æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯className</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”çš„æ ·å¼å‘ç”Ÿäº†ä¿®æ”¹ã€‚</p>
<p><strong>ä¿®æ”¹æ–‡æœ¬èŠ‚ç‚¹</strong></p>
<p>æ–‡æœ¬èŠ‚ç‚¹çš„ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡<code>innerHTML</code>å±æ€§æ¥å®Œæˆã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">style</span>=<span class="string">"color: red"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div2"</span> <span class="attr">class</span>=<span class="string">"foo"</span>&gt;</span>å‰ç«¯å­¦ä¹ <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	  <span class="keyword">var</span> div2 = <span class="built_in">document</span>.getElementById(<span class="string">"div2"</span>);</span></span><br><span class="line"><span class="javascript">      div2.innerHTML = <span class="string">"Vue å­¦ä¹ "</span>;</span></span><br><span class="line"><span class="javascript">&lt;/script?&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="DOMæ€§èƒ½é—®é¢˜"><a href="#DOMæ€§èƒ½é—®é¢˜" class="headerlink" title="DOMæ€§èƒ½é—®é¢˜"></a>DOMæ€§èƒ½é—®é¢˜</h2><p><code>Dom</code>æ“ä½œéå¸¸æ¶ˆè€—æ€§èƒ½ï¼Œåº”è¯¥å°½é‡é¿å…é¢‘ç¹çš„æ“ä½œ<code>DOM</code>.</p>
<p>å¯¼è‡´æµè§ˆå™¨é‡ç»˜ï¼Œé‡æ–°æ¸²æŸ“ï¼Œæ¯”è¾ƒæ¶ˆè€—<code>cpu</code>èµ„æºï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚</p>
<p>æå‡æ€§èƒ½çš„æ–¹æ¡ˆï¼š</p>
<p>ç¬¬ä¸€ï¼šå¯¹<code>DOM</code>æŸ¥è¯¢æ“ä½œè¿›è¡Œç¼“å­˜</p>
<p>ç¬¬äºŒï¼šå°†é¢‘ç¹æ“ä½œä¿®æ”¹ä¸ºä¸€æ¬¡æ€§æ“ä½œ</p>
<p>é¦–å…ˆçœ‹ç¬¬ä¸€ç§æƒ…å†µï¼š</p>
<p>è¿™é‡Œéœ€è¦å¯¹é¡µé¢ä¸­æ‰€æœ‰<code>p</code>æ ‡ç­¾å†…æ–‡å­—è°ƒæ•´å¤§å°(å•å‡»æŒ‰é’®å®Œæˆ)</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸ç¼“å­˜çš„ç»“æœ</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>).length; i++) {</span><br><span class="line">       <span class="comment">//æ¯æ¬¡å¾ªç¯ï¼Œéƒ½ä¼šè®¡ç®—lenght,é¢‘ç¹è¿›è¡ŒDOMæŸ¥è¯¢</span></span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pList = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"p"</span>);</span><br><span class="line">     <span class="keyword">const</span> length = pList.length;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) {</span><br><span class="line">       <span class="comment">//ç¼“å­˜length,åªè¿›è¡Œä¸€æ¬¡DOMæŸ¥è¯¢</span></span><br><span class="line">     }</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢çœ‹ä¸€ä¸‹ç¬¬äºŒç§æƒ…å†µï¼š</p>
<p>éœ€æ±‚ï¼šé¡µé¢ä¸­æœ‰ä¸€ä¸ª<code>ul</code>åˆ—è¡¨ï¼Œéœ€è¦å•å‡»æŒ‰é’®ä¸€æ¬¡æ€§æ’å…¥10ä¸ªæˆ–è€…100ä¸ª<code>li</code>?</p>
<p>ä¼ ç»Ÿçš„åšæ³•ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listNode = <span class="built_in">document</span>.getElementById(<span class="string">"list"</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">        li.innerHTML = <span class="string">`item<span class="subst">${i}</span>`</span>;</span><br><span class="line">        list.appendChild(li);</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å®ç°å¯¹åº”çš„éœ€æ±‚ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ä¸Šé¢çš„æ“ä½œæ˜¯é¢‘ç¹æ“ä½œ<code>dom</code>ï¼Œæ€§èƒ½æ¯”è¾ƒä½ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listNode = <span class="built_in">document</span>.getElementById(<span class="string">"list"</span>);</span><br><span class="line">      <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ç‰‡æ®µï¼Œæ–‡æ¡£ç‰‡æ®µå­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¹¶ä¸åœ¨DOMæ ‘ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶è¿˜æ²¡æœ‰æ’å…¥åˆ°DOMä¸­</span></span><br><span class="line">      <span class="comment">//ä¹Ÿå°±æ˜¯å…ˆå°†domæ’å…¥åˆ°ä¸´æ—¶åŒºåŸŸä¸­</span></span><br><span class="line">      <span class="keyword">const</span> frag = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line">      <span class="comment">//æ‰§è¡Œæ’å…¥</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">        li.innerHTML = <span class="string">`item<span class="subst">${i}</span>`</span>;</span><br><span class="line">        frag.appendChild(li);</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">//éƒ½å®Œæˆåï¼Œå†æ’å…¥åˆ°DOMæ ‘ä¸­</span></span><br><span class="line">      listNode.appendChild(frag);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­"></a>ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­</h2><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œ<code>JavaScript</code>å’Œ<code>HTML</code>ä¹‹é—´çš„äº¤äº’æ˜¯é€šè¿‡äº‹ä»¶å®ç°çš„ï¼Œå¸¸ç”¨çš„äº‹ä»¶åŒ…æ‹¬äº†é¼ æ ‡ç‚¹å‡»çš„äº‹ä»¶ï¼Œé¼ æ ‡ç§»åŠ¨äº‹ä»¶ç­‰ç­‰ã€‚</p>
<p>å½“äº‹ä»¶å‘ç”Ÿä»¥åï¼Œä¼šè§¦å‘ç»‘å®šåœ¨å…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p>
<p>é—®é¢˜æ˜¯å½“äº‹ä»¶å‘ç”Ÿåï¼Œäº‹ä»¶æ˜¯æ€æ ·ä¼ æ’­çš„å‘¢ï¼Ÿ</p>
<p>äº‹ä»¶å‘ç”Ÿåä¼šåœ¨ç›®æ ‡èŠ‚ç‚¹å’Œæ ¹èŠ‚ç‚¹ä¹‹é—´æŒ‰ç…§ç‰¹å®šçš„é¡ºåºè¿›è¡Œä¼ æ’­ï¼Œè·¯å¾„ç»è¿‡çš„èŠ‚ç‚¹éƒ½ä¼šæ¥æ”¶åˆ°äº‹ä»¶ã€‚</p>
<p>è¿™é‡Œçš„ç‰¹å®šé¡ºåºæ˜¯æ€æ ·çš„é¡ºåºå‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€ç§ï¼šäº‹ä»¶ä¼ é€’çš„é¡ºåºæ˜¯å…ˆè§¦å‘æœ€å¤–å±‚çš„å…ƒç´ ï¼Œç„¶åä¾æ¬¡å‘å†…ä¼ æ’­ï¼Œè¿™æ ·çš„ä¼ é€’é¡ºåºæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶çš„æ•è·é˜¶æ®µã€‚</p>
<p>ç¬¬äºŒç§ï¼šäº‹ä»¶ä¼ é€’çš„é¡ºåºæ˜¯å…ˆè§¦å‘æœ€å†…å±‚çš„å…ƒç´ ï¼Œç„¶åä¾æ¬¡å‘å¤–è¿›è¡Œä¼ æ’­ï¼Œè¿™æ ·çš„ä¼ é€’é¡ºåºæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶å†’æ³¡é˜¶æ®µã€‚</p>
<p>å½“ç„¶ï¼Œä¸€ä¸ªå®Œæ•´çš„äº‹ä»¶ä¼ æ’­åŒ…å«äº†ä¸‰ä¸ªé˜¶æ®µ</p>
<p>é¦–å…ˆå°±æ˜¯äº‹ä»¶çš„æ•è·é˜¶æ®µ</p>
<p>ç„¶åæ˜¯äº‹ä»¶çš„ç›®æ ‡é˜¶æ®µï¼Œç›®æ ‡é˜¶æ®µæŒ‡çš„å°±æ˜¯äº‹ä»¶å·²ç»åˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚</p>
<p>æœ€åæ˜¯äº‹ä»¶çš„å†’æ³¡é˜¶æ®µ</p>
<p>ä»¥ä¸Šå°±æ˜¯å…³äºäº‹ä»¶ä¼ æ’­çš„æè¿°</p>
<h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶çš„æ•è·"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶çš„æ•è·" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶çš„æ•è·"></a>ä»€ä¹ˆæ˜¯äº‹ä»¶çš„æ•è·</h2><p>å…³äºäº‹ä»¶æ•è·ï¼Œåœ¨ä¸Šä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»è¿‡ï¼šäº‹ä»¶çš„ä¼ é€’æ˜¯ä»æœ€å¤–å±‚å¼€å§‹ï¼Œä¾æ¬¡å‘å†…ä¼ æ’­ï¼Œåœ¨æ•è·é˜¶æ®µï¼Œäº‹ä»¶ä»<code>window</code>å¼€å§‹ï¼Œä¸€ç›´åˆ°è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window----&gt; document----&gt; html----&gt; body ----&gt;ç›®æ ‡å…ƒç´ </span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼å†…å®¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> table = <span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tbody = <span class="built_in">document</span>.querySelector(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tr = <span class="built_in">document</span>.querySelector(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> td = <span class="built_in">document</span>.querySelector(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">      table.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      tbody.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      tr.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      td.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªè¡¨æ ¼ï¼Œç»™è¡¨æ ¼ä¸­çš„æ¯ä¸ªå…ƒç´ é€šè¿‡<code>addEventListener</code>æ–¹æ³•ç»‘å®šäº†å•å‡»äº‹ä»¶ï¼ŒåŒæ—¶è¯¥æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè®¾ç½®ä¸ºäº†<code>true</code>,è¿™æ ·å°±è¡¨æ˜äº‹ä»¶å°†åœ¨æ•è·é˜¶æ®µå‘ç”Ÿã€‚</p>
<p>æ‰€ä»¥å½“æˆ‘ä»¬å•å‡»<code>td</code>å•å…ƒæ ¼çš„æ—¶å€™ï¼Œäº‹ä»¶çš„æ‰§è¡Œç»“æœæ˜¯ï¼š<code>table</code>,<code>tbody</code>,<code>tr</code>,<code>td</code>.ä¹Ÿå°±æ˜¯è¯´äº‹ä»¶ä»<code>table</code>å¼€å§‹ï¼Œä¾æ¬¡å‘ä¸‹ä¼ æ’­ã€‚è¿™ä¸ªä¼ æ’­çš„è¿‡ç¨‹å°±æ˜¯äº‹ä»¶æ•è·ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡"></a>ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡</h2><p>å…³äºäº‹ä»¶çš„å†’æ³¡ï¼Œåœ¨å‰é¢ä¹Ÿå·²ç»æåˆ°è¿‡ï¼šäº‹ä»¶ä¼ é€’çš„é¡ºåºæ˜¯å…ˆè§¦å‘æœ€å†…å±‚çš„å…ƒç´ ï¼Œç„¶åä¾æ¬¡å‘å¤–è¿›è¡Œä¼ æ’­ï¼Œè¿™æ ·çš„ä¼ é€’é¡ºåºæˆ‘ä»¬ç§°ä¹‹ä¸ºäº‹ä»¶å†’æ³¡é˜¶æ®µã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼å†…å®¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> table = <span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tbody = <span class="built_in">document</span>.querySelector(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tr = <span class="built_in">document</span>.querySelector(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> td = <span class="built_in">document</span>.querySelector(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">      table.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      tbody.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      tr.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°†<code>addEventListener</code>æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°<code>true</code>å»æ‰äº†ï¼Œè¿™æ—¶å°±æœ‰äº‹ä»¶çš„æ•è·å˜æˆäº†äº‹ä»¶çš„å†’æ³¡ã€‚é»˜è®¤å€¼ä¸º(<code>false</code>).</p>
<p>ä½†å•å‡»å•å…ƒæ ¼çš„æ—¶å€™ï¼Œæ‰§è¡Œçš„ç»“æœä¸ºï¼š<code>td</code>,<code>tr</code>,<code>tbody</code>,<code>table</code>, è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯äº‹ä»¶çš„å†’æ³¡ã€‚</p>
<h2 id="é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#é˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="é˜»æ­¢äº‹ä»¶å†’æ³¡"></a>é˜»æ­¢äº‹ä»¶å†’æ³¡</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»äº†è§£äº†äº‹ä»¶å†’æ³¡çš„è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é˜»æ­¢äº‹ä»¶å†’æ³¡çš„å‘ç”Ÿã€‚</p>
<p>ä¾‹å¦‚ï¼šåœ¨ä¸Šä¸€å°èŠ‚çš„æ¡ˆä¾‹ä¸­ï¼Œå½“æˆ‘ä»¬å•å‡»äº†å•å…ƒæ ¼åï¼Œä¸ä»…è§¦å‘å•å…ƒæ ¼å…ƒç´ çš„äº‹ä»¶ï¼ŒåŒæ—¶ä¹Ÿä¼šè§¦å‘å…¶å®ƒå…ƒç´ çš„äº‹ä»¶ï¼Œè€Œè¿™é‡Œæˆ‘ä»¬åªå¸Œæœ›è§¦å‘å•å…ƒæ ¼çš„äº‹ä»¶ã€‚æ‰€ä»¥è¿™é‡Œéœ€è¦é˜»æ­¢äº‹ä»¶çš„å†’æ³¡ã€‚</p>
<p>é˜»æ­¢äº‹ä»¶çš„å†’æ³¡éœ€è¦ä½¿ç”¨ï¼š<code>event.stopPropagation()</code>å‡½æ•°</p>
<p>å¦‚ä¸‹æ¡ˆä¾‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> table = <span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span><br><span class="line">    <span class="keyword">var</span> tbody = <span class="built_in">document</span>.querySelector(<span class="string">"tbody"</span>);</span><br><span class="line">    <span class="keyword">var</span> tr = <span class="built_in">document</span>.querySelector(<span class="string">"tr"</span>);</span><br><span class="line">    <span class="keyword">var</span> td = <span class="built_in">document</span>.querySelector(<span class="string">"td"</span>);</span><br><span class="line">    table.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"table"</span>);</span><br><span class="line">    });</span><br><span class="line">    tbody.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"tbody"</span>);</span><br><span class="line">    });</span><br><span class="line">    tr.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"tr"</span>);</span><br><span class="line">    });</span><br><span class="line">    td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">      <span class="comment">//é˜»æ­¢äº†äº‹ä»¶çš„å†’æ³¡æ“ä½œ</span></span><br><span class="line">      event.stopPropagation();</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"td"</span>);</span><br><span class="line">    });</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨å•å…ƒæ ¼çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œé€šè¿‡<code>event.stopPropagation()</code>æ–¹æ³•é˜»æ­¢äº†äº‹ä»¶çš„å†’æ³¡ã€‚</p>
<p>ä¸<code>stopPropagation()</code>å‡½æ•°ç›¸å¯¹çš„è¿˜æœ‰ä¸€ä¸ª<code>stopImmediatePropagation</code>å‡½æ•°ï¼Œå®ƒä»¬ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<p><code>stopPropagation()</code>ï¼šå‡½æ•°ä¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œå…¶å®ƒäº‹ä»¶å¤„ç†ç¨‹åºä»ç„¶å¯ä»¥è°ƒç”¨</p>
<p><code>stopImmediatePropagation</code>å‡½æ•°ä¸ä»…å¯ä»¥é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œä¹Ÿä¼šé˜»æ­¢å…¶å®ƒäº‹ä»¶å¤„ç†ç¨‹åºçš„è°ƒç”¨ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼å†…å®¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> table = <span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> tbody = <span class="built_in">document</span>.querySelector(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> tr = <span class="built_in">document</span>.querySelector(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> td = <span class="built_in">document</span>.querySelector(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">     table.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">     tbody.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">     tr.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">       <span class="comment">//å•å…ƒæ ¼ç¬¬ä¸€ä¸ªå•å‡»äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"td1"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">       <span class="comment">//å•å…ƒæ ¼ç¬¬äºŒä¸ªå•å‡»äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="comment">//é˜»æ­¢äº†äº‹ä»¶çš„å†’æ³¡æ“ä½œ</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// event.stopImmediatePropagation();</span></span></span><br><span class="line"><span class="javascript">        event.stopPropagation();</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"td2"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">    <span class="comment">//   å•å…ƒæ ¼ç¬¬ä¸‰ä¸ªå•å‡»äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"td3"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç»™å•å…ƒæ ¼æ·»åŠ äº†ä¸‰ä¸ªå•å‡»çš„äº‹ä»¶ï¼ŒåŒæ—¶ç¬¬äºŒä¸ªå•å‡»äº‹ä»¶ä½¿ç”¨äº†<code>stopPropagation</code>æ–¹æ³•æ¥é˜»æ­¢å†’æ³¡è¡Œä¸ºã€‚</p>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š<code>td1</code>,<code>td2</code>,<code>td3</code></p>
<p>é€šè¿‡æ‰§è¡Œç»“æœï¼Œå¯ä»¥çœ‹åˆ°å•å…ƒæ ¼çš„ä¸‰ä¸ªå•å‡»äº‹ä»¶å…¨éƒ¨è§¦å‘ï¼Œå¹¶ä¸”é˜»æ­¢äº†å†’æ³¡çš„è¡Œä¸ºã€‚</p>
<p>å¦‚æœä½¿ç”¨<code>stopImmediatePropagation</code>æ–¹æ³•ï¼Œæ‰§è¡Œç»“æœä¸ºï¼š<code>td1</code>,<code>td2</code></p>
<p>é€šè¿‡æ‰§è¡Œçš„ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé˜»æ­¢äº†å†’æ³¡çš„è¡Œä¸ºï¼Œä½†æ˜¯æ²¡æœ‰è§¦å‘å•å…ƒæ ¼çš„ç¬¬ä¸‰ä¸ªå•å‡»çš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šé˜»æ­¢å…¶å®ƒäº‹ä»¶çš„æ‰§è¡Œã€‚</p>
<h2 id="äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·é—®é¢˜"><a href="#äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·é—®é¢˜" class="headerlink" title="äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·é—®é¢˜"></a>äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·é—®é¢˜</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">td</span>&gt;</span>å•å…ƒæ ¼å†…å®¹<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> table = <span class="built_in">document</span>.querySelector(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tbody = <span class="built_in">document</span>.querySelector(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> tr = <span class="built_in">document</span>.querySelector(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> td = <span class="built_in">document</span>.querySelector(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="comment">//äº‹ä»¶æ•è·</span></span></span><br><span class="line"><span class="javascript">      table.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"table"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      <span class="comment">//äº‹ä»¶å†’æ³¡</span></span></span><br><span class="line"><span class="javascript">      tbody.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"tbody"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">      <span class="comment">//äº‹ä»¶æ•è·</span></span></span><br><span class="line"><span class="javascript">      tr.addEventListener(</span></span><br><span class="line"><span class="javascript">        <span class="string">"click"</span>,</span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="string">"tr"</span>);</span></span><br><span class="line"><span class="javascript">        },</span></span><br><span class="line"><span class="javascript">        <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      );</span></span><br><span class="line"><span class="javascript">      <span class="comment">//äº‹ä»¶å†’æ³¡</span></span></span><br><span class="line"><span class="javascript">      td.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"td"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">   </span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ—¢æœ‰äº‹ä»¶æ•è·åˆæœ‰äº‹ä»¶å†’æ³¡ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„ç»“æœæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p>
<p>å½“å•å‡»<code>td</code>å•å…ƒæ ¼å</p>
<p>æ‰§è¡Œç»“æœï¼š<code>table</code>,<code>tr</code>,<code>td</code>,<code>tbody</code></p>
<p>åˆ†æï¼šå‰é¢æˆ‘ä»¬è®²è§£è¿‡ï¼Œäº‹ä»¶ä¼ æ’­çš„å¾ªåºæ˜¯ï¼šå…ˆäº‹ä»¶æ•è·é˜¶æ®µï¼Œç„¶åäº‹ä»¶çš„ç›®æ ‡é˜¶æ®µï¼Œæœ€åæ˜¯äº‹ä»¶å†’æ³¡é˜¶æ®µ</p>
<p>æ‰€ä»¥è¯´ï¼Œåœ¨ä¸€ä¸ªç¨‹åºä¸­æœ‰äº‹ä»¶çš„æ•è·é˜¶æ®µï¼Œåˆæœ‰äº‹ä»¶çš„å†’æ³¡é˜¶æ®µï¼Œä¼šä¼˜å…ˆæ‰§è¡Œæ•è·é˜¶æ®µçš„äº‹ä»¶ã€‚</p>
<p>æ‰€ä»¥ä¸Šé¢ä»£ç æ•´ä¸ªæ‰§è¡Œçš„æµç¨‹ï¼š</p>
<p>å…ˆæ‰§è¡Œ<code>table</code>è¿™ä¸ªæ•è·é˜¶æ®µï¼Œè¾“å‡º<code>table</code>è¿™ä¸ªå­—ç¬¦ä¸²</p>
<p>ä¸‹é¢æ‰§è¡Œ<code>tbody</code>ï¼Œä½†æ˜¯<code>tbody</code>ç»‘å®šçš„æ˜¯å†’æ³¡ç±»çš„äº‹ä»¶ï¼Œæ‰€ä»¥ä¸æ‰§è¡Œï¼Œè·³è¿‡ã€‚</p>
<p>ä¸‹é¢æ˜¯<code>tr</code>,è€Œ<code>tr</code>æ˜¯æ•è·ç±»å‹çš„äº‹ä»¶ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œï¼Œè¾“å‡ºå­—ç¬¦ä¸²<code>tr</code></p>
<p>ä¸‹é¢æ˜¯<code>td</code>,ç”±äºæˆ‘ä»¬å•å‡»çš„æ˜¯<code>td</code>å…ƒç´ ï¼Œæ‰€ä»¥è¯¥å…ƒç´ å°±æ˜¯äº‹ä»¶ç›®æ ‡å…ƒç´ ï¼Œåˆ™ä¼šæ‰§è¡Œï¼Œè¾“å‡º<code>td</code>å­—ç¬¦ä¸²ã€‚</p>
<p>å½“å•å‡»äº†<code>td</code>å…ƒç´ ä»¥åï¼Œå°±å¼€å§‹è¿›å…¥äº†äº‹ä»¶å†’æ³¡é˜¶æ®µã€‚è¿™æ—¶ä¼šå†’æ³¡åˆ°<code>tr</code>å…ƒç´ ï¼Œä½†æ˜¯<code>tr</code>å…ƒç´ ç»‘å®šçš„æ˜¯æ•è·é˜¶æ®µçš„äº‹ä»¶ï¼Œæ‰€ä»¥ä¸æ‰§è¡Œï¼Œç›´æ¥è·³è¿‡ï¼Œä¸‹é¢ç»§ç»­å†’æ³¡åˆ°äº†<code>tbody</code>å…ƒç´ ï¼Œè¯¥å…ƒç´ ç»‘å®šçš„æ˜¯å†’æ³¡ç±»å‹çš„äº‹ä»¶ï¼Œæ‰€ä»¥æ‰§è¡Œï¼Œè¾“å‡ºå­—ç¬¦ä¸²<code>tbody</code>.</p>
<p>ä¸‹é¢ç»§ç»­å†’æ³¡ï¼Œæ‰§è¡Œåˆ°<code>table</code>å…ƒç´ ï¼Œè¯¥åŸç”Ÿæ˜¯æ•è·ç±»å‹çš„äº‹ä»¶ï¼Œæ‰€ä»¥ç›´æ¥è·³è¿‡ï¼Œæ²¡æœ‰è¾“å‡ºã€‚</p>
<h2 id="Eventå¯¹è±¡ä½¿ç”¨"><a href="#Eventå¯¹è±¡ä½¿ç”¨" class="headerlink" title="Eventå¯¹è±¡ä½¿ç”¨"></a>Eventå¯¹è±¡ä½¿ç”¨</h2><p>åœ¨<code>JavaScrip</code>ä¸­ï¼Œæ¯è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ª<code>Event</code>å¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­åŒ…å«äº†æ‰€æœ‰ä¸äº‹ä»¶ç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬äº‹ä»¶çš„å…ƒç´ ï¼Œäº‹ä»¶ç±»å‹ç­‰ã€‚</p>
<p>å½“ç»™æŸä¸ªå…ƒç´ ç»‘å®šäº†äº‹ä»¶å¤„ç†ç¨‹åºåï¼Œå°±å¯ä»¥è·å–åˆ°<code>Event</code>å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸‹ï¼Œ<code>Event</code>å¯¹è±¡çš„å®ç°è¿˜æ˜¯æœ‰ä¸€å®šçš„å·®å¼‚çš„ã€‚</p>
<p>å…³äºè·å–<code>Event</code>å¯¹è±¡çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<p>ç¬¬ä¸€ç§ï¼šåœ¨äº‹ä»¶çš„å¤„ç†ç¨‹åºä¸­ï¼Œå¯ä»¥é€šè¿‡å‚æ•°æ¥è·å–<code>Event</code>å¯¹è±¡ã€‚</p>
<p>ç¬¬äºŒç§ï¼šåœ¨äº‹ä»¶çš„å¤„ç†ç¨‹åºä¸­ï¼Œå¯ä»¥é€šè¿‡<code>window.event</code>å±æ€§è·å–<code>Event</code>å¯¹è±¡ã€‚</p>
<p>å…·ä½“çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>å•å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//é€šè¿‡å‚æ•°è·å–Eventå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(<span class="string">"event="</span>, event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//é€šè¿‡window.eventçš„æ–¹å¼æ¥è·å–Eventå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">var</span> windEvent = <span class="built_in">window</span>.event;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(<span class="string">"windEvent="</span>, windEvent);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//åˆ¤æ–­ä¸¤ç§æ–¹å¼æ˜¯å¦ç›¸ç­‰</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(event === windEvent);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     });</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"> &lt;/body&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è°·æ­Œæµè§ˆå™¨ä¸­ï¼Œæµ‹è¯•ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ä¸¤ç§è·å–<code>Event</code>å¯¹è±¡çš„æ–¹å¼æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>ä½†æ˜¯æ³¨æ„ï¼Œåœ¨å…¶å®ƒçš„æµè§ˆä¸­è¿›è¡Œæµ‹è¯•å¯èƒ½ä¼šå‡ºç°ä¸ç›¸ç­‰çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯æœ‰çš„æµè§ˆå™¨ä¼šå‡ºç°ä¸æ”¯æŒ<code>window.event</code>è¿™ç§æ–¹å¼æ¥è·å–<code>Event</code>å¯¹è±¡ï¼Œè¿™é‡Œå¯ä»¥è‡ªè¡Œè¿›è¡Œæµ‹è¯•ã€‚</p>
<p>ä¸ºäº†èƒ½å¤Ÿåœ¨è·å–äº‹ä»¶å¯¹è±¡çš„æ—¶å€™ï¼Œæ”¯æŒä¸åŒçš„æµè§ˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥åšå…¼å®¹æ€§çš„å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>å•å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">var</span> eventFn = {</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="attr">event</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">         <span class="keyword">return</span> e || <span class="built_in">window</span>.event;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       },</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     };</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">     <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//é€šè¿‡å‚æ•°è·å–Eventå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(<span class="string">"event="</span>, eventFn.event(event));</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//é€šè¿‡window.eventçš„æ–¹å¼æ¥è·å–Eventå¯¹è±¡</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="keyword">var</span> windEvent = eventFn.event(<span class="built_in">window</span>.event);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(<span class="string">"windEvent="</span>, windEvent);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="comment">//åˆ¤æ–­ä¸¤ç§æ–¹å¼æ˜¯å¦ç›¸ç­‰</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">       <span class="built_in">console</span>.log(event === windEvent);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     });</span></span></span><br><span class="line"><span class="javascript"><span class="xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­å®šä¹‰äº†<code>eventFn</code>å¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªå±æ€§<code>event</code>,åœ¨è¯¥å±æ€§ä¸­ï¼Œåˆ¤æ–­è¿”å›<code>Eevent</code>å¯¹è±¡çš„æ–¹å¼ã€‚</p>
<p>åœ¨å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œå¯ä»¥è°ƒç”¨<code>eventFn</code>å¯¹è±¡ä¸­çš„<code>event</code>æ–¹æ³•æ¥è·å–<code>Event</code>å¯¹è±¡ã€‚</p>
<p><strong>è·å–äº‹ä»¶çš„ç›®æ ‡å…ƒç´ </strong></p>
<p>åœ¨äº‹ä»¶çš„å¤„ç†ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è·å– äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ã€‚</p>
<p>åœ¨<code>IE</code>æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>event</code>å¯¹è±¡ä¸­çš„<code>srcElement</code>å±æ€§æ¥è·å–äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œåœ¨é<code>IE</code>æµè§ˆå™¨ä¸­å¯ä»¥é€šè¿‡<code>event</code>å¯¹è±¡çš„<code>target</code>å±æ€§æ¥è·å–äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œå½“ç„¶åœ¨æœ‰çš„é<code>IE</code>æµè§ˆå™¨ä¸‹ä¹Ÿæ”¯æŒ<code>event</code>å¯¹è±¡ä¸­çš„<code>srcElement</code>å±æ€§ï¼Œç›®çš„æ˜¯ä¸ºäº†ä¿æŒä¸<code>ie</code>ä¿æŒä¸€è‡´ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„é<code>IE</code>æµè§ˆå™¨éƒ½æ”¯æŒ<code>srcElement</code>å±æ€§ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">var</span> eventFn = {</span><br><span class="line">        <span class="attr">event</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">          <span class="keyword">return</span> e || <span class="built_in">window</span>.event;</span><br><span class="line">        },</span><br><span class="line">      };</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> event = eventFn.event(event);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"target="</span>, event.target);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"srcElement="</span>, event.srcElement);</span><br><span class="line">      });</span><br><span class="line"> &lt;/script&gt;   </span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è°·æ­Œæµè§ˆå™¨ä¸­è¿›è¡Œæµ‹è¯•ï¼Œéƒ½å¯ä»¥è·å–<code>target</code>å±æ€§å’Œ<code>srcElement</code>å±æ€§çš„å€¼ã€‚</p>
<p>å…³äºå…¶å®ƒæµè§ˆå™¨çš„æƒ…å†µï¼Œå¯ä»¥è‡ªè¡Œæµ‹è¯•ã€‚</p>
<p>å½“ç„¶ä¸ºäº†èƒ½å¤Ÿå…¼å®¹å…¶å®ƒçš„æµè§ˆå™¨ï¼Œå¯ä»¥åšä¸€ä¸‹å…¼å®¹çš„å¤„ç†ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eventFn = {</span><br><span class="line">     <span class="attr">event</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> e || <span class="built_in">window</span>.event;</span><br><span class="line">     },</span><br><span class="line">     <span class="attr">target</span>: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">       <span class="keyword">return</span> e.target || e.srcElement;</span><br><span class="line">     },</span><br><span class="line">   };</span><br><span class="line"></span><br><span class="line">   <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">   btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span><br><span class="line">     <span class="keyword">var</span> event = eventFn.event(event);</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"target="</span>, eventFn.target(event));</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"srcElement="</span>, eventFn.target(event));</span><br><span class="line">   });</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™é‡Œåœ¨<code>eventFn</code>å¯¹è±¡ä¸­å°è£…äº†ä¸€ä¸ª<code>target</code>å±æ€§ã€‚</p>
<p><strong>é˜»æ­¢é»˜è®¤è¡Œä¸º</strong></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.baidu.com"</span> <span class="attr">id</span>=<span class="string">"a1"</span>&gt;</span>é“¾æ¥<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> a1 = <span class="built_in">document</span>.getElementById(<span class="string">"a1"</span>);</span></span><br><span class="line"><span class="javascript">      a1.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>{</span></span><br><span class="line"><span class="javascript">        event.preventDefault(); <span class="comment">//é˜»æ­¢é»˜è®¤è¡Œä¸º</span></span></span><br><span class="line"><span class="javascript">        alert(<span class="string">"ä½ ç‚¹å‡»äº†é“¾æ¥"</span>);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br></pre></td></tr></tbody></table></figure>

<p>å…³äº<code>Event</code>å¯¹è±¡ä¸­çš„å…¶ä»–å†…å®¹ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£ã€‚</p>
<h2 id="ä»‹ç»ä¸€ä¸‹ä¸‰ç§äº‹ä»¶æ¨¡å‹"><a href="#ä»‹ç»ä¸€ä¸‹ä¸‰ç§äº‹ä»¶æ¨¡å‹" class="headerlink" title="ä»‹ç»ä¸€ä¸‹ä¸‰ç§äº‹ä»¶æ¨¡å‹"></a>ä»‹ç»ä¸€ä¸‹ä¸‰ç§äº‹ä»¶æ¨¡å‹</h2><p>å…³äº<code>JavaScript</code>çš„äº‹ä»¶æ¨¡å‹æœ‰ä¸‰ç±»ï¼Œåˆ†åˆ«æ˜¯<code>DOM0</code>ï¼Œ<code>DOM2</code>,<code>DOM3</code></p>
<p><strong>DOM0äº‹ä»¶æ¨¡å‹</strong></p>
<p><code>DOM0</code>çš„äº‹ä»¶æ¨¡å‹æŒ‡çš„æ˜¯ï¼šå°†ä¸€ä¸ªå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªäº‹ä»¶å¤„ç†å±æ€§ã€‚</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span><br><span class="line">btn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{}</span><br></pre></td></tr></tbody></table></figure>

<p>æˆ–è€…ä¹Ÿå¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„æ–¹å¼ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"fn()"</span>&gt;</span></span><br><span class="line">    å•å‡»</span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span></span><br><span class="line"><span class="javascript">    }</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<code>DOM0</code>äº‹ä»¶æ¨¡å‹çš„å¤„ç†ç¨‹åºåªæ”¯æŒå†’æ³¡é˜¶æ®µã€‚</p>
<p><code>DOM0</code>äº‹ä»¶æ¨¡å‹çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š</p>
<p>ä¼˜ç‚¹ï¼šå®ç°èµ·æ¥éå¸¸ç®€å•ï¼Œå¹¶ä¸”å¯ä»¥è·¨æµè§ˆå™¨ã€‚</p>
<p>ç¼ºç‚¹ï¼šä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºåªèƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"btnClick()"</span>&gt;</span>å•å‡»æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      btn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      };</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="function"><span class="keyword">function</span> <span class="title">btnClick</span>(<span class="params"></span>) </span>{</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(<span class="string">"123"</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      }</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  &lt;/body&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç»™æŒ‰é’®ä½¿ç”¨ä¸¤ç§æ–¹æ³•ç»‘å®šäº†äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä½†æ˜¯<code>DOM0</code>è¿™ç§äº‹ä»¶æ¨¡å‹åªèƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”åœ¨<code>JavaScript</code>ä¸­ç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„ä¼˜å…ˆçº§é«˜äºåœ¨<code>HTML</code>å…ƒç´ ä¸­å®šä¹‰çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ‰€ä»¥æ‰“å°ç»“æœä¸º<code>hello</code>.</p>
<p>å¦‚æœåˆ é™¤å…ƒç´ ç»‘å®šçš„äº‹ä»¶ï¼Œåªéœ€è¦å°†å¯¹åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºè®¾ç½®ä¸º<code>null</code>å³å¯</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btn.onclick=null</span><br></pre></td></tr></tbody></table></figure>

<p><strong>DOM2äº‹ä»¶æ¨¡å‹</strong></p>
<p>é’ˆå¯¹<code>DOM2</code>äº‹ä»¶æ¨¡å‹ä¸åŒçš„æµè§ˆå™¨å‚å•†åˆ¶å®šäº†ä¸åŒçš„çš„å®ç°æ–¹å¼ï¼Œä¸»è¦åˆ†ä¸º<code>IE</code>æµè§ˆå™¨å’Œ<code>éIEæµè§ˆå™¨</code></p>
<p>åœ¨<code>IE10</code>åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­åªæ”¯æŒäº‹ä»¶çš„å†’æ³¡ï¼Œåœ¨<code>IE11</code>ä¸­åŒæ—¶æ”¯æŒäº‹ä»¶çš„æ•è·ä¸äº‹ä»¶å†’æ³¡ã€‚åœ¨<code>IE10</code>åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥é€šè¿‡<code>attachEvent</code>å‡½æ•°æ¥æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼Œé€šè¿‡<code>detachEvent</code>å‡½æ•°åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.attachEvent(<span class="string">'on'</span>+ eventName,handler) <span class="comment">// æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">element.detachEvent(<span class="string">'on'</span>+ eventName,handler) <span class="comment">//  åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨<code>IE11</code>å’Œé<code>IE</code>æµè§ˆå™¨ä¸­ï¼ŒåŒæ—¶æ”¯æŒäº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡ä¸¤ä¸ªé˜¶æ®µï¼Œå¯ä»¥é€šè¿‡<code>addEventListener()</code>å‡½æ•°æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¯ä»¥é€šè¿‡<code>removeEventListener()</code> å‡½æ•°åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åºã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(eventName,handler,useCapture) <span class="comment">//æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">removeEventListener(eventName,handler,useCapture) <span class="comment">// åˆ é™¤äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br></pre></td></tr></tbody></table></figure>

<p>å…¶ä¸­<code>useCapture</code>å¦‚æœä¸º<code>true</code>è¡¨ç¤ºæ”¯æŒäº‹ä»¶æ•è·ï¼Œä¸º<code>false</code>bè¡¨ç¤ºæ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œé»˜è®¤æ˜¯ä¸º<code>false</code></p>
<p><img src="/2020/09/25/JavaScript-1/%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1.png"></p>
<p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“äº†<code>DOM2</code>çš„äº‹ä»¶å¤„ç†ç¨‹åºå­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œé‚£è¿™ä¸¤ç§å®ç°çš„æ–¹å¼ä¹‹é—´æœ‰æ²¡æœ‰ç›¸åŒç‚¹å’Œä¸åŒç‚¹å‘¢ï¼Ÿ</p>
<p><strong>ç›¸åŒç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šåœ¨<code>DOM2</code>çš„äº‹ä»¶å¤„ç†ä¸­ä¸ç®¡æ˜¯<code>IE</code>æµè§ˆå™¨è¿˜æ˜¯é<code>IE</code>æµè§ˆå™¨éƒ½æ”¯æŒå¯¹åŒä¸€ä¸ªäº‹ä»¶ç»‘å®šå¤šä¸ªå¤„ç†å‡½æ•°ã€‚</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>å•å‡»æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"nihao"</span>);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šç¨‹åºçš„è¾“å‡ºç»“æœä¸ºï¼š<code>hello</code>,<code>nihao</code></p>
<p>ç¬¬äºŒï¼šåœ¨éœ€è¦åˆ é™¤ç»‘å®šçš„äº‹ä»¶çš„æ—¶å€™ï¼Œï¼Œä¸èƒ½åˆ é™¤åŒ¿åå‡½æ•°ï¼Œå› ä¸ºæ·»åŠ çš„å‡½æ•°å’Œåˆ é™¤çš„å‡½æ•°å¿…é¡»æ˜¯åŒä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç ä¸­ï¼ŒåŒæ—¶ç»‘å®šå’Œåˆ é™¤äº†<code>handler</code>å‡½æ•°ï¼Œè¿™æ ·åšæ˜¯å®Œå…¨å¯ä»¥çš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn=<span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>)</span><br><span class="line"><span class="keyword">var</span> handle=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">}</span><br><span class="line">btn.addEventListener(<span class="string">'click'</span>,handle,<span class="literal">false</span>);</span><br><span class="line">btn.removeEventListener(<span class="string">'click'</span>,handle)</span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯å¦‚æœé‡‡ç”¨å¦‚ä¸‹çš„åˆ é™¤æ–¹å¼æ˜¯æ— æ³•å–æ¶ˆç»‘å®šçš„äº‹ä»¶çš„ã€‚å› ä¸ºå®ƒä»¬éƒ½æ˜¯åŒ¿åå‡½æ•°ï¼Œè€Œå¹¶ä¸æ˜¯åŒä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</span><br><span class="line">},<span class="literal">false</span>)</span><br><span class="line">btn.removeEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{})</span><br></pre></td></tr></tbody></table></figure>

<p> <strong>ä¸åŒç‚¹</strong></p>
<p>ç¬¬ä¸€ï¼šåœ¨<code>IE</code>æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨<code>attachEvent</code>å‡½æ•°ä¸ºåŒä¸€ä¸ªäº‹ä»¶æ·»åŠ å¤šä¸ªå¤„ç†ç¨‹åºæ—¶ï¼Œä¼šæŒ‰ç…§æ·»åŠ çš„ç›¸åé¡ºåºæ‰§è¡Œã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span><br><span class="line">      btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">      });</span><br><span class="line">      btn.attachEvent(<span class="string">"onclick"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"nihao"</span>);</span><br><span class="line">      });</span><br><span class="line"> &lt;/script&gt;   </span><br></pre></td></tr></tbody></table></figure>

<p>å½“å•å‡»æŒ‰é’®çš„æ—¶å€™ï¼Œå…ˆè¾“å‡º<code>nihao</code>,å†è¾“å‡º<code>hello</code>.</p>
<p>ç¬¬äºŒï¼šåœ¨<code>IE</code>æµè§ˆä¸­ï¼Œ<code>attachEvent</code>å‡½æ•°æ·»åŠ çš„äº‹ä»¶å¤„ç†ç¨‹åºä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­è¿è¡Œï¼Œå› æ­¤<code>this</code>æŒ‡å‘çš„æ˜¯<code>window</code>.</p>
<p>åœ¨é<code>IE</code>æµè§ˆå™¨ä¸­ï¼Œ<code>addEventListener()</code>å‡½æ•°æ·»åŠ çš„å¤„ç†ç¨‹åºåœ¨æŒ‡å®šçš„å…ƒç´ å†…éƒ¨æ‰§è¡Œï¼Œ<code>this</code>æŒ‡å‘æ‰€ç»‘å®šçš„å…ƒç´ ã€‚</p>
<p>æ—¢ç„¶<code>DOM2</code>äº‹ä»¶çš„å¤„ç†æœ‰æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ï¼Œé‚£åº”è¯¥æ€æ ·è¿›è¡Œå¤„ç†å‘¢ï¼Ÿ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventHandler = {</span><br><span class="line">       <span class="attr">addEventHandler</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ele, type, handler</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (ele.addEventListener) {</span><br><span class="line">           ele.addEventListener(type, handler);</span><br><span class="line">         } <span class="keyword">else</span> <span class="keyword">if</span> (ele.attachEvent) {</span><br><span class="line">           ele.attachEvent(<span class="string">"on"</span> + type, handler);</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           ele[<span class="string">"on"</span> + type] = handler;</span><br><span class="line">         }</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">removeEventHandler</span>: <span class="function"><span class="keyword">function</span> (<span class="params">ele, type, handler</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (ele.addEventListener) {</span><br><span class="line">           ele.removeEventHandler(type, handler);</span><br><span class="line">         } <span class="keyword">else</span> <span class="keyword">if</span> (ele.detachEvent) {</span><br><span class="line">           ele.detachEvent(<span class="string">"on"</span> + type, handler);</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">           ele[<span class="string">"on"</span> + type] = <span class="literal">null</span>;</span><br><span class="line">         }</span><br><span class="line">       },</span><br><span class="line">     };</span><br></pre></td></tr></tbody></table></figure>



<p><strong>DOM3äº‹ä»¶æ¨¡å‹</strong></p>
<p><code>DOM3</code>äº‹ä»¶æ¨¡å‹ä¸­å…è®¸è‡ªå®šä¹‰äº‹ä»¶ï¼Œè‡ªå®šä¹‰äº‹ä»¶æœ‰<code>createEvent("CustomEvent")</code>å‡½æ•°æ¥å®Œæˆã€‚è¿”å›çš„å¯¹è±¡æœ‰ä¸€ä¸ª<code>initCustomEvent</code>ï¼ˆï¼‰æ–¹æ³•æ¥æ”¶å¦‚ä¸‹å››ä¸ªå‚æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ï¼‰typeï¼šå­—ç¬¦ä¸²ï¼Œè§¦å‘çš„äº‹ä»¶ç±»å‹ï¼Œè‡ªå®šä¹‰ã€‚ä¾‹å¦‚ â€œkeyDownâ€ï¼Œâ€œselectedChangeâ€;</span><br><span class="line">ã€€ã€€2ï¼‰bubbleï¼ˆå¸ƒå°”å€¼ï¼‰ï¼šæ ‡ç¤ºäº‹ä»¶æ˜¯å¦åº”è¯¥å†’æ³¡ï¼›</span><br><span class="line">ã€€ã€€3ï¼‰cancelable(å¸ƒå°”å€¼)ï¼šæ ‡ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆï¼›</span><br><span class="line">ã€€ã€€4ï¼‰detailï¼ˆå¯¹è±¡ï¼‰ï¼šä»»æ„å€¼ï¼Œä¿å­˜åœ¨eventå¯¹è±¡çš„detailå±æ€§ä¸­ï¼›</span><br></pre></td></tr></tbody></table></figure>

<p>å…·ä½“çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span>ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>å•å‡»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> customeEvent;</span></span><br><span class="line"><span class="javascript">     <span class="comment">//åœ¨ç«‹å³æ‰§è¡Œå‡½æ•°ä¸­åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="comment">//åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒDOM3äº‹ä»¶å¤„ç†ç¨‹åºï¼Œå¦‚æœæ¡ä»¶æˆç«‹è¡¨ç¤ºæ”¯æŒ,å›ºå®šå†™æ³•</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">if</span> (<span class="built_in">document</span>.implementation.hasFeature(<span class="string">"CustomEvents"</span>, <span class="string">"3.0"</span>)) {</span></span><br><span class="line"><span class="javascript">         <span class="keyword">var</span> user = { <span class="attr">userName</span>: <span class="string">"zhangsan"</span> };</span></span><br><span class="line"><span class="javascript">         customeEvent = <span class="built_in">document</span>.createEvent(<span class="string">"CustomEvent"</span>); <span class="comment">//åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">         customeEvent.initCustomEvent(<span class="string">"myEvent"</span>, <span class="literal">true</span>, <span class="literal">false</span>, user);</span></span><br><span class="line"><span class="javascript">       }</span></span><br><span class="line"><span class="javascript">     })();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">     <span class="comment">//ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     <span class="comment">//é€šè¿‡addEventListener()å‡½æ•°ç›‘å¬è‡ªå®šä¹‰çš„äº‹ä»¶`myEvent`</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">     div1.addEventListener(<span class="string">"myEvent"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span></span><br><span class="line"><span class="javascript">       <span class="built_in">console</span>.log(<span class="string">"ç”¨æˆ·åæ˜¯:"</span>, e.detail.userName);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">     <span class="comment">//è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">     <span class="keyword">var</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">       div1.dispatchEvent(customeEvent);</span></span><br><span class="line"><span class="javascript">     });</span></span><br><span class="line"><span class="javascript">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯<code>DOM3</code>äº‹ä»¶æ¨¡å‹çš„æ¡ˆä¾‹ã€‚</p>
<h2 id="ä»‹ç»ä¸€ä¸‹äº‹ä»¶å§”æ‰˜"><a href="#ä»‹ç»ä¸€ä¸‹äº‹ä»¶å§”æ‰˜" class="headerlink" title="ä»‹ç»ä¸€ä¸‹äº‹ä»¶å§”æ‰˜"></a>ä»‹ç»ä¸€ä¸‹äº‹ä»¶å§”æ‰˜</h2><p>äº‹ä»¶å†’æ³¡çš„ä¸€ä¸ªåº”ç”¨å°±æ˜¯äº‹ä»¶ä»£ç†ï¼Œä¹Ÿå«åšäº‹ä»¶å§”æ‰˜</p>
<p>äº‹ä»¶å§”æ‰˜ï¼šåˆ©ç”¨äº‹ä»¶å†’æ³¡çš„ç‰¹æ€§ï¼Œå°†æœ¬åº”è¯¥æ³¨å†Œåœ¨å­å…ƒç´ ä¸Šçš„å¤„ç†äº‹ä»¶æ³¨å†Œåœ¨çˆ¶å…ƒç´ ä¸Šã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>å¢åŠ æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­æœ‰å¾ˆå¤šçš„<code>a</code>æ ‡ç­¾ï¼Œå¦‚æœç»™æ¯ä¸ª<code>a</code>æ ‡ç­¾æ·»åŠ å•å‡»äº‹ä»¶æ¯”è¾ƒéº»çƒ¦ï¼ŒåŒæ—¶é‡‡ç”¨è¿™ç§æ–¹å¼æ·»åŠ äº‹ä»¶è¿˜ä¼šå¯¼è‡´å ç”¨å†…å­˜æ¯”è¾ƒå¤šï¼Œä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœ<code>a</code>æ ‡ç­¾æ¯”è¾ƒå¤šçš„è¯ï¼Œæ˜¯ä¸æ˜¯ä¼šå ç”¨æ›´å¤šçš„å†…å­˜ã€‚</p>
<p>é‚£åº”è¯¥æ€æ ·è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
<p>å¯ä»¥é€šè¿‡äº‹ä»¶å§”æ‰˜çš„æœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯å°†äº‹ä»¶ç»‘å®šåˆ°çˆ¶å…ƒç´ ä¸Šï¼Œç„¶åé€šè¿‡äº‹ä»¶å†’æ³¡çš„åŸç†ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">     div1.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> target = e.target;</span><br><span class="line">       <span class="keyword">if</span> (target.nodeName.toLowerCase() === <span class="string">"a"</span>) {</span><br><span class="line">         <span class="built_in">console</span>.log(target.innerHTML);</span><br><span class="line">       }</span><br><span class="line">     });</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡äº‹ä»¶å§”æ‰˜çš„æ–¹å¼è§£å†³äº†å¯¹åº”çš„é—®é¢˜ï¼Œå½“ç„¶ï¼Œè¿™é‡Œä½ å¯èƒ½é—®ï¼Œåœ¨<code>div</code>æ ‡ç­¾ä¸‹çš„<code>a</code>æ ‡ç­¾æ‰€åšçš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½é’ˆå¯¹ä¸åŒçš„å…ƒç´ æ‰€åšçš„æ“ä½œå¦‚æœä¸ä¸€æ ·ï¼Œäº‹ä»¶å§”æ‰˜èƒ½å¦å¤„ç†å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å¯ä»¥å¤„ç†çš„ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æŠŠä¸Šé¢çš„ç¨‹åºæ”¹é€ ä¸€ä¸‹ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"a1"</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"a2"</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">id</span>=<span class="string">"a3"</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>å¢åŠ æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span></span><br><span class="line"><span class="javascript">      div1.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> target = e.target;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">switch</span> (target.id) {</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">"a1"</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"é’ˆå¯¹a1è¿›è¡Œæ“ä½œ"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">"a2"</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"é’ˆå¯¹a2è¿›è¡Œæ“ä½œ"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">case</span> <span class="string">"a3"</span>:</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">"é’ˆå¯¹a3è¿›è¡Œæ“ä½œ"</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        }</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç»™æ¯ä¸ª<code>a</code>æ ‡ç­¾ï¼Œæ·»åŠ äº†<code>id</code>å±æ€§ï¼Œé€šè¿‡<code>switch</code>ç»“æ„è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åæ‰§è¡Œä¸åŒçš„æ“ä½œã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªå…³äºäº‹ä»¶å§”æ‰˜çš„åº”ç”¨é—®é¢˜ï¼š</p>
<p>åœ¨ä¸€ä¸ª<code>ul</code>æ ‡ç­¾ä¸­ï¼ŒåŒ…å«äº†<code>5</code>ä¸ª<code>li</code>ï¼Œéœ€è¦å•å‡»æ¯ä¸ª<code>li</code>æ ‡ç­¾ï¼Œè¾“å‡ºæ ‡ç­¾ä¸­çš„å†…å®¹ã€‚åŒæ—¶åœ¨é¡µé¢ä¸­æ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œå•å‡»æŒ‰é’®åˆ›å»ºä¸€ä¸ªæ–°çš„<code>li</code>å…ƒç´ ï¼Œå•å‡»æ–°åˆ›å»ºçš„<code>li</code>å…ƒç´ ä¹Ÿå¯ä»¥è¾“å‡ºå¯¹åº”çš„å†…å®¹ã€‚</p>
<p>æˆ‘ä»¬æƒ³åˆ°çš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>a1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>a2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>a3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>a4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>a5<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>æ·»åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//é€šè¿‡querySelectorAllæ–¹æ³•è·å–æ‰€æœ‰çš„liå…ƒç´ </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//é€šè¿‡forå¾ªç¯éå†çš„æ–¹å¼ï¼Œç»™æ¯ä¸ªliæ·»åŠ å•å‡»äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> children = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; children.length; i++) {</span></span><br><span class="line"><span class="javascript">        children[i].addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="built_in">console</span>.log(<span class="built_in">this</span>.innerHTML);</span></span><br><span class="line"><span class="javascript">        });</span></span><br><span class="line"><span class="javascript">      }</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è·å–æŒ‰é’®</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"#btn"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è·å–ulæ ‡ç­¾</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">"ul"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//ç»™æŒ‰é’®æ·»åŠ å•å‡»äº‹ä»¶</span></span></span><br><span class="line"><span class="javascript">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="comment">//åˆ›å»ºli</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span></span><br><span class="line"><span class="javascript">          <span class="comment">//åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> newText = <span class="built_in">document</span>.createTextNode(<span class="string">"a6"</span>);</span></span><br><span class="line"><span class="javascript">          <span class="comment">//å°†æ–‡æœ¬æ·»åŠ åˆ°æ–°åˆ›å»ºçš„liæ ‡ç­¾ä¸Š</span></span></span><br><span class="line"><span class="javascript">        newLi.appendChild(newText);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//æŠŠåˆ›å»ºçš„liæ·»åŠ åˆ°ulä¸Š</span></span></span><br><span class="line"><span class="javascript">        ul.appendChild(newLi);</span></span><br><span class="line"><span class="javascript">      });</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼šæ‰“å‡»<code>a1--a5</code>éƒ½å¯ä»¥è·å–å†…å®¹ï¼Œå•å‡»æŒ‰é’®ä¹Ÿå¯ä»¥æ·»åŠ ä¸€ä¸ªæ–°çš„<code>li</code>å…ƒç´ ï¼Œä½†æ˜¯é—®é¢˜æ˜¯å•å‡»æ–°åˆ›å»ºçš„<code>li</code>å…ƒç´ ï¼Œå¹¶æ²¡æœ‰è¾“å‡ºå…ƒç´ ä¸­çš„å†…å®¹ã€‚</p>
<p>åŸå› æ˜¯ï¼šæˆ‘ä»¬é€šè¿‡<code>querySelectorAll</code>æ–¹æ³•è·å–æ‰€æœ‰<code>li</code>å…ƒç´ ï¼Œä½†æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•ä¸èƒ½å®æ—¶å¯¹å¢åŠ çš„äº‹ä»¶è¿›è¡Œç»‘å®šã€‚ä¹Ÿå°±æ˜¯è¯´æ— æ³•å®Œæˆå¯¹æ–°å…ƒç´ äº‹ä»¶çš„ç»‘å®šã€‚</p>
<p>è§£å†³åŠæ³•ï¼šå…ˆåˆ›å»ºæ–°å…ƒç´ ï¼Œç„¶ååœ¨è¿›è¡Œäº‹ä»¶çš„ç»‘å®šã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">bindEvent</span>(<span class="params"></span>) </span>{</span><br><span class="line">       <span class="keyword">var</span> children = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; children.length; i++) {</span><br><span class="line">         children[i].addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">           <span class="built_in">console</span>.log(<span class="built_in">this</span>.innerHTML);</span><br><span class="line">         });</span><br><span class="line">       }</span><br><span class="line">     }</span><br><span class="line">     <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"#btn"</span>);</span><br><span class="line">     <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">"ul"</span>);</span><br><span class="line">     btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">       <span class="comment">//åˆ›å»ºli</span></span><br><span class="line">       <span class="keyword">var</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">       <span class="keyword">var</span> newText = <span class="built_in">document</span>.createTextNode(<span class="string">"a6"</span>);</span><br><span class="line">       newLi.appendChild(newText);</span><br><span class="line">       <span class="comment">//æŠŠåˆ›å»ºçš„liæ·»åŠ åˆ°ulä¸Š</span></span><br><span class="line">       ul.appendChild(newLi);</span><br><span class="line">       <span class="comment">//é‡æ–°æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">       bindEvent();</span><br><span class="line">     });</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>bindEvent</code>å‡½æ•°ï¼ŒæŠŠå¯¹<code>li</code>å…ƒç´ æ·»åŠ äº‹ä»¶çš„æ“ä½œå°è£…åˆ°äº†è¯¥æ–¹æ³•ä¸­ã€‚</p>
<p>ç„¶ååœ¨æŒ‰é’®å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œå…ˆå®Œæˆæ–°å…ƒç´ çš„åˆ›å»ºï¼Œç„¶ååœ¨è°ƒç”¨<code>bindEvent</code>æ–¹æ³•ï¼Œå®Œæˆå¯¹<code>li</code>å…ƒç´ äº‹ä»¶çš„ç»‘å®šæ“ä½œã€‚</p>
<p>è™½ç„¶ä»¥ä¸Šå®Œæˆäº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼Œå°±æ˜¯æˆ‘ä»¬å‰é¢æ‰€è®²çš„ï¼šç”±äºç»™æ¯ä¸ª<code>li</code>å…ƒç´ éƒ½æ·»åŠ äº†å•å‡»äº‹ä»¶ï¼Œå¯¼è‡´å ç”¨å†…å­˜æ¯”è¾ƒå¤šï¼Œæ€§èƒ½æ¯”è¾ƒä½ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨äº‹ä»¶å§”æ‰˜çš„æ–¹å¼æ¥æ”¹é€ ä¸Šé¢çš„ç¨‹åºã€‚</p>
<p>æ”¹é€ åçš„ç¨‹åºå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">"ul"</span>);</span><br><span class="line">      <span class="comment">//   var parent = document.querySelector("ul");</span></span><br><span class="line">      ul.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> target = e.target;</span><br><span class="line">        <span class="keyword">if</span> (target.nodeName.toLowerCase() === <span class="string">"li"</span>) {</span><br><span class="line">          <span class="built_in">console</span>.log(target.innerHTML);</span><br><span class="line">        }</span><br><span class="line">      });</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"#btn"</span>);</span><br><span class="line"></span><br><span class="line">      btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">//åˆ›å»ºli</span></span><br><span class="line">        <span class="keyword">var</span> newLi = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">        <span class="keyword">var</span> newText = <span class="built_in">document</span>.createTextNode(<span class="string">"a6"</span>);</span><br><span class="line">        newLi.appendChild(newText);</span><br><span class="line">        <span class="comment">//æŠŠåˆ›å»ºçš„liæ·»åŠ åˆ°ulä¸Š</span></span><br><span class="line">        ul.appendChild(newLi);</span><br><span class="line">        <span class="comment">//é‡æ–°æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åº</span></span><br><span class="line">        <span class="comment">// bindEvent();</span></span><br><span class="line">      });</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡<code>querySelector</code>æ–¹æ³•è·å–<code>ul</code>è¿™ä¸ªçˆ¶å…ƒç´ ï¼Œç„¶åç»™è¯¥å…ƒç´ æ·»åŠ å•å‡»äº‹ä»¶ï¼Œåœ¨å¯¹åº”çš„äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œåˆ¤æ–­è·å–åˆ°çš„å…ƒç´ æ˜¯å¦ä¸º<code>li</code>ï¼Œå¦‚æœæ˜¯æ‰“å°<code>li</code>å…ƒç´ ä¸­çš„å†…å®¹ã€‚</p>
<p>ç”±äºè¿™é‡Œæˆ‘ä»¬æ²¡æœ‰åœ¨ä½¿ç”¨<code>querySelectorAll</code>å‡½æ•°ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦åœ¨å°è£…åˆ°ä¸€ä¸ªå‡½æ•°ä¸­äº†ã€‚</p>
<p>å…³äºæŒ‰é’®çš„å•å‡»äº‹ä»¶çš„å¤„ç†ï¼Œæ²¡æœ‰ä»»ä½•çš„å˜åŒ–ã€‚</p>
<p>ä»¥ä¸Šæˆ‘ä»¬å°±æ˜¯é€šè¿‡äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼Œç»™çˆ¶å…ƒç´ æ·»åŠ äº†äº‹ä»¶ï¼Œå¯¹åº”çš„å­å…ƒç´ éƒ½å…·æœ‰äº†ç›¸åº”çš„äº‹ä»¶ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼æ€§èƒ½æ›´é«˜ã€‚</p>
<p>å…³äºäº‹ä»¶å§”æ‰˜ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°±ä»‹ç»å®Œäº†ï¼Œé€šè¿‡å‰é¢çš„è®²è§£ï¼Œå¸Œæœ›å¯¹äº‹ä»¶å§”æ‰˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæ·±åˆ»çš„ç†è§£ã€‚</p>
<p>åœ¨<code>JavaScript</code>ä¸­è¿˜æœ‰ä¸€äº›å…¶å®ƒçš„æ¯”è¾ƒå¸¸ç”¨çš„äº‹ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç„¦ç‚¹ç›¸å…³çš„äº‹ä»¶:focus,blurç­‰äº‹ä»¶</span><br><span class="line">é¼ æ ‡ç›¸å…³çš„äº‹ä»¶:mouseover,mouseoutç­‰äº‹ä»¶</span><br><span class="line">é”®ç›˜ç›¸å…³çš„äº‹ä»¶ï¼škeydown,keyup,keypressç­‰</span><br><span class="line">å…¶å®ƒäº‹ä»¶...</span><br></pre></td></tr></tbody></table></figure>

<p>å…³äºè¿™äº›äº‹ä»¶ï¼Œå¤§å®¶å¯ä»¥æŸ¥çœ‹ç›¸åº”çš„æ–‡æ¡£ï¼Œäº†è§£å¯¹åº”çš„åŸºæœ¬ä½¿ç”¨ã€‚</p>
<h2 id="13ã€ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜"><a href="#13ã€ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜" class="headerlink" title="13ã€ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜"></a>13ã€ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜</h2><p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿæåˆ°è¿‡å¯¹<code>DOM</code>çš„æ“ä½œæ˜¯æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä¼šå¸¦æ¥æµè§ˆå™¨çš„é‡ç»˜ä¸é‡æ’ã€‚</p>
<p>åœ¨è®²è§£ä»€ä¹ˆæ˜¯é‡æ’ä¸é‡ç»˜ä¹‹å‰,å…ˆæ¥è¯´ä¸€ä¸‹æµè§ˆå™¨æ¸²æŸ“<code>HTML</code>çš„è¿‡ç¨‹ã€‚</p>
<p>æµè§ˆå™¨æ¸²æŸ“<code>HTML</code>çš„è¿‡ç¨‹å¤§ä½“ä¸Šå¯ä»¥åˆ†ä¸º4æ­¥</p>
<p>ç¬¬ä¸€ï¼š<code>HTML</code>ä»£ç è¢«<code>HTML</code>è§£æå™¨è§£ææˆå¯¹åº”çš„<code>DOM</code>æ ‘ï¼Œ<code>CSS</code>ä»£ç è¢«<code>CSS</code>è§£æå™¨è§£ææˆå¯¹åº”çš„æ ·å¼è§„åˆ™é›†ã€‚</p>
<p>ç¬¬äºŒï¼š<code>DOM</code>æ ‘ä¸<code>CSS</code>è§£æå®Œæˆåï¼Œé™„åŠ åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ¸²æŸ“æ ‘</p>
<p>ç¬¬ä¸‰ï¼šèŠ‚ç‚¹ä¿¡æ¯çš„è®¡ç®—ï¼Œå³æ ¹æ®æ¸²æŸ“æ ‘è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„å‡ ä½•ä¿¡æ¯ï¼ˆå®½ï¼Œé«˜ç­‰ä¿¡æ¯ï¼‰</p>
<p>ç¬¬å››ï¼šæ¸²æŸ“ç»˜åˆ¶ï¼Œæ ¹æ®è®¡ç®—å®Œæˆçš„èŠ‚ç‚¹ä¿¡æ¯ç»˜åˆ¶æ•´ä¸ªé¡µé¢ã€‚</p>
<p>è€Œæˆ‘ä»¬æ‰€è¦è®²è§£çš„é‡æ’ä¸é‡ç»˜å°±å‘ç”Ÿåœ¨ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥ä¸­ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯é‡æ’</strong></p>
<p>å½“å¯¹ä¸€ä¸ª<code>DOM</code>èŠ‚ç‚¹ä¿¡æ¯è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œéœ€è¦å¯¹è¯¥<code>DOM</code>ç»“æ„è¿›è¡Œé‡æ–°çš„è®¡ç®—ã€‚å¹¶ä¸”è¯¥<code>DOM</code>ç»“æ„çš„ä¿®æ”¹ä¼šå†³å®šå‘¨è¾¹<code>DOM</code>ç»“æ„çš„æ›´æ”¹èŒƒå›´ï¼Œä¸»è¦åˆ†ä¸ºå…¨å±€èŒƒå›´å’Œå±€éƒ¨èŒƒå›´ã€‚</p>
<p>å…¨å±€èŒƒå›´å°±æ˜¯ä»é¡µé¢çš„æ ¹èŠ‚ç‚¹<code>html</code>æ ‡ç­¾å¼€å§‹ï¼Œå¯¹æ•´ä¸ªæ¸²æŸ“æ ‘è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬ä¿®æ”¹çª—å£çš„å°ºå¯¸æˆ–è€…ä¿®æ”¹äº†æ ¹å…ƒç´ çš„å­—ä½“å¤§å°çš„æ—¶ï¼Œéƒ½ä¼šå¯¼è‡´å¯¹æ•´ä¸ªæ¸²æŸ“æ ‘è¿›è¡Œé‡æ–°è®¡ç®—ã€‚</p>
<p>å±€éƒ¨èŒƒå›´åªä¼šå¯¹æ¸²æŸ“æ ‘çš„æŸéƒ¨åˆ†è¿›è¡Œé‡æ–°è®¡ç®—ã€‚ä¾‹å¦‚è¦æ”¹å˜é¡µé¢ä¸­æŸä¸ª<code>div</code>çš„å®½åº¦ï¼Œåªéœ€è¦é‡æ–°è®¡ç®—æ¸²æŸ“æ ‘ä¸­ä¸è¯¥<code>div</code>ç›¸å…³çš„å†…å®¹å°±å¯ä»¥äº†ã€‚</p>
<p>è€Œé‡æ’çš„è¿‡ç¨‹å‘ç”Ÿåœ¨<code>DOM</code>èŠ‚ç‚¹ä¿¡æ¯ä¿®æ”¹çš„æ—¶å€™ï¼Œé‡æ’å®é™…æ˜¯æ ¹æ®æ¸²æŸ“æ ‘ä¸­æ¯ä¸ªæ¸²æŸ“å¯¹è±¡çš„ä¿¡æ¯ï¼Œè®¡ç®—å‡ºå„è‡ªæ¸²æŸ“å¯¹è±¡çš„å‡ ä½•ä¿¡æ¯ï¼Œä¾‹å¦‚<code>DOM</code>å…ƒç´ çš„ä½ç½®ï¼Œå°ºå¯¸ï¼Œå¤§å°ç­‰ã€‚ç„¶åå°†å…¶æ”¾åœ¨é¡µé¢ä¸­çš„æ­£ç¡®çš„ä½ç½®ä¸Šã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æ˜ç™½äº†é‡æ’å…¶å®å°±æ˜¯ä¸€ç§æ”¹å˜é¡µé¢å¸ƒå±€çš„æ“ä½œã€‚é‚£ä¹ˆå¸¸è§çš„å¼•èµ·é‡æ’çš„æ“ä½œæœ‰å“ªäº›å‘¢ï¼Ÿ</p>
<p>ï¼ˆ1ï¼‰é¡µé¢é¦–æ¬¡æ¸²æŸ“</p>
<p>åœ¨é¡µé¢é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œ<code>HTML</code>é¡µé¢ä¸­çš„å„ä¸ªå…ƒç´ ä½ç½®ï¼Œå°ºå¯¸ï¼Œå¤§å°ç­‰ä¿¡æ¯éƒ½æ˜¯æœªçŸ¥çš„ï¼Œéœ€è¦é€šè¿‡ä¸<code>css</code>æ ·å¼è§„åˆ™é›†æ‰èƒ½å¤Ÿç¡®å®šå‡ºå„ä¸ªå…ƒç´ çš„å‡ ä½•ä¿¡æ¯ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå¾ˆå¤šå…ƒç´ é›†åˆä¿¡æ¯çš„è®¡ç®—ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿé‡æ’ã€‚</p>
<p>(2)æµè§ˆå™¨çª—å£å¤§å°çš„æ”¹å˜</p>
<p>é¡µé¢æ¸²æŸ“å®Œæˆåï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå›ºå®šçš„æ¸²æŸ“æ ‘ã€‚å¦‚æœæ­¤æ—¶å¯¹æµè§ˆå™¨çª—å£è¿›è¡Œç¼©æ”¾æˆ–è€…æ˜¯æ‹‰ä¼¸æ“ä½œï¼Œæ¸²æŸ“æ ‘ä¸­ä»æ ¹å…ƒç´ <code>html</code>æ ‡ç­¾å¼€å§‹çš„æ‰€æœ‰å…ƒç´ ï¼Œéƒ½ä¼šé‡æ–°è®¡ç®—å…¶å‡ ä½•ä¿¡æ¯ï¼Œä»è€Œäº§ç”Ÿé‡æ’çš„æ“ä½œã€‚</p>
<p>(3)å…ƒç´ ä½ç½®æ”¹å˜å’Œå°ºå¯¸çš„æ”¹å˜</p>
<p>(4)å…ƒç´ å†…å®¹æ”¹å˜,ä¾‹å¦‚ï¼Œæ–‡æœ¬å†…å®¹è¢«å¦å¤–ä¸€ä¸ªä¸åŒå°ºå¯¸çš„å›¾ç‰‡æ›¿æ¢ã€‚</p>
<p>(5)æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„DOMå…ƒç´ </p>
<p>(6)è·å–æŸäº›ç‰¹å®šçš„å±æ€§</p>
<p>å½“æˆ‘ä»¬å¯¹<code>javascript</code>æŸäº›æ“ä½œå±æ€§çš„ä¿®æ”¹ä¹Ÿä¼šå¯¼è‡´é‡æ’çš„æ“ä½œï¼Œè€Œé¢‘ç¹çš„é‡æ’æ“ä½œä¼šå¯¹æµè§ˆå™¨å¼•æ“äº§ç”Ÿå¾ˆå¤§çš„æ¶ˆè€—ã€‚æ‰€ä»¥æµè§ˆå™¨ä¸ä¼šå¯¹<code>js</code>çš„æ¯ä¸ªæ“ä½œéƒ½è¿›è¡Œä¸€æ¬¡é‡æ’ï¼Œè€Œæ˜¯ç»´æŠ¤ä¸€ä¸ªä¼šå¼•èµ·é‡æ’æ“ä½œçš„é˜Ÿåˆ—ï¼Œç­‰åˆ°é˜Ÿåˆ—ä¸­çš„æ“ä½œè¾¾åˆ°äº†ä¸€å®šçš„æ•°é‡æˆ–è€…æ˜¯åˆ°äº†ä¸€å®šçš„æ—¶é—´é—´éš”çš„æ—¶å€™ï¼Œæµè§ˆå™¨æ‰ä¼šå»åˆ·æ–°ä¸€æ¬¡é˜Ÿåˆ—ï¼Œè¿›è¡ŒçœŸæ­£çš„é‡æ’æ“ä½œã€‚</p>
<p>è™½ç„¶æµè§ˆå™¨æœ‰è¿™æ ·çš„ä¼˜åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬å†™çš„ä¸€äº›ä»£ç è¿˜ä¼šå¯¼è‡´æµè§ˆå™¨æå–åˆ·æ–°é˜Ÿåˆ—ï¼Œä¾‹å¦‚ä»¥ä¸‹çš„æ“ä½œã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">offsetLeft,offsetWidth,offsetHeight,offsetTop</span><br><span class="line">scrollTop,scrollLeft,scrollWidth,scrollHeight</span><br><span class="line">clientTop,clientLeft,clientWidth,clientHeight</span><br><span class="line">widht,height</span><br></pre></td></tr></tbody></table></figure>

<p>å½“æˆ‘ä»¬è¿›è¡Œä»¥ä¸Šå±æ€§æ“ä½œçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¸ºäº†è¿”å›æœ€ç²¾ç¡®çš„ä¿¡æ¯ï¼Œéœ€è¦åˆ·æ–°é˜Ÿåˆ—ï¼Œå› ä¸ºé˜Ÿåˆ—ä¸­çš„æŸäº›æ“ä½œä¼šå½±å“åˆ°è¿™äº›å±æ€§å€¼çš„è·å–ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æµè§ˆå™¨é‡æ’çš„ä»‹ç»</p>
<p><strong>æµè§ˆå™¨é‡ç»˜</strong></p>
<p>æµè§ˆå™¨çš„é‡ç»˜æŒ‡çš„å°±æ˜¯æ”¹å˜å…ƒç´ åœ¨é¡µé¢ä¸­çš„å±•ç¤ºæ ·å¼ï¼Œè€Œä¸ä¼šå¼•èµ·å…ƒç´ åœ¨æ–‡æ¡£ä¸­ä½ç½®çš„æ”¹å˜ã€‚ä¾‹å¦‚ï¼šæ”¹å˜å…ƒç´ çš„é¢œè‰²ï¼ŒèƒŒæ™¯è‰²ï¼Œé€æ˜åº¦ç­‰ã€‚</p>
<p>å¸¸è§çš„å¼•èµ·é‡ç»˜çš„æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">color:é¢œè‰²</span><br><span class="line">border-style:è¾¹æ¡†æ ·å¼</span><br><span class="line"><span class="attr">visibility</span>: å…ƒç´ æ˜¯å¦å¯è§</span><br><span class="line"><span class="attr">background</span>:èƒŒæ™¯æ ·å¼ï¼ŒåŒ…æ‹¬èƒŒæ™¯é¢œè‰²ï¼ŒèƒŒæ™¯å›¾ç‰‡ç­‰</span><br><span class="line">text-decoration:æ–‡æœ¬ä¸‹åˆ’çº¿ï¼Œä¸Šåˆ’çº¿ç­‰</span><br><span class="line">border-radius:è¾¹æ¡†åœ†è§’</span><br><span class="line">box-shadow:å…ƒç´ çš„é˜´å½±</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯æµè§ˆå™¨çš„é‡ç»˜çš„ä»‹ç»ã€‚</p>
<p>é€šè¿‡å¯¹æµè§ˆå™¨é‡æ’ä¸é‡ç»˜çš„ä»‹ç»ï¼Œç›¸ä¿¡å¤§å®¶å·²ç»æœ‰æ‰€äº†è§£äº†ï¼Œé‚£ä¹ˆå®ƒä»¬ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ</p>
<p>ç®€å•çš„è¯´ï¼Œé‡æ’ä¸€å®šä¼šå¼•èµ·é‡ç»˜ï¼Œè€Œé‡ç»˜å´ä¸ä¸€å®šä¼šå¼•èµ·é‡æ’çš„æ“ä½œã€‚</p>
<p>å› ä¸ºå½“å…ƒç´ åœ¨é‡æ’çš„è¿‡ç¨‹ä¸­ï¼Œå…ƒç´ çš„ä½ç½®ç­‰å‡ ä½•ä¿¡æ¯ä¼šé‡æ–°è®¡ç®—ï¼Œå¹¶ä¼šå¼•èµ·å…ƒç´ çš„é‡æ–°æ¸²æŸ“ï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿé‡ç»˜çš„æ“ä½œï¼Œè€Œåœ¨é‡ç»˜çš„æ—¶å€™ï¼Œåªæ˜¯æ”¹å˜äº†å…ƒç´ çš„å±•ç¤ºçš„æ ·å¼ï¼Œè€Œä¸ä¼šå¼•èµ·å…ƒç´ åœ¨æ–‡æ¡£ä¸­ä½ç½®çš„æ”¹å˜ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä¼šå¼•èµ·é‡æ’çš„æ“ä½œã€‚</p>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<p>æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜æ˜¯æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘é‡æ’ä¸é‡ç»˜çš„æ“ä½œï¼Œè¿™ä¹Ÿæ˜¯ä¼˜åŒ–ç½‘é¡µæ€§èƒ½çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p>å¸¸è§çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>ç¬¬ä¸€ï¼šå°†æ ·å¼å±æ€§å€¼çš„ä¿®æ”¹åˆå¹¶ä¸ºä¸€æ¬¡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸ªå…ƒç´ çš„æ ·å¼ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç å®ç°ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mainDiv = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line">    mainDiv.style.width = <span class="string">"200px"</span>;</span><br><span class="line">    mainDiv.style.height = <span class="string">"100px"</span>;</span><br><span class="line">    mainDiv.style.background = <span class="string">"#ccc"</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œåœ¨ä¸Šé¢çš„æ“ä½œä¸­å¤šæ¬¡ä¿®æ”¹äº†<code>style</code>å±æ€§ï¼Œä¼šå¼•å‘å¤šæ¬¡çš„é‡æ’ä¸é‡ç»˜æ“ä½œã€‚</p>
<p>æ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†è¿™äº›æ ·å¼åˆå¹¶åœ¨ä¸€ä¸ª<code>class</code>ç±»ä¸­ã€‚</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    <span class="selector-class">.changeStyle</span> {</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="string">"#ccc"</span>;</span><br><span class="line">    }</span><br><span class="line">  &lt;/style&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ç„¶åé€šè¿‡é€šè¿‡<code>javascript</code>ç›´æ¥ä¿®æ”¹å…ƒç´ çš„æ ·å¼</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>).className = <span class="string">"changeStyle"</span>;</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨æœ€åä¸€æ­¥å®Œæˆæ ·å¼çš„ä¿®æ”¹ï¼Œä»è€Œåªå¼•èµ·ä¸€æ¬¡çš„é‡æ’ä¸é‡ç»˜çš„æ“ä½œã€‚</p>
<p>ç¬¬äºŒï¼š</p>
<p>å°†éœ€è¦å¤šæ¬¡é‡æ’çš„å…ƒç´ ï¼Œ<code>position</code>å±æ€§è®¾ä¸º<code>absolute</code>æˆ–<code>fixed</code>ï¼Œè¿™æ ·æ­¤å…ƒç´ å°±è„±ç¦»äº†æ–‡æ¡£æµï¼Œå®ƒçš„å˜åŒ–ä¸ä¼šå½±å“åˆ°å…¶ä»–å…ƒç´ ã€‚ä¾‹å¦‚æœ‰åŠ¨ç”»æ•ˆæœçš„å…ƒç´ å°±æœ€å¥½è®¾ç½®ä¸ºç»å¯¹å®šä½ã€‚</p>
<p>ç¬¬ä¸‰ï¼šåœ¨å¯¹å¤šèŠ‚ç‚¹æ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥ç°åœ¨å†…æµ‹ä¸­å®Œæˆï¼Œç„¶ååœ¨æ·»åŠ åˆ°æ–‡æ¡£ä¸­ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createTable</span>(<span class="params">list</span>) </span>{</span><br><span class="line">      <span class="keyword">var</span> table = $(<span class="string">"#table"</span>);</span><br><span class="line">      <span class="keyword">var</span> rowHtml = <span class="string">""</span>;</span><br><span class="line">      list.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">        rowHtml += <span class="string">"&lt;tr&gt;"</span>;</span><br><span class="line">        rowHtml += <span class="string">"&lt;td&gt;"</span> + item.userName + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">        rowHtml += <span class="string">"&lt;td&gt;"</span> + item.userPwd + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">        rowHtml += <span class="string">"&lt;/tr&gt;"</span>;</span><br><span class="line">        table.append(rowHtml);</span><br><span class="line">        rowHtml = <span class="string">""</span>;</span><br><span class="line">      });</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<p>å½“è°ƒç”¨<code>createTable</code>æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šä»<code>list</code>é›†åˆä¸­å–å‡ºä¸€æ¡æ•°æ®ï¼Œç„¶åæ”¾åœ¨<code>tr</code>æ ‡ç­¾ä¸­ï¼Œç´§è·Ÿç€æ·»åŠ åˆ°è¡¨æ ¼ä¸­ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æ¯æ·»åŠ ä¸€è¡Œæ•°æ®ï¼Œéƒ½ä¼šå¼•å‘ä¸€æ¬¡æµè§ˆå™¨çš„é‡æ’å’Œé‡ç»˜çš„æ“ä½œï¼Œå¦‚æœæ•°æ®å¾ˆå¤šï¼Œåˆ™ä¼šå¯¹æ¸²æŸ“é€ æˆå¾ˆå¤§çš„å½±å“ã€‚</p>
<p>ä¿®æ”¹åçš„ä»£ç </p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createTabel</span>(<span class="params">list</span>) </span>{</span><br><span class="line">        <span class="keyword">var</span> table = $(<span class="string">"#table"</span>);</span><br><span class="line">        <span class="keyword">var</span> rowHtml = <span class="string">""</span>;</span><br><span class="line">        list.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>) </span>{</span><br><span class="line">          rowHtml += <span class="string">"&lt;tr&gt;"</span>;</span><br><span class="line">          rowHtml += <span class="string">"&lt;td&gt;"</span> + item.userName + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">          rowHtml += <span class="string">"&lt;td&gt;"</span> + item.userPwd + <span class="string">"&lt;/td&gt;"</span>;</span><br><span class="line">          rowHtml += <span class="string">"&lt;/tr&gt;"</span>;</span><br><span class="line">        });</span><br><span class="line">    <span class="comment">//å°†æ•°æ®ä¸€æ¬¡æ€§è¿½åŠ åˆ°è¡¨æ ¼ä¸­ï¼Œå®Œæˆä¸€æ¬¡æ¸²æŸ“</span></span><br><span class="line">        table.append(rowHtml);</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„æ”¹é€ ä»¥åï¼Œåªä¼šå¼•èµ·ä¸€æ¬¡æµè§ˆå™¨çš„é‡ç»˜ä¸é‡æ’çš„æ“ä½œï¼Œä»è€Œå¸¦æ¥å¾ˆå¤§çš„æ–°èƒ½æå‡ã€‚</p>
<p>ç¬¬å››ï¼šç”±äº<code>display</code>å±æ€§ä¸º<code>none</code>çš„å…ƒç´ ä¸åœ¨æ¸²æŸ“æ ‘ä¸­ï¼Œå¯¹éšè—çš„å…ƒç´ æ“ä½œä¸ä¼šå¼•å‘å…¶ä»–å…ƒç´ çš„é‡æ’ã€‚å¦‚æœè¦å¯¹ä¸€ä¸ªå…ƒç´ è¿›è¡Œå¤æ‚çš„æ“ä½œæ—¶ï¼Œå¯ä»¥å…ˆéšè—å®ƒï¼Œæ“ä½œå®Œæˆåå†æ˜¾ç¤ºã€‚è¿™æ ·åªåœ¨éšè—å’Œæ˜¾ç¤ºæ—¶è§¦å‘ä¸¤æ¬¡é‡æ’ã€‚</p>
<p>ç¬¬äº”ï¼šã€€å°½é‡å‡å°‘<code>table</code>å¸ƒå±€,éšä¾¿ä¿®æ”¹ä¸€ä¸ªå•å…ƒæ ¼çš„é«˜åº¦æˆ–å®½åº¦éƒ½ä¼šè®©æ•´ä¸ªè¡¨æ ¼è¿›è¡Œé‡æ’ï¼Œæ€§èƒ½éå¸¸å·®ã€‚</p>
<p>ç¬¬å…­ï¼šåœ¨å¯¹å¤šä¸ªåŒçº§å…ƒç´ åšäº‹ä»¶ç»‘å®šçš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨äº‹ä»¶å§”æ‰˜æœºåˆ¶æ¥å¤„ç†ã€‚</p>
<p>ç¬¬ä¸ƒï¼šæ–‡æ¡£ç‰‡æ®µ<code>DocumentFragment</code>çš„ä½¿ç”¨ï¼Œå…³äºè¿™å—å†…å®¹ï¼Œåœ¨å‰é¢çš„è¯¾ç¨‹ä¸­å·²ç»ä½¿ç”¨è¿‡ã€‚</p>
<p>ä½¿ç”¨æ‰¹é‡æ’å…¥å…ƒç´ ï¼Œä¾‹å¦‚ï¼šå‘é¡µé¢çš„<code>ul</code>å…ƒç´ ä¸­æ·»åŠ <code>100</code>ä¸ª<code>li</code>å…ƒç´ ï¼Œ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> listNode = <span class="built_in">document</span>.getElementById(<span class="string">"list"</span>);</span><br><span class="line">      <span class="comment">//åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ç‰‡æ®µï¼Œæ–‡æ¡£ç‰‡æ®µå­˜åœ¨äºå†…å­˜ä¸­ï¼Œå¹¶ä¸åœ¨DOMæ ‘ä¸­ï¼Œæ‰€ä»¥æ­¤æ—¶è¿˜æ²¡æœ‰æ’å…¥åˆ°DOMä¸­</span></span><br><span class="line">      <span class="comment">//ä¹Ÿå°±æ˜¯å…ˆå°†domæ’å…¥åˆ°ä¸´æ—¶åŒºåŸŸä¸­</span></span><br><span class="line">      <span class="keyword">const</span> frag = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line">      <span class="comment">//æ‰§è¡Œæ’å…¥</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        <span class="keyword">const</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">        li.innerHTML = <span class="string">`item<span class="subst">${i}</span>`</span>;</span><br><span class="line">        frag.appendChild(li);</span><br><span class="line">      }</span><br><span class="line">      <span class="comment">//éƒ½å®Œæˆåï¼Œå†æ’å…¥åˆ°DOMæ ‘ä¸­</span></span><br><span class="line">      listNode.appendChild(frag);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯å…³äºæµè§ˆå™¨é‡ç»˜ä¸é‡æ’çš„å†…å®¹ã€‚</p>
<h1 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h1><h2 id="ä»€ä¹ˆæ˜¯AJAX"><a href="#ä»€ä¹ˆæ˜¯AJAX" class="headerlink" title="ä»€ä¹ˆæ˜¯AJAX"></a>ä»€ä¹ˆæ˜¯AJAX</h2><p>Ajaxæ˜¯ä¸€ç§å¼‚æ­¥è¯·æ±‚æ•°æ®çš„webå¼€å‘æŠ€æœ¯ï¼Œå¯¹äºæ”¹å–„ç”¨æˆ·çš„ä½“éªŒå’Œé¡µé¢æ€§èƒ½å¾ˆæœ‰å¸®åŠ©ã€‚ç®€å•åœ°è¯´ï¼Œåœ¨ä¸éœ€è¦é‡æ–°åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼ŒAjax é€šè¿‡å¼‚æ­¥è¯·æ±‚åŠ è½½åå°æ•°æ®ï¼Œå¹¶åœ¨ç½‘é¡µä¸Šå‘ˆç°å‡ºæ¥ã€‚å¸¸è§è¿ç”¨åœºæ™¯æœ‰è¡¨å•éªŒè¯æ˜¯å¦ç™»å…¥æˆåŠŸã€ç™¾åº¦æœç´¢ä¸‹æ‹‰æ¡†æç¤ºå’Œå¿«é€’å•å·æŸ¥è¯¢ç­‰ç­‰ã€‚</p>
<p><strong>Ajaxçš„ç›®çš„æ˜¯æé«˜ç”¨æˆ·ä½“éªŒï¼Œè¾ƒå°‘ç½‘ç»œæ•°æ®çš„ä¼ è¾“é‡</strong>ã€‚åŒæ—¶ï¼Œç”±äºAJAXè¯·æ±‚è·å–çš„æ˜¯æ•°æ®è€Œä¸æ˜¯<code>html</code>æ–‡æ¡£ï¼Œå› æ­¤å®ƒä¹ŸèŠ‚çœäº†ç½‘ç»œå¸¦å®½ï¼Œè®©äº’è”ç½‘ç”¨æˆ·çš„ç½‘ç»œå†²æµªä½“éªŒå˜å¾—æ›´åŠ é¡ºç•…ã€‚</p>
<p>å…³äºæé«˜ç”¨æˆ·çš„ä½“éªŒï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢æ¥è¿›è¡Œä½“ä¼š</p>
<p>ä¸‹å›¾æ˜¯æ™®é€šçš„è¯·æ±‚æ–¹å¼</p>
<p><img src="/2020/09/25/JavaScript-1/ajax1.png"></p>
<p>ä¸‹å›¾æ˜¯<code>ajax</code>è¯·æ±‚çš„æ–¹å¼</p>
<p><img src="/2020/09/25/JavaScript-1/ajax2.png"></p>
<h2 id="AJAXåŸç†æ˜¯ä»€ä¹ˆ"><a href="#AJAXåŸç†æ˜¯ä»€ä¹ˆ" class="headerlink" title="AJAXåŸç†æ˜¯ä»€ä¹ˆ"></a>AJAXåŸç†æ˜¯ä»€ä¹ˆ</h2><p><code>Ajax</code>ç›¸å½“äºåœ¨ç”¨æˆ·å’ŒæœåŠ¡å™¨ä¹‹é—´åŠ äº†ä¸€ä¸ªä¸­é—´å±‚,ä½¿ç”¨æˆ·æ“ä½œä¸æœåŠ¡å™¨å“åº”å¼‚æ­¥åŒ–ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç”¨æˆ·è¯·æ±‚éƒ½æäº¤ç»™æœåŠ¡å™¨ï¼Œåƒä¸€äº›æ•°æ®éªŒè¯å’Œæ•°æ®å¤„ç†ç­‰éƒ½äº¤ç»™Ajaxå¼•æ“è‡ªå·±æ¥åšï¼Œåªæœ‰ç¡®å®šéœ€è¦ä»æœåŠ¡å™¨è¯»å–æ–°æ•°æ®æ—¶å†ç”±Ajaxå¼•æ“ä»£ä¸ºå‘æœåŠ¡å™¨æäº¤è¯·æ±‚ã€‚</p>
<p>Ajaxçš„åŸç†ç®€å•æ¥è¯´é€šè¿‡<code>XmlHttpRequest</code>å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨JavaScriptæ¥æ“ä½œDOMè€Œæ›´æ–°é¡µé¢ã€‚</p>
<p><code>XMLHttpRequest</code>æ˜¯<code>ajax</code>çš„æ ¸å¿ƒæœºåˆ¶ï¼Œå®ƒæ˜¯åœ¨<code>IE5</code>ä¸­é¦–å…ˆå¼•å…¥çš„ï¼Œæ˜¯ä¸€ç§æ”¯æŒå¼‚æ­¥è¯·æ±‚çš„æŠ€æœ¯ã€‚ç®€å•çš„è¯´ï¼Œä¹Ÿå°±æ˜¯JavaScriptå¯ä»¥åŠæ—¶å‘æœåŠ¡å™¨æå‡ºè¯·æ±‚å’Œå¤„ç†å“åº”ï¼Œè€Œä¸é˜»å¡ç”¨æˆ·ã€‚è¾¾åˆ°æ— åˆ·æ–°çš„æ•ˆæœã€‚</p>
<h2 id="AJAXåŸºæœ¬çš„ä½¿ç”¨"><a href="#AJAXåŸºæœ¬çš„ä½¿ç”¨" class="headerlink" title="AJAXåŸºæœ¬çš„ä½¿ç”¨"></a>AJAXåŸºæœ¬çš„ä½¿ç”¨</h2><p>è¿™é‡Œä¸»è¦æŒæ¡çš„æ˜¯èƒ½å¤Ÿæ‰‹åŠ¨åˆ›å»º<code>AJAX</code>.</p>
<p>åˆ›å»ºæ­¥éª¤ï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/AJAX%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B.png"></p>
<p>åˆ›å»º<code>xhr</code>å¯¹è±¡</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xhr = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) {<span class="comment">// å…¼å®¹ IE7+, Firefox, Chrome, Opera, Safari  </span></span><br><span class="line">    xhr = <span class="keyword">new</span> XMLHttpRequest();  </span><br><span class="line">} <span class="keyword">else</span> {<span class="comment">// å…¼å®¹ IE6, IE5 </span></span><br><span class="line">    xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);  </span><br><span class="line">} </span><br></pre></td></tr></tbody></table></figure>

<p>é…ç½®è¯·æ±‚åœ°å€ä¸å‘é€è¯·æ±‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(method, url, <span class="keyword">async</span>);  </span><br><span class="line">send(string);<span class="comment">//`POST`è¯·æ±‚æ—¶æ‰ä½¿ç”¨å­—ç¬¦ä¸²å‚æ•°ï¼Œå¦åˆ™ä¸ç”¨å¸¦å‚æ•°ã€‚</span></span><br><span class="line"><span class="comment">// methodï¼šè¯·æ±‚çš„ç±»å‹ï¼›GET æˆ– POST</span></span><br><span class="line"><span class="comment">// urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½®</span></span><br><span class="line"><span class="comment">// asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰</span></span><br></pre></td></tr></tbody></table></figure>

<p><strong>æ³¨æ„ï¼šPOSTè¯·æ±‚ä¸€å®šè¦è®¾ç½®è¯·æ±‚å¤´çš„æ ¼å¼å†…å®¹</strong></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xhr.open(<span class="string">"POST"</span>, <span class="string">"test.html"</span>, <span class="literal">true</span>);  </span><br><span class="line">xhr.setRequestHeader(<span class="string">"Content-type"</span>, <span class="string">"application/x-www-form-urlencoded"</span>);  </span><br><span class="line">xhr.send(<span class="string">"fname=Henry&amp;lname=Ford"</span>);  <span class="comment">//`POST`è¯·æ±‚å‚æ•°æ”¾åœ¨sendé‡Œé¢ï¼Œå³è¯·æ±‚ä½“</span></span><br></pre></td></tr></tbody></table></figure>

<p>å¤„ç†å“åº”</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{ </span><br><span class="line">    <span class="keyword">if</span> (xhr.readyState == <span class="number">4</span> &amp;&amp; xhr.status == <span class="number">200</span>){    </span><br><span class="line">    <span class="built_in">document</span>.GetElementById(<span class="string">"mydiv"</span>).innerHTML = xhr.responseText;  </span><br><span class="line">    }</span><br><span class="line">} </span><br></pre></td></tr></tbody></table></figure>

<h5 id="ä»€ä¹ˆæ˜¯readyStateï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯readyStateï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯readyStateï¼Ÿ"></a>ä»€ä¹ˆæ˜¯readyStateï¼Ÿ</h5><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">readyStateæ˜¯XMLHttpRequestå¯¹è±¡çš„ä¸€ä¸ªå±æ€§ï¼Œç”¨æ¥æ ‡è¯†å½“å‰XMLHttpRequestå¯¹è±¡å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚</span><br><span class="line">readyStateæ€»å…±æœ‰5ä¸ªçŠ¶æ€å€¼ï¼Œåˆ†åˆ«ä¸º0~4ï¼Œæ¯ä¸ªå€¼ä»£è¡¨äº†ä¸åŒçš„å«ä¹‰ï¼š</span><br><span class="line"></span><br><span class="line">0ï¼šæœªåˆå§‹åŒ– â€” å°šæœªè°ƒç”¨.open()æ–¹æ³•ï¼›</span><br><span class="line">1ï¼šå¯åŠ¨ â€” å·²ç»è°ƒç”¨.open()æ–¹æ³•ï¼Œä½†å°šæœªè°ƒç”¨.send()æ–¹æ³•ï¼›</span><br><span class="line">2ï¼šå‘é€ â€” å·²ç»è°ƒç”¨.send()æ–¹æ³•ï¼Œä½†å°šæœªæ¥æ”¶åˆ°å“åº”ï¼›</span><br><span class="line">3ï¼šæ¥æ”¶ â€” å·²ç»æ¥æ”¶åˆ°éƒ¨åˆ†å“åº”æ•°æ®ï¼›</span><br><span class="line">4ï¼šå®Œæˆ â€” å·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”æ•°æ®ï¼Œè€Œä¸”å·²ç»å¯ä»¥åœ¨å®¢æˆ·ç«¯ä½¿ç”¨äº†ï¼›</span><br></pre></td></tr></tbody></table></figure>

<h5 id="ä»€ä¹ˆæ˜¯statusï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯statusï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯statusï¼Ÿ"></a>ä»€ä¹ˆæ˜¯statusï¼Ÿ</h5><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HTTPçŠ¶æ€ç (status)ç”±ä¸‰ä¸ªåè¿›åˆ¶æ•°å­—ç»„æˆã€‚HTTPçŠ¶æ€ç å…±åˆ†ä¸º5ç§ç±»å‹ï¼š</span><br><span class="line"></span><br><span class="line">1xxï¼ˆä¸´æ—¶å“åº”ï¼‰ï¼šè¡¨ç¤ºä¸´æ—¶å“åº”å¹¶éœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œçš„çŠ¶æ€ç ã€‚</span><br><span class="line">2xxï¼ˆæˆåŠŸï¼‰ï¼šè¡¨ç¤ºæˆåŠŸå¤„ç†äº†è¯·æ±‚çš„çŠ¶æ€ç ã€‚</span><br><span class="line">3xxï¼ˆé‡å®šå‘ï¼‰ï¼šè¡¨ç¤ºè¦å®Œæˆè¯·æ±‚ï¼Œéœ€è¦è¿›ä¸€æ­¥æ“ä½œã€‚é€šå¸¸ï¼Œè¿™äº›çŠ¶æ€ä»£ç ç”¨æ¥é‡å®šå‘ã€‚</span><br><span class="line">4xxï¼ˆè¯·æ±‚é”™è¯¯ï¼‰ï¼šè¿™äº›çŠ¶æ€ç è¡¨ç¤ºè¯·æ±‚å¯èƒ½å‡ºé”™ï¼Œå¦¨ç¢äº†æœåŠ¡å™¨çš„å¤„ç†ã€‚</span><br><span class="line">5xxï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ï¼šè¿™äº›çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨åœ¨å°è¯•å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿå†…éƒ¨é”™è¯¯ã€‚è¿™äº›é”™è¯¯å¯èƒ½æ˜¯æœåŠ¡å™¨æœ¬èº«çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯è¯·æ±‚å‡ºé”™ã€‚</span><br></pre></td></tr></tbody></table></figure>

<h2 id="AJAXä¼˜ç¼ºç‚¹åˆ†æ"><a href="#AJAXä¼˜ç¼ºç‚¹åˆ†æ" class="headerlink" title="AJAXä¼˜ç¼ºç‚¹åˆ†æ"></a>AJAXä¼˜ç¼ºç‚¹åˆ†æ</h2><p><strong>ä¼˜ç‚¹</strong></p>
<p>(1)æ— åˆ·æ–°æ›´æ–°æ•°æ®</p>
<p><code>AJAX</code>æœ€å¤§çš„ä¼˜ç‚¹æ˜¯åœ¨ä¸éœ€è¦åˆ·æ–°æµè§ˆå™¨çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿä¸æœåŠ¡å™¨ä¿æŒé€šä¿¡ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‡å°‘ä¸å¿…è¦çš„æ•°æ®æ•°æ®ä¼ è¾“ï¼Œé™ä½ç½‘ç»œæ•°æ®æµé‡ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«å“åº”ç”¨æˆ·çš„è¯·æ±‚ï¼Œé¿å…ä¸å¿…è¦çš„ç­‰å¾…æ—¶é—´ï¼Œæé«˜ç”¨æˆ·çš„ä½“éªŒã€‚</p>
<p>(2)å‰åç«¯åˆ†ç¦»</p>
<p>å‰ç«¯äººå‘˜åªå…³æ³¨å‰ç«¯é¡µé¢é€»è¾‘çš„å¼€å‘ï¼Œé€šè¿‡<code>ajax</code>è·å–åç«¯æ•°æ®ç„¶åè¿›è¡Œå±•ç¤ºå¤„ç†ï¼Œè€Œåç«¯ä¸“æ³¨äºè¯·æ±‚çš„è·å–ï¼Œå“åº”çš„å¤„ç†ï¼ŒèŒè´£æ˜ç¡®ã€‚</p>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<p>(1) ç ´åæµè§ˆå™¨çš„åé€€åŠŸèƒ½</p>
<p>æµè§ˆå™¨æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„åŠŸèƒ½å°±æ˜¯å†å²è®°å½•çš„åŠŸèƒ½ï¼Œé€šè¿‡åé€€æŒ‰é’®å¯ä»¥åé€€åˆ°æµè§ˆå™¨ä¹‹å‰è®¿é—®çš„é¡µé¢ï¼Œä½†æ˜¯ä½¿ç”¨äº†<code>ajax</code>åæ— æ³•åé€€ï¼Œä¹Ÿå°±æ˜¯ç ´åäº†æµè§ˆå™¨çš„åé€€æœºåˆ¶ã€‚</p>
<p>ï¼ˆ2ï¼‰ä¸åˆ©äºæœç´¢å¼•æ“çš„ä¼˜åŒ–</p>
<p>ç™¾åº¦ï¼Œè°·æ­Œåœ¨è¿›è¡Œæœç´¢å¼•æ“ä¼˜åŒ–çš„æ—¶å€™(<code>SEO</code>),ä¼šè·å–é¡µé¢ä¸­çš„å†…å®¹ï¼Œè€Œé€šè¿‡<code>ajax</code>è¯·æ±‚è¿”å›çš„æ•°æ®æ˜¯é€šè¿‡<code>javascript</code>åŠ¨æ€æ·»åŠ åˆ°é¡µé¢ä¸Šçš„ï¼Œè€Œç™¾åº¦ç­‰æœç´¢å¼•æ“æ— æ³•æŠ“å–åˆ°è¿™äº›é€šè¿‡<code>javascript</code>åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ï¼Œæ‰€ä»¥ä¸åˆ©äº<code>SEO</code></p>
<p>(3) ç ´åäº†<code>URL</code>ç»Ÿä¸€èµ„æºå®šä½çš„åŠŸèƒ½ã€‚</p>
<p>ç”±äº<code>AJAX</code>çš„è¯·æ±‚å¹¶ä¸ä¼šä¿®æ”¹æµè§ˆå™¨ä¸­åœ°å€æ çš„<code>URL</code>ï¼Œå› æ­¤å¯¹äºç›¸åŒçš„<code>URL</code>ï¼Œä¸åŒçš„ç”¨æˆ·çœ‹åˆ°çš„å†…å®¹æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¾‹å¦‚ï¼Œä½ è®¿é—®æŸä¸ªç”µå•†ç½‘ç«™ï¼Œåœ¨è¯¥ç”µå•†ç½‘ç«™ä¸­æœç´¢åˆ°ä¸€ä»¶éå¸¸å¥½çš„å•†å“ï¼Œä½ ç°åœ¨æŠŠåœ°å€å‘ç»™ä½ çš„åŒå­¦ï¼Œè€Œä½ çš„åŒå­¦æ‰“å¼€è¿™ä¸ªåœ°å€åï¼Œå´çœ‹ä¸åˆ°è¿™ä»¶å•†å“ã€‚</p>
<p>æ‰€ä»¥ç½‘ç«™çš„æœç´¢çš„å®ç°ï¼Œä¸€èˆ¬ä¸æ˜¯é€šè¿‡<code>ajax</code>æ¥å‘é€è¯·æ±‚ã€‚</p>
<h2 id="Getå’ŒPostè¯·æ±‚æ•°æ®çš„åŒºåˆ«"><a href="#Getå’ŒPostè¯·æ±‚æ•°æ®çš„åŒºåˆ«" class="headerlink" title="Getå’ŒPostè¯·æ±‚æ•°æ®çš„åŒºåˆ«"></a>Getå’ŒPostè¯·æ±‚æ•°æ®çš„åŒºåˆ«</h2><p>(1)å‚æ•°ä¼ é€’</p>
<p><code>get</code>è¯·æ±‚ä¼šå°†å‚æ•°æ·»åŠ åˆ°<code>URL</code>åœ°å€çš„åé¢ï¼Œåœ¨è°ƒç”¨<code>ajax</code>çš„<code>send</code>æ–¹æ³•çš„æ—¶å€™ï¼Œä¼ é€’çš„å‚æ•°æ˜¯<code>null</code>ï¼Œå³<code>xhr.send()</code>;</p>
<p><code>post</code>è¯·æ±‚çš„æ•°æ®ä¼šæ”¾åœ¨è¯·æ±‚ä½“ä¸­ï¼Œç”¨æˆ·æ˜¯æ— æ³•é€šè¿‡<code>URL</code>åœ°å€ç›´æ¥çœ‹åˆ°çš„ï¼Œè°ƒç”¨<code>send</code>æ–¹æ³•çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šè¦å‘é€åˆ°æœåŠ¡ç«¯çš„æ•°æ®ï¼Œå³<code>xhr.send(data)</code></p>
<p>(2)æœåŠ¡ç«¯çš„å¤„ç†</p>
<p>é’ˆå¯¹<code>get</code>è¯·æ±‚ä¸<code>post</code>è¯·æ±‚ï¼Œåœ¨æœåŠ¡ç«¯çš„å¤„ç†ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚å¦‚æœä»¥<code>Express</code>æ¥ä½œä¸ºæœåŠ¡ç«¯ï¼Œ<code>get</code>çš„è¯·æ±‚éœ€è¦é€šè¿‡<code>Request.query</code>æ¥è·å–å‚æ•°ï¼Œè€Œ<code>post</code>è¯·æ±‚çš„å¤„ç†ï¼Œéœ€è¦é€šè¿‡<code>Request.body</code>æ¥è·å–æ•°æ®ã€‚</p>
<p>ï¼ˆ3ï¼‰ä¼ é€’çš„æ•°æ®é‡</p>
<p><code>get</code>è¯·æ±‚çš„æ•°æ®é‡å°ï¼Œå¯¹äºä¸åŒçš„æµè§ˆå™¨æ˜¯æœ‰å·®å¼‚ ï¼Œè°·æ­Œæµè§ˆå™¨é™åˆ¶<code>8k</code>.<code>post</code>è¯·æ±‚ä¼ é€’çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œä¸€èˆ¬é»˜è®¤ä¸å—é™åˆ¶ã€‚ä½†æ˜¯æœåŠ¡å™¨ä¸€èˆ¬ä¼šåšé™åˆ¶ã€‚</p>
<p>ï¼ˆ4ï¼‰å®‰å…¨æ€§</p>
<p><code>get</code>è¯·æ±‚çš„å®‰å…¨æ€§æ¯”è¾ƒä½ï¼Œå› ä¸ºè¯·æ±‚çš„æ•°æ®ä¼šå‡ºç°åœ¨<code>url</code>ä¸Šï¼Œé€šè¿‡æµè§ˆå™¨çš„ç¼“å­˜æˆ–è€…æ˜¯å†å²è®°å½•å¾ˆå®¹æ˜“è·å–åˆ°è¯·æ±‚çš„æ•°æ®ã€‚<code>post</code>è¯·æ±‚æ˜¯å°†æ•°æ®æ”¾åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œä¼ é€’ï¼Œæ•°æ®ä¸ä¼šå‡ºç°åœ¨<code>URL</code>ï¼Œå®‰å…¨æ€§æ¯”è¾ƒé«˜ã€‚</p>
<h2 id="Getå’ŒPostè¯·æ±‚çš„åº”ç”¨åœºæ™¯"><a href="#Getå’ŒPostè¯·æ±‚çš„åº”ç”¨åœºæ™¯" class="headerlink" title="Getå’ŒPostè¯·æ±‚çš„åº”ç”¨åœºæ™¯"></a>Getå’ŒPostè¯·æ±‚çš„åº”ç”¨åœºæ™¯</h2><p>åœ¨äº†è§£äº†<code>get</code>æ–¹å¼å’Œ<code>post</code>è¯·æ±‚æ–¹å¼çš„åŒºåˆ«ä»¥åï¼Œä¸‹é¢çœ‹ä¸€ä¸‹å®ƒä»¬çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p><code>get</code>çš„åº”ç”¨åœºæ™¯</p>
<p>ï¼ˆ1ï¼‰æ•°æ®çš„æœç´¢ï¼Œå•å‡»æœç´¢æŒ‰é’®ï¼Œæœç´¢ç½‘ç«™ä¸­æŒ‡å®šçš„æ•°æ®ã€‚</p>
<p>  (2) ä¼ é€’çš„æ•°æ®é‡å°ï¼Œé€‚åˆç”¨äº<code>url</code>æ–¹å¼è¿›è¡Œä¼ é€’</p>
<p> (3) æ•°æ®å®‰å…¨æ€§è¦æ±‚ä¸é«˜çš„æƒ…å†µ</p>
<p><code>post</code>è¯·æ±‚çš„åº”ç”¨åœºæ™¯</p>
<p>(1) ä¼ é€’æ•°æ®é‡æ¯”è¾ƒå¤§çš„æƒ…å†µï¼Œä¾‹å¦‚ä¸Šä¼ æ–‡ä»¶</p>
<p>(2) è¡¨å•æäº¤ï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•ï¼Œæ³¨å†Œï¼Œè¦æ±‚æ•°æ®å®‰å…¨æ€§æ¯”è¾ƒé«˜çš„æƒ…å†µã€‚</p>
<p>(3) è¯·æ±‚ä¼šä¿®æ”¹æ•°æ®åº“ä¸­æ•°æ®çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼Œæ·»åŠ æ•°æ®ï¼Œä¿®æ”¹æ•°æ®ç­‰ã€‚</p>
<h2 id="æµè§ˆå™¨åŒæºç­–ç•¥"><a href="#æµè§ˆå™¨åŒæºç­–ç•¥" class="headerlink" title="æµè§ˆå™¨åŒæºç­–ç•¥"></a>æµè§ˆå™¨åŒæºç­–ç•¥</h2><p>æµè§ˆå™¨åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€æ ¸å¿ƒçš„å®‰å…¨åŠŸèƒ½ï¼Œå®ƒè§„å®šå®¢æˆ·ç«¯è„šæœ¬åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™ä¸åŒæºçš„ç›®æ ‡èµ„æºã€‚</p>
<p>æ‰€è°“çš„åŒæºæŒ‡çš„æ˜¯ç›¸åŒåè®®ï¼ŒåŸŸåå’Œç«¯å£å·ï¼Œå¦‚æœä¸¤ä¸ªèµ„æºè·¯å¾„åœ¨åè®®ï¼ŒåŸŸåï¼Œç«¯å£å·ä¸Šæœ‰ä»»ä½•ä¸€ç‚¹ä¸åŒï¼Œåˆ™å®ƒä»¬å°±ä¸å±äºåŒæºçš„èµ„æºï¼Œ</p>
<p>å¦å¤–åœ¨åŒæºç­–ç•¥ä¸Šï¼Œåˆåˆ†ä¸ºä¸¤ç§è¡¨ç°å½¢å¼ï¼š</p>
<p>ç¬¬ä¸€ï¼šç¦æ­¢å¯¹ä¸åŒé¡µé¢è¿›è¡Œ<code>DOM</code>æ“ä½œ</p>
<p>ç¬¬äºŒï¼šç¦æ­¢ä½¿ç”¨<code>XMLHttpRequest</code>å‘ä¸æ˜¯åŒæºçš„æœåŠ¡å™¨å‘é€<code>ajax</code>è¯·æ±‚ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæœ‰è·¨åŸŸé™åˆ¶çš„é—®é¢˜ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæœ‰è·¨åŸŸé™åˆ¶çš„é—®é¢˜ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæœ‰è·¨åŸŸé™åˆ¶çš„é—®é¢˜ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæœ‰è·¨åŸŸé™åˆ¶çš„é—®é¢˜ï¼Ÿ</h2><p>ä»€ä¹ˆæ˜¯è·¨åŸŸå‘¢ï¼Ÿ</p>
<p>è®¿é—®åŒæºçš„èµ„æºæ˜¯è¢«æµè§ˆå™¨å…è®¸çš„ï¼Œä½†æ˜¯å¦‚æœè®¿é—®ä¸åŒæºçš„èµ„æºï¼Œæµè§ˆå™¨é»˜è®¤æ˜¯ä¸å…è®¸çš„ã€‚è®¿é—®ä¸åŒæºçš„èµ„æºé‚£å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„è·¨åŸŸã€‚</p>
<p>å¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/%E8%B7%A8%E5%9F%9F.png"></p>
<p>ä»è¡¨ä¸­å¯ä»¥çœ‹å‡ºåŸŸåï¼Œå­åŸŸåï¼Œç«¯å£å·ï¼Œåè®®ä¸åŒéƒ½å±äºä¸åŒæºï¼Œå½“è„šæœ¬è¢«è®¤ä¸ºæ˜¯æ¥è‡³ä¸åŒæºæ—¶ï¼Œå‡è¢«æµè§ˆå™¨æ‹’ç»è¯·æ±‚ã€‚</p>
<p>æµè§ˆå™¨å¯¹è·¨åŸŸè®¿é—®çš„é™åˆ¶ï¼Œå¯ä»¥åœ¨å¾ˆå¤§çš„ç¨‹åº¦ä¸Šä¿æŠ¤ç”¨æˆ·æ•°æ®çš„å®‰å…¨ã€‚</p>
<p>ç¬¬ä¸€ï¼šå‡å¦‚æ²¡æœ‰<code>Dom</code>åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œå°±æœ‰å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹çš„å®‰å…¨éšæ‚£</p>
<p>é»‘å®¢åšäº†ä¸€ä¸ªå‡çš„çš„ç½‘ç«™ï¼Œé€šè¿‡<code>iframe</code>åµŒå¥—äº†ä¸€ä¸ªé“¶è¡Œçš„ç½‘ç«™ï¼Œç„¶åæŠŠ<code>iframe</code>çš„é«˜åº¦å®½åº¦è°ƒæ•´åˆ°å æ®æµè§ˆå™¨çš„å¯è§†åŒºåŸŸ ï¼Œè¿™æ ·ç”¨æˆ·è¿›å…¥è¿™ä¸ªå‡çš„ç½‘ç«™åï¼Œçœ‹åˆ°å°±æ˜¯å’ŒçœŸæ­£çš„é“¶è¡Œç½‘ç«™æ˜¯ä¸€æ ·çš„å†…å®¹ã€‚å¦‚æœç”¨æˆ·è¾“å…¥äº†ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿™ä¸ªå‡çš„ç½‘ç«™å°±å¯ä»¥è·¨åŸŸè®¿é—®åˆ°æ‰€åµŒå¥—çš„é“¶è¡Œç½‘ç«™çš„<code>DOM</code>èŠ‚ç‚¹ï¼Œä»è€Œé»‘å®¢å°±å¯ä»¥è·å–åˆ°ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç äº†ã€‚</p>
<p>ç¬¬äºŒï¼šå¦‚æœæµè§ˆå™¨æ²¡æœ‰<code>XMLHttpRequest</code>åŒæºç­–ç•¥é™åˆ¶ï¼Œé»‘å®¢å¯ä»¥è¿›è¡Œè·¨ç«™è¯·æ±‚ä¼ªé€ (<code>CSRF</code>)æ”»å‡»ï¼Œå…·ä½“æ–¹å¼å¦‚ä¸‹ï¼š</p>
<p>(1)ç”¨æˆ·ç™»å½•äº†ä¸ªäººé“¶è¡Œé¡µé¢<code>A</code>,é¡µé¢<code>A</code>ä¼šåœ¨<code>Cookie</code>ä¸­ä¿å­˜ç”¨æˆ·ä¿¡æ¯</p>
<p>(2)åæ¥ç”¨æˆ·åˆè®¿é—®äº†ä¸€ä¸ªæ¶æ„çš„é¡µé¢<code>B</code>,åœ¨è¯¥é¡µé¢ä¸­æ‰§è¡Œäº†æ¶æ„<code>Ajax</code>è¯·æ±‚çš„ä»£ç </p>
<p>(3)è¿™æ—¶é¡µé¢<code>B</code>ä¼šå‘é¡µé¢<code>A</code>å‘é€<code>Ajax</code>è¯·æ±‚ï¼Œè¯¥è¯·æ±‚ä¼šé»˜è®¤å‘é€ç”¨æˆ·<code>Cookie</code>ä¿¡æ¯ã€‚</p>
<p>(4)é¡µé¢<code>A</code>ä¼šä»è¯·æ±‚çš„<code>Cookie</code>ä¸­è·å–ç”¨æˆ·ä¿¡æ¯ï¼ŒéªŒè¯æ— è¯¯åï¼Œå°±ä¼šè¿”å›ç”¨æˆ·çš„ä¸€ç³»åˆ—ç›¸å…³çš„æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®å°±ä¼šè¢«æ¶æ„çš„é¡µé¢Bæ‰€è·å–ï¼Œä»è€Œé€ æˆç”¨æˆ·æ•°æ®çš„æ³„æ¼ã€‚</p>
<p>æ­£æ˜¯å­˜åœ¨è¿™äº›å±é™©çš„åœºæ™¯å­˜åœ¨ï¼Œæ‰€ä»¥åŒæºç­–ç•¥çš„é™åˆ¶å°±æ˜¾å¾—éå¸¸æ€»è¦ã€‚</p>
<h2 id="è·¨åŸŸé—®é¢˜æ¼”ç¤º"><a href="#è·¨åŸŸé—®é¢˜æ¼”ç¤º" class="headerlink" title="è·¨åŸŸé—®é¢˜æ¼”ç¤º"></a>è·¨åŸŸé—®é¢˜æ¼”ç¤º</h2><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸­åˆ›å»º<code>index.html</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btnLogin"</span>);</span></span><br><span class="line"><span class="javascript">        btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          sendRequest();</span></span><br><span class="line"><span class="javascript">        });</span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">sendRequest</span>(<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> userName = <span class="built_in">document</span>.getElementById(<span class="string">"userName"</span>).value;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¿™é‡Œä¸ºäº†ç®€å•ï¼Œæš‚æ—¶ä¸è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> url = <span class="string">"http://localhost:3000/getUserNameInfo?name="</span> + userName;</span></span><br><span class="line"><span class="javascript">        xhr.open(<span class="string">"get"</span>, url, <span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">        xhr.send();</span></span><br><span class="line"><span class="javascript">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>) {</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(xhr.responseText);</span></span><br><span class="line"><span class="javascript">          }</span></span><br><span class="line"><span class="javascript">        };</span></span><br><span class="line"><span class="javascript">      }</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·å:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnLogin"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢å®‰è£…<code>express</code></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ—¶åˆ›å»º<code>server.js</code>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.get(<span class="string">'/getUserNameInfo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> userName = req.query.name;</span><br><span class="line">    <span class="keyword">var</span> result = {</span><br><span class="line">        <span class="attr">id</span>: <span class="number">10001</span>,</span><br><span class="line">        <span class="attr">userName</span>: userName,</span><br><span class="line">        <span class="attr">userAge</span>:<span class="number">21</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> data = <span class="built_in">JSON</span>.stringify(result);</span><br><span class="line">    res.writeHead(<span class="number">200</span>, { <span class="string">'Content-type'</span>: <span class="string">'application/json'</span> })</span><br><span class="line">    res.write(data);</span><br><span class="line">    res.end()</span><br><span class="line">})</span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æœåŠ¡ç«¯å¯åŠ¨....'</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢å¯åŠ¨æœåŠ¡ç«¯</p>
<p>åŒæ—¶<code>index.html</code>æ–‡ä»¶ä¹Ÿé€šè¿‡<code>vscode</code>è‡ªå¸¦çš„æœåŠ¡å™¨è¿›è¡Œè®¿é—®ã€‚</p>
<p>è¿™æ—¶ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access to XMLHttpRequest at 'http://localhost:3000/getUserNameInfo?name=admin' from origin 'http://127.0.0.1:5500' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šé”™è¯¯å¯ä»¥å‘ç°ï¼Œç°åœ¨çš„ç¨‹åºå‡ºç° è·¨åŸŸçš„é—®é¢˜ï¼Œ</p>
<p>ä¸‹é¢çœ‹ä¸€ä¸‹å…·ä½“çš„è§£å†³æ–¹æ¡ˆ</p>
<h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h2><p>é€šè¿‡ä¸Šé¢çš„é”™è¯¯ï¼Œæˆ‘ä»¬æ˜ç™½äº†ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å‘é€è·¨åŸŸè¯·æ±‚æ˜¯å› ä¸ºæœåŠ¡ç«¯å¹¶ä¸æ¥æ”¶è·¨åŸŸçš„è¯·æ±‚ï¼Œæ‰€ä»¥ä¸ºäº†è§£å†³è·¨åŸŸè¯·æ±‚çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœåŠ¡ç«¯è®¾ç½®ä¸ºå¯ä»¥æ¥æ”¶è·¨åŸŸè¯·æ±‚ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>CORS</code>(â€˜è·¨åŸŸèµ„æºå…±äº«â€™),æ¥è§£å†³è·¨åŸŸè¯·æ±‚çš„é—®é¢˜ã€‚<code>CORS</code>ä¸»è¦çš„å®ç°æ–¹å¼æ˜¯æœåŠ¡ç«¯é€šè¿‡å¯¹å“åº”å¤´çš„è®¾ç½®ï¼Œæ¥æ”¶è·¨åŸŸè¯·æ±‚çš„å¤„ç†ã€‚</p>
<p>æœåŠ¡ç«¯ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line">app.all(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{</span><br><span class="line">    <span class="comment">//è®¾ç½®å¯ä»¥æ¥æ”¶è¯·æ±‚çš„åŸŸå</span></span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'http://127.0.0.1:5500'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Methods'</span>, <span class="string">'GET, POST,PUT'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'Content-Type'</span>);</span><br><span class="line">    res.header(<span class="string">'Content-Type'</span>, <span class="string">'application/json;charset=utf-8'</span>);</span><br><span class="line">    req.next();</span><br><span class="line">})</span><br><span class="line">app.get(<span class="string">'/getUserNameInfo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> userName = req.query.name;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'userName='</span>,userName)</span><br><span class="line">    <span class="keyword">var</span> result = {</span><br><span class="line">        <span class="attr">id</span>: <span class="number">10001</span>,</span><br><span class="line">        <span class="attr">userName</span>: userName,</span><br><span class="line">        <span class="attr">userAge</span>:<span class="number">21</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> data = <span class="built_in">JSON</span>.stringify(result);</span><br><span class="line">    res.writeHead(<span class="number">200</span>, { <span class="string">'Content-type'</span>: <span class="string">'application/json'</span> })</span><br><span class="line">    res.write(data);</span><br><span class="line">    res.end()</span><br><span class="line">})</span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æœåŠ¡ç«¯å¯åŠ¨....'</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨åŸæœ‰çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯æ·»åŠ äº†å¦‚ä¸‹çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.all(<span class="string">'*'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{</span><br><span class="line">    <span class="comment">//è®¾ç½®å¯ä»¥æ¥æ”¶è¯·æ±‚çš„åŸŸå</span></span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Origin'</span>, <span class="string">'http://127.0.0.1:5500'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Methods'</span>, <span class="string">'GET, POST,PUT'</span>);</span><br><span class="line">    res.header(<span class="string">'Access-Control-Allow-Headers'</span>, <span class="string">'Content-Type'</span>);</span><br><span class="line">    res.header(<span class="string">'Content-Type'</span>, <span class="string">'application/json;charset=utf-8'</span>);</span><br><span class="line">    req.next();</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ€ä¸»è¦çš„æ˜¯<code>  res.header('Access-Control-Allow-Origin', 'http://127.0.0.1:5500');</code>è¿™è¡Œä»£ç ï¼Œ</p>
<p>è¿™è¡Œä»£ç æ˜¯å¿…é¡»çš„ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å¯ä»¥æ¥æ”¶å“ªä¸ªåŸŸå‘é€çš„è¯·æ±‚ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦<code>*</code>ï¼Œè¡¨ç¤ºæ¥æ”¶å…¨éƒ¨çš„åŸŸï¼Œä½†æ˜¯ä¸ºäº†å®‰å…¨ï¼Œæˆ‘ä»¬æœ€å¥½è®¾ç½®ç‰¹å®šçš„åŸŸã€‚æˆ‘ä»¬è¿™é‡Œæµ‹è¯•çš„æ˜¯<code>http://127.0.0.1:5500</code>(æ³¨æ„ï¼šå¦‚æœå®¢æˆ·ç«¯åœ°å€æ˜¯<code>127.0.0.1</code>,è¿™é‡Œä¸èƒ½å†™æˆ<code>localhost</code>,åŒæ—¶è¿˜éœ€è¦æ³¨æ„ï¼Œè¿™é‡Œåœ°å€æœ€åæ²¡æœ‰<code>/</code>)</p>
<p>åé¢è¯·æ±‚å¤´ä¿¡æ¯å¯ä»¥æ ¹æ®æƒ…å†µè¿›è¡Œé€‰æ‹©è®¾ç½®ï¼Œä¾‹å¦‚æ¥æ”¶è¯·æ±‚çš„æ–¹æ³•ï¼Œæ•°æ®ä¼ è¾“çš„æ ¼å¼ç­‰ã€‚</p>
<p>é€šè¿‡å¯¹æœåŠ¡ç«¯çš„å¤„ç†ä¸ä¼šå¯¹å‰ç«¯ä»£ç åšä»»ä½•çš„å¤„ç†ï¼Œä½†æ˜¯ç”±äºä¸åŒç³»ç»ŸæœåŠ¡ç«¯é‡‡ç”¨çš„è¯­è¨€ä¸æ¡†æ¶æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥å¯¼è‡´æœåŠ¡ç«¯çš„å¤„ç†æ–¹å¼ä¸åŒã€‚</p>
<h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><p><code>JSONP</code>æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿›è¡Œè·¨åŸŸé€šä¿¡æ¯”è¾ƒå¸¸ç”¨çš„è§£å†³åŠæ³•ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ç®€å•ï¼Œå…¼å®¹è€å¼æµè§ˆå™¨ï¼Œå¹¶ä¸”å¯¹æœåŠ¡å™¨å½±å“å°ã€‚</p>
<p><code>JSONP</code>çš„å®ç°çš„å®ç°æ€æƒ³å¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼š</p>
<p>ç¬¬ä¸€ï¼šåœ¨ç½‘é¡µä¸­åŠ¨æ€æ·»åŠ ä¸€ä¸ª<code>script</code>æ ‡ç­¾ï¼Œé€šè¿‡<code>script</code>æ ‡ç­¾å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œåœ¨è¯·æ±‚ä¸­ä¼šæºå¸¦ä¸€ä¸ªè¯·æ±‚çš„<code>callback</code>å›è°ƒå‡½æ•°åã€‚</p>
<p>ç¬¬äºŒ:  æœåŠ¡å™¨åœ¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šè¿›è¡Œç›¸åº”å¤„ç†ï¼Œç„¶åå°†å‚æ•°æ”¾åœ¨<code>callback</code>å›è°ƒå‡½æ•°ä¸­å¯¹åº”çš„ä½ç½®ï¼Œå¹¶å°†<code>callback</code>å›è°ƒå‡½æ•°é€šè¿‡<code>json</code>æ ¼å¼è¿›è¡Œè¿”å›ã€‚</p>
<p>å‰ç«¯ä»£ç ï¼š</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btnLogin"</span>);</span></span><br><span class="line"><span class="javascript">        btn.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">          sendRequest();</span></span><br><span class="line"><span class="javascript">        });</span></span><br><span class="line"><span class="javascript">      };</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">sendRequest</span>(<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> userName = <span class="built_in">document</span>.getElementById(<span class="string">"userName"</span>).value;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯·æ±‚å‚æ•°ï¼Œå…¶ä¸­åŒ…å«å›è°ƒå‡½æ•°</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> param = <span class="string">"name="</span> + userName + <span class="string">"&amp;callback=successFn"</span>;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//è¯·æ±‚çš„url</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> url = <span class="string">"http://localhost:3000/getUserNameInfo?"</span> + param;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>);</span></span><br><span class="line"><span class="javascript">        script.src = url;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.body.appendChild(script);</span></span><br><span class="line"><span class="javascript">      }</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">successFn</span>(<span class="params">result</span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">"result="</span>, result);</span></span><br><span class="line"><span class="javascript">      }</span></span><br><span class="line"><span class="javascript">      <span class="comment">//   function sendRequest() {</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     var userName = document.getElementById("userName").value;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     //è¿™é‡Œä¸ºäº†ç®€å•ï¼Œæš‚æ—¶ä¸è€ƒè™‘æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     var xhr = new XMLHttpRequest();</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     let url = "http://localhost:3000/getUserNameInfo?name=" + userName;</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     xhr.open("get", url, true);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     xhr.send();</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     xhr.onreadystatechange = function () {</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//       if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//         console.log(xhr.responseText);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//       }</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//     };</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">//   }</span></span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·å:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"userName"</span> /&gt;</span> <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btnLogin"</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é‡æ–°æ”¹é€ äº†<code>sendRequest</code>æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­æ„å»ºäº†<code>param</code>å‚æ•°ï¼Œè¯¥å‚æ•°çš„å†…å®¹åŒ…æ‹¬äº†ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åä»¥åŠå›è°ƒå‡½æ•°åã€‚ä¸‹é¢æ„å»ºå¥½æ‰€è¦è¯·æ±‚çš„æœåŠ¡ç«¯çš„<code>url</code>åœ°å€ï¼Œå°†è¯¥<code>url</code>åœ°å€äº¤ç»™<code>script</code>æ ‡ç­¾çš„<code>src</code>å±æ€§ï¼Œé€šè¿‡è¯¥å±æ€§å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚</p>
<p>åŒæ—¶å®šä¹‰å›è°ƒå‡½æ•°<code>successFn</code>,æ¥æ”¶æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ã€‚å¯ä»¥å¯¹æœåŠ¡ç«¯è¿”å›çš„æ•°æ®åšè¿›ä¸€æ­¥çš„å¤„ç†ã€‚</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼šå›è°ƒå‡½æ•°å¿…é¡»è®¾ç½®ä¸ºå…¨å±€çš„å‡½æ•°ã€‚å› ä¸ºæœåŠ¡ç«¯è¿”å›å“åº”åï¼Œä¼šåœ¨å…¨å±€ç¯å¢ƒä¸‹æŸ¥æ‰¾å›è°ƒå‡½æ•°ã€‚</p>
<p>ä¸‹é¢çœ‹ä¸€ä¸‹æœåŠ¡ç«¯çš„å¤„ç†ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express();</span><br><span class="line"><span class="comment">// app.all('*', function (req, res) {</span></span><br><span class="line"><span class="comment">//     //è®¾ç½®å¯ä»¥æ¥æ”¶è¯·æ±‚çš„åŸŸå</span></span><br><span class="line"><span class="comment">//     res.header('Access-Control-Allow-Origin', 'http://127.0.0.1:5500');</span></span><br><span class="line"><span class="comment">//     res.header('Access-Control-Allow-Methods', 'GET, POST,PUT');</span></span><br><span class="line"><span class="comment">//     res.header('Access-Control-Allow-Headers', 'Content-Type');</span></span><br><span class="line"><span class="comment">//     res.header('Content-Type', 'application/json;charset=utf-8');</span></span><br><span class="line"><span class="comment">//     req.next();</span></span><br><span class="line"><span class="comment">// })</span></span><br><span class="line">app.get(<span class="string">'/getUserNameInfo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>{</span><br><span class="line">    <span class="keyword">var</span> userName = req.query.name;</span><br><span class="line">    <span class="comment">//è·å–è¯·æ±‚çš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="keyword">var</span> callbackFn = req.query.callback</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'callbackFn=='</span>,callbackFn)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'userName='</span>,userName)</span><br><span class="line">    <span class="keyword">var</span> result = {</span><br><span class="line">        <span class="attr">id</span>: <span class="number">10001</span>,</span><br><span class="line">        <span class="attr">userName</span>: userName,</span><br><span class="line">        <span class="attr">userAge</span>:<span class="number">21</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> data = <span class="built_in">JSON</span>.stringify(result);</span><br><span class="line">    res.writeHead(<span class="number">200</span>, { <span class="string">'Content-type'</span>: <span class="string">'application/json'</span> })</span><br><span class="line">    <span class="comment">//è¿”å›å€¼æ˜¯å¯¹å¯¹å›è°ƒå‡½æ•°çš„è°ƒç”¨</span></span><br><span class="line">    res.write(callbackFn+<span class="string">'('</span>+data+<span class="string">')'</span>)</span><br><span class="line">    <span class="comment">// res.write(data);</span></span><br><span class="line">    res.end()</span><br><span class="line">})</span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'æœåŠ¡ç«¯å¯åŠ¨....'</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æœåŠ¡çš„ä»£ç ä¸­ï¼Œéœ€è¦æ¥æ”¶å›è°ƒå‡½æ•°çš„åç§°ã€‚</p>
<p>åŒæ—¶è¿”å›çš„å†…å®¹ä¸­ï¼ŒåŒ…å«äº†å›è°ƒå‡½æ•°çš„åç§°ï¼Œä»¥åŠä¼ é€’ç»™è¯¥å›è°ƒå‡½æ•°çš„å…·ä½“æ•°æ®ã€‚</p>
<p>è¿™æ ·å½“å›è°ƒå‡½æ•°è¿”å›ç»™æµè§ˆå™¨åï¼Œæµè§ˆå™¨å¯ä»¥ä»å…¨å±€çš„ç¯å¢ƒä¸­æŸ¥æ‰¾è¯¥å›è°ƒå‡½æ•°ï¼Œå¹¶è¿›è¡Œæ‰§è¡Œã€‚</p>
<p>ä½¿ç”¨<code>JSONP</code>çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼š</p>
<p>ä¼˜ç‚¹ï¼š</p>
<p>ç®€å•ï¼Œä¸å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§çš„é—®é¢˜</p>
<p>ç¼ºç‚¹ï¼š</p>
<p>åªèƒ½å®ç°<code>get</code>è¯·æ±‚ï¼Œå¦‚æœæ˜¯<code>post</code>è¯·æ±‚åˆ™æ— æ³•è¿›è¡Œè·¨åŸŸçš„å¤„ç†ã€‚</p>
<h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><p>ä»è¿™ä¸€ç« èŠ‚å¼€å§‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…³äº<code>ES6</code>çš„é‡ç‚¹å†…å®¹ã€‚</p>
<h2 id="let-å…³é”®å­—"><a href="#let-å…³é”®å­—" class="headerlink" title="let å…³é”®å­—"></a>let å…³é”®å­—</h2><h3 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><p>ES6ä¸­æ–°å¢äº†letå‘½ä»¤ï¼Œç”¨äºå˜é‡çš„å£°æ˜ï¼ŒåŸºæœ¬çš„ç”¨æ³•å’Œvarç±»ä¼¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">       <span class="comment">// ä½¿ç”¨varä½¿ç”¨å£°æ˜å˜é‡</span></span><br><span class="line">       <span class="keyword">var</span> userName = <span class="string">"bxg"</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"userName="</span>, userName);</span><br><span class="line">       <span class="comment">// ä½¿ç”¨letå£°æ˜å˜é‡</span></span><br><span class="line">       <span class="keyword">let</span> userAge = <span class="number">18</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"userAge="</span>, userAge);</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œæˆ‘ä»¬å‘ç°varå’Œletçš„åŸºæœ¬ä½¿ç”¨æ˜¯ç±»ä¼¼çš„ï¼Œä½†æ˜¯ä¸¤è€…è¿˜æ˜¯æœ‰æœ¬è´¨çš„åŒºåˆ«ï¼Œæœ€å¤§çš„åŒºåˆ«å°±æ˜¯ï¼š</p>
<p>ä½¿ç”¨letæ‰€å£°æ˜çš„å˜é‡åªåœ¨letå‘½ä»¤æ‰€åœ¨çš„ä»£ç å—ä¸­æœ‰æ•ˆã€‚</p>
<h3 id="letä¸varåŒºåˆ«"><a href="#letä¸varåŒºåˆ«" class="headerlink" title="letä¸varåŒºåˆ«"></a>letä¸varåŒºåˆ«</h3><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªforå¾ªç¯çš„æ¡ˆä¾‹æ¥æ¼”ç¤ºä¸€ä¸‹letå’Œvarçš„åŒºåˆ«,å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) {</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"i="</span>, i)</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"last="</span>, i)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨å¾ªç¯ä½“ä¸­içš„å€¼è¾“å‡ºçš„æ˜¯1â€“10ï¼Œæœ€åiçš„å€¼ä¸º11.</p>
<p>ä½†æ˜¯å¦‚æœå°†varæ¢æˆletä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) {</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"i="</span>, i)</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"last="</span>, i)</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨å¾ªç¯ä½“ä¸­è¾“å‡ºçš„içš„å€¼è¿˜æ˜¯1â€“10,ä½†æ˜¯å¾ªç¯ä½“å¤–éƒ¨æ‰“å°içš„å€¼æ—¶å‡ºç°äº†é”™è¯¯ï¼Œé”™è¯¯å¦‚ä¸‹ï¼š</p>
<p><img src="/2020/09/25/JavaScript-1/let%E5%85%B3%E9%94%AE%E5%AD%97.png"></p>
<p><strong>å‡ºé”™çš„åŸå› æ˜¯ï¼šé€šè¿‡letå£°æ˜çš„å˜é‡åªåœ¨å…¶å¯¹åº”çš„ä»£ç å—ä¸­èµ·ä½œç”¨ï¼Œæ‰€è°“çš„ä»£ç å—æˆ‘ä»¬å¯ä»¥ç†è§£æˆå°±æ˜¯å¾ªç¯ä¸­çš„è¿™ä¸€å¯¹å¤§æ‹¬å·ã€‚</strong></p>
<p>å½“ç„¶åœ¨è¿™é‡Œæˆ‘ä»¬é€šè¿‡è¿™ä¸ªæç¤ºä¿¡æ¯ï¼Œå¯ä»¥å‘ç°åœ¨ES6ä¸­é»˜è®¤æ˜¯å¯åŠ¨äº†ä¸¥æ ¼æ¨¡å¼çš„ï¼Œä¸¥æ ¼æ¨¡å¼çš„ç‰¹å¾å°±æ˜¯ï¼šå˜é‡æœªå£°æ˜ä¸èƒ½ä½¿ç”¨ï¼Œå¦åˆ™æŠ¥çš„é”™è¯¯å°±æ˜¯å˜é‡æœªå®šä¹‰ã€‚</p>
<p>é‚£ä¹ˆåœ¨ES5ä¸­æ€æ ·å¼€å¯ä¸¥æ ¼æ¨¡å¼å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç çš„æœ€å¼€å§‹åŠ ä¸Šï¼š<strong>â€œuse strictâ€</strong></p>
<p>åˆšæ‰æˆ‘ä»¬è¯´åˆ°ï¼Œletå£°æ˜çš„å˜é‡åªåœ¨ä»£ç å—ä¸­èµ·ä½œç”¨ï¼Œå…¶å®å°±æ˜¯è¯´æ˜äº†é€šè¿‡letå£°æ˜çš„å˜é‡ä»…åœ¨<strong>å—çº§ä½œç”¨åŸŸ</strong>å†…æœ‰æ•ˆ</p>
<h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><h4 id="ä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸï¼Ÿ</h4><p>â€‹        åœ¨è¿™é‡Œå‘Šè¯‰å¤§å®¶ä¸€ä¸ªæœ€ç®€å•çš„æ–¹æ³•: <strong>æœ‰ä¸€æ®µä»£ç æ˜¯ç”¨å¤§æ‹¬å·åŒ…è£¹èµ·æ¥çš„ï¼Œé‚£ä¹ˆå¤§æ‹¬å·é‡Œé¢å°±æ˜¯ä¸€ä¸ªå—çº§ä½œç”¨åŸŸ</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æˆ‘ä»¬å†™çš„å¦‚ä¸‹çš„æ¡ˆä¾‹ä¸­ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) {</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"i="</span>, i)</span><br><span class="line">     }</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"last="</span>, i)</span><br></pre></td></tr></tbody></table></figure>

<p>i è¿™ä¸ªå˜é‡çš„ä½œç”¨åŸŸåªåœ¨è¿™ä¸€å¯¹å¤§æ‹¬å·å†…æœ‰æ•ˆï¼Œè¶…å‡ºè¿™ä¸€å¯¹å¤§æ‹¬å·å°±æ— æ•ˆäº†ã€‚</p>
<h4 id="ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸï¼Ÿ"></a>ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸï¼Ÿ</h4><p>â€‹        ES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œè¿™æ ·å°±ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œ</p>
<pre><code>     ç¬¬ä¸€ï¼šå†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡
</code></pre>
<p>â€‹                ä»£ç å¦‚ä¸‹ï¼š        </p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> temp = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"temp="</span>, temp)</span><br><span class="line">         <span class="keyword">if</span> (<span class="literal">false</span>) {</span><br><span class="line">             <span class="keyword">var</span> temp = <span class="string">"hello world"</span>;</span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line">     show();</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œè¾“å‡ºçš„ç»“æœä¸º <em>temp=undefined</em>  ï¼ŒåŸå› å°±æ˜¯å˜é‡ç”±äºæå‡å¯¼è‡´å†…å±‚çš„tempå˜é‡è¦†ç›–äº†å¤–å±‚çš„tempå˜é‡</p>
<p>â€‹        ç¬¬äºŒï¼š ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æˆä¸ºäº†å…¨å±€å˜é‡</p>
<p>â€‹        å…³äºè¿™ä¸€ç‚¹ï¼Œåœ¨å‰é¢çš„å¾ªç¯æ¡ˆä¾‹ä¸­ï¼Œå·²ç»èƒ½å¤Ÿçœ‹åˆ°ã€‚åœ¨è¿™é‡Œï¼Œå¯ä»¥å†çœ‹ä¸€ä¸‹    </p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) {</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"i="</span>, i)</span><br><span class="line">        }</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"last="</span>, i)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå˜é‡içš„ä½œç”¨åªæ˜¯ç”¨æ¥æ§åˆ¶å¾ªç¯ï¼Œä½†æ˜¯å¾ªç¯ç»“æŸåï¼Œå®ƒå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè€Œæ˜¯æˆäº†å…¨å±€çš„å˜é‡ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å¾ªç¯ç»“æŸåï¼Œè¯¥å˜é‡å°±è¦æ¶ˆå¤±ã€‚</p>
<p>ä»¥ä¸Šä¸¤ç‚¹å°±æ˜¯ï¼Œåœ¨æ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„æ—¶å€™ï¼Œå¸¦æ¥çš„é—®é¢˜ã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨letæ¥æ”¹é€ å‰é¢çš„æ¡ˆä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temp = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>{</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">"temp="</span>, temp)</span><br><span class="line">          <span class="keyword">if</span> (<span class="literal">false</span>) {</span><br><span class="line">              <span class="keyword">let</span> temp = <span class="string">"hello world"</span>;</span><br><span class="line">          }</span><br><span class="line"></span><br><span class="line">      }</span><br><span class="line">      show();</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥çŸ¥é“letä¸åƒvaré‚£æ ·ä¼šå‘ç”Ÿâ€œå˜é‡æå‡â€çš„ç°è±¡ã€‚</p>
<p>ç¬¬äºŒä¸ªé—®é¢˜å‰é¢å·²ç»è®²è§£è¿‡ã€‚</p>
<h4 id="ES6å—çº§ä½œç”¨åŸŸ"><a href="#ES6å—çº§ä½œç”¨åŸŸ" class="headerlink" title="ES6å—çº§ä½œç”¨åŸŸ"></a>ES6å—çº§ä½œç”¨åŸŸ</h4><p>letå®é™…ä¸Šä¸ºJavaScriptæ–°å¢äº†å—çº§ä½œç”¨åŸŸï¼Œä¸‹é¢å†çœ‹å‡ ä¸ªæ¡ˆä¾‹ï¼Œé€šè¿‡è¿™å‡ ä¸ªæ¡ˆä¾‹ï¼Œå·©å›ºä¸€ä¸‹å…³äºâ€œå—çº§ä½œç”¨åŸŸâ€è¿™ä¸ªçŸ¥è¯†ç‚¹çš„ç†è§£ï¼ŒåŒæ—¶è¿›ä¸€æ­¥ä½“ä¼šå—çº§ä½œç”¨åŸŸå¸¦æ¥çš„å¥½å¤„</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">let</span> num = <span class="number">5</span>;</span><br><span class="line">          <span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">              <span class="keyword">let</span> num = <span class="number">10</span>;</span><br><span class="line">          }</span><br><span class="line">          <span class="built_in">console</span>.log(num)</span><br><span class="line">      }</span><br><span class="line">      test()</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„å‡½æ•°ä¸­æœ‰ä¸¤ä¸ªä»£ç å—ï¼Œéƒ½å£°æ˜äº†å˜é‡num,ä½†æ˜¯è¾“å‡ºçš„ç»“æœæ˜¯5.è¿™è¡¨ç¤ºå¤–å±‚çš„ä»£ç ä¸å—å†…å±‚ä»£ç å—çš„å½±å“ã€‚å¦‚æœä½¿ç”¨varå®šä¹‰å˜é‡num,æœ€åçš„è¾“å‡ºçš„å€¼å°±æ˜¯10.</p>
<p>è¯´ä¸€ä¸‹ï¼Œä¸‹é¢ç¨‹åºçš„è¾“å‡ºç»“æœæ˜¯å¤šå°‘ï¼Ÿ</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">            <span class="keyword">let</span> b = <span class="number">20</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(b)</span><br><span class="line">            <span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">                <span class="keyword">let</span> c = <span class="number">30</span>;</span><br><span class="line">            }</span><br><span class="line">            <span class="built_in">console</span>.log(c);</span><br><span class="line">        }</span><br></pre></td></tr></tbody></table></figure>

<p>è¾“å‡ºçš„ç»“æœæ˜¯ï¼šbçš„å€¼æ˜¯20ï¼Œåœ¨è¾“å‡ºcçš„æ—¶å€™ï¼Œå‡ºç°äº†é”™è¯¯ã€‚</p>
<p>å¯¼è‡´çš„åŸå› ï¼Œä¸¤ä¸ªifå°±æ˜¯ä¸¤ä¸ªå—çº§ä½œç”¨åŸŸï¼Œcè¿™ä¸ªå˜é‡åœ¨ç¬¬äºŒä¸ªifä¸­ï¼Œä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªå—çº§ä½œç”¨åŸŸä¸­ï¼Œæ‰€ä»¥åœ¨å¤–éƒ¨å—çº§ä½œç”¨åŸŸä¸­æ— æ³•è·å–åˆ°å˜é‡c.</p>
<p> å—çº§ä½œç”¨åŸŸçš„å‡ºç°ï¼Œå¸¦æ¥äº†ä¸€ä¸ªå¥½å¤„ä»¥å‰è·å¾—å¹¿æ³›ä½¿ç”¨çš„ç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°ä¸å†éœ€è¦äº†ã€‚</p>
<p>ä¸‹é¢é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="function"><span class="keyword">function</span> <span class="title">text</span>(<span class="params"></span>) </span>{</span><br><span class="line">         <span class="keyword">var</span> temp = <span class="string">'hello world'</span>;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'temp='</span>, temp);</span><br><span class="line">     })()</span><br></pre></td></tr></tbody></table></figure>

<p>åŒ¿åå‡½æ•°çš„å¥½å¤„ï¼šé€šè¿‡å®šä¹‰ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªâ€œç§æœ‰â€çš„ç©ºé—´ï¼Œè¯¥ç©ºé—´å†…çš„å˜é‡å’Œæ–¹æ³•ï¼Œä¸ä¼šç ´åæ±¡æŸ“å…¨å±€çš„ç©ºé—´ ã€‚</p>
<p>ä½†æ˜¯ä»¥ä¸Šçš„å†™æ³•æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæœ‰äº†â€œå—çº§ä½œç”¨åŸŸâ€åå°±ç¼–çš„æ¯”è¾ƒç®€å•äº†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">       <span class="keyword">let</span> temp = <span class="string">'hello world'</span>;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'temp='</span>, temp);</span><br><span class="line">   }</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„å†™æ³•ï¼Œä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªâ€œç§æœ‰â€çš„ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸã€‚åŒæ ·åœ¨è¯¥å°é—­çš„ä½œç”¨åŸŸä¸­çš„å˜é‡å’Œæ–¹æ³•ï¼Œä¸ä¼šç ´åæ±¡æŸ“å…¨å±€çš„ç©ºé—´ã€‚</p>
<p>ä½†æ˜¯ä»¥ä¸Šå†™æ³•æ¯”ç«‹å³æ‰§è¡ŒåŒ¿åå‡½æ•°ç®€å•å¾ˆå¤šã€‚</p>
<p>ç°åœ¨é—®ä½ ä¸€ä¸ªé—®é¢˜ï¼Œä»¥ä¸‹ä»£ç æ˜¯å¦å¯ä»¥ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temp = <span class="string">'ä½ å¥½'</span>;</span><br><span class="line">       {</span><br><span class="line">            <span class="keyword">let</span> temp = <span class="string">'hello world'</span>;</span><br><span class="line">       }</span><br></pre></td></tr></tbody></table></figure>

<p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºè¿™é‡Œæœ‰ä¸¤ä¸ªâ€œå—çº§ä½œç”¨åŸŸâ€ï¼Œä¸€ä¸ªæ˜¯å¤–å±‚ï¼Œä¸€ä¸ªæ˜¯å†…å±‚ï¼Œäº’ä¸å½±å“ã€‚</p>
<p>ä½†æ˜¯ï¼Œç°åœ¨ä¿®æ”¹æˆå¦‚ä¸‹çš„å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> temp = <span class="string">'ä½ å¥½'</span>;</span><br><span class="line">   {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'temp='</span>, temp);</span><br><span class="line">      <span class="keyword">let</span> temp = <span class="string">'hello world'</span>;</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>

<p>å‡ºé”™äº†ï¼Œä¹Ÿæ˜¯å˜é‡æœªå®šä¹‰çš„é”™è¯¯ï¼Œé€ æˆé”™è¯¯çš„åŸå› è¿˜æ˜¯å‰é¢æ‰€è®²è§£çš„let ä¸å­˜åœ¨â€œå˜é‡æå‡â€ã€‚</p>
<p>å—çº§ä½œç”¨åŸŸè¿˜å¸¦æ¥äº†å¦å¤–ä¸€ä¸ªå¥½å¤„ï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹çš„æ¡ˆä¾‹æ¥ä½“ä¼šä¸€ä¸‹ï¼š</p>
<p>è¯¥æ¡ˆä¾‹å¸Œæœ›ä¸åŒæ—¶é—´æ‰“å°å˜é‡içš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'i='</span>, i);</span><br><span class="line">          }, <span class="number">1000</span>)</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure>

<p>é‚£ä¹ˆä¸Šé¢ç¨‹åºçš„æ‰§è¡Œç»“æœæ˜¯å¤šå°‘ï¼Ÿ</p>
<p>å¯¹äº†ï¼Œè¾“å‡ºçš„éƒ½æ˜¯ i=3</p>
<p>é€ æˆçš„åŸå› å°±æ˜¯iä¸ºå…¨å±€çš„ã€‚</p>
<p>é‚£ä¹ˆå¯ä»¥æ€æ ·è§£å†³å‘¢ï¼Ÿç›¸ä¿¡è¿™ä¸€ç‚¹å¯¹ä½ æ¥è¯´å¾ˆç®€å•ï¼Œåœ¨å‰é¢ES5è¯¾ç¨‹ä¸­ä¹Ÿè®²è¿‡ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">          (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>{</span><br><span class="line">              <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">                  <span class="built_in">console</span>.log(<span class="string">'i='</span>, i);</span><br><span class="line">              }, <span class="number">1000</span>)</span><br><span class="line">          })(i)</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç å…¶å®å°±æ˜¯é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆäº†å‡½æ•°çš„ä½œç”¨åŸŸ,iå˜é‡å°±ä¸æ˜¯å…¨å±€çš„äº†ã€‚</p>
<p>è¿™ç§ä½¿ç”¨æ–¹å¼å¾ˆéº»çƒ¦ï¼Œæœ‰äº†letå‘½ä»¤åï¼Œå°±å˜çš„éå¸¸çš„ç®€å•äº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) {</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'i='</span>, i);</span><br><span class="line">          }, <span class="number">1000</span>)</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<h3 id="letå‘½ä»¤æ³¨æ„äº‹é¡¹"><a href="#letå‘½ä»¤æ³¨æ„äº‹é¡¹" class="headerlink" title="letå‘½ä»¤æ³¨æ„äº‹é¡¹"></a>letå‘½ä»¤æ³¨æ„äº‹é¡¹</h3><h4 id="ä¸å­˜åœ¨å˜é‡æå‡"><a href="#ä¸å­˜åœ¨å˜é‡æå‡" class="headerlink" title="ä¸å­˜åœ¨å˜é‡æå‡"></a>ä¸å­˜åœ¨å˜é‡æå‡</h4><p>letä¸åƒvaré‚£æ ·ä¼šå‘ç”Ÿâ€œå˜é‡æå‡â€ç°è±¡ã€‚æ‰€ä»¥ï¼Œå˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚</p>
<p>å…³äºè¿™ä¸€ç‚¹ï¼Œå‰é¢çš„è¯¾ç¨‹ä¹Ÿå¤šæ¬¡å¼ºè°ƒã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(num);</span><br><span class="line"><span class="keyword">let</span> num = <span class="number">2</span>;</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æš‚æ—¶æ€§æ­»åŒº"><a href="#æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h4><p>ä»€ä¹ˆæ˜¯æš‚æ—¶æ€§æ­»åŒºå‘¢ï¼Ÿ</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line">      <span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">          num = <span class="number">666</span>;</span><br><span class="line">          <span class="keyword">let</span> num;</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸­å­˜åœ¨å…¨å±€çš„å˜é‡num,ä½†æ˜¯åœ¨å—çº§ä½œç”¨åŸŸå†…ä½¿ç”¨äº†letåˆå£°æ˜äº†ä¸€ä¸ªå±€éƒ¨çš„å˜é‡num,å¯¼è‡´åé¢çš„numç»‘å®šåˆ°è¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨letå£°æ˜å˜é‡å‰ï¼Œå¯¹numè¿›è¡Œèµ‹å€¼æ“ä½œä¼šå‡ºé”™ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œåªè¦åœ¨å—çº§ä½œç”¨åŸŸä¸­å­˜åœ¨letå‘½ä»¤ï¼Œå®ƒæ‰€å£°æ˜çš„å˜é‡å°±è¢«â€œç»‘å®šâ€åœ¨è¿™ä¸ªåŒºåŸŸä¸­ï¼Œä¸ä¼šå†å—å¤–éƒ¨çš„å½±å“ã€‚</p>
<p>å…³äºè¿™ä¸€ç‚¹ï¼ŒES6æ˜ç¡®è§„å®šï¼Œ<strong>å¦‚æœåœ¨åŒºåŸŸä¸­å­˜åœ¨letå‘½ä»¤ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªåŒºåŸŸä¸­é€šè¿‡letå‘½ä»¤æ‰€å£°æ˜çš„å˜é‡ä»ä¸€å¼€å§‹å°±ç”Ÿæˆäº†ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸï¼Œåªè¦åœ¨å£°æ˜å˜é‡å‰ä½¿ç”¨ï¼Œå°±ä¼šå‡ºé”™</strong>ã€‚</p>
<p>æ‰€ä»¥è¯´ï¼Œ<strong>æ‰€è°“çš„â€œæš‚æ—¶æ€§æ­»åŒºâ€æŒ‡çš„å°±æ˜¯ï¼Œåœ¨ä»£ç å—å†…ï¼Œä½¿ç”¨letå‘½ä»¤å£°æ˜å˜é‡ä¹‹å‰ï¼Œè¯¥å˜é‡éƒ½æ˜¯ä¸å¯ç”¨çš„ã€‚</strong></p>
<h4 id="ä¸å…è®¸é‡å¤å£°æ˜"><a href="#ä¸å…è®¸é‡å¤å£°æ˜" class="headerlink" title="ä¸å…è®¸é‡å¤å£°æ˜"></a>ä¸å…è®¸é‡å¤å£°æ˜</h4><p>let ä¸å…è®¸åœ¨ç›¸åŒçš„ä½œç”¨åŸŸå†…é‡å¤å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œ</p>
<p>å¦‚æœä½¿ç”¨varå£°æ˜å˜é‡æ˜¯æ²¡æœ‰è¿™ä¸ªé™åˆ¶çš„ã€‚</p>
<p>å¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="keyword">var</span> num = <span class="number">12</span>;</span><br><span class="line">            <span class="keyword">var</span> num = <span class="number">20</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(num)</span><br><span class="line">        }</span><br><span class="line">        test()</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå°†varæ¢æˆlet,å°±ä¼šå‡ºé”™ã€‚å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">           <span class="keyword">let</span> num = <span class="number">12</span>;</span><br><span class="line">           <span class="keyword">let</span> num = <span class="number">20</span>;</span><br><span class="line">           <span class="built_in">console</span>.log(num)</span><br><span class="line">       }</span><br><span class="line">       test()</span><br></pre></td></tr></tbody></table></figure>

<p>å½“ç„¶ï¼Œä»¥ä¸‹çš„å†™æ³•ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">          <span class="keyword">var</span> num = <span class="number">12</span>;</span><br><span class="line">          <span class="keyword">let</span> num = <span class="number">20</span>;</span><br><span class="line">          <span class="built_in">console</span>.log(num)</span><br><span class="line">      }</span><br><span class="line">      test()</span><br></pre></td></tr></tbody></table></figure>

<p>åŒæ—¶ï¼Œè¿˜éœ€è¦æ³¨æ„ï¼Œä¸èƒ½åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ä¸å‚æ•°åŒåï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">num</span>) </span>{</span><br><span class="line">         <span class="keyword">let</span> num = <span class="number">20</span>;</span><br><span class="line">         <span class="built_in">console</span>.log(num)</span><br><span class="line">     }</span><br><span class="line">     test(<span class="number">30</span>)</span><br></pre></td></tr></tbody></table></figure>

<h2 id="constå‘½ä»¤"><a href="#constå‘½ä»¤" class="headerlink" title="constå‘½ä»¤"></a>constå‘½ä»¤</h2><h3 id="åŸºæœ¬ç”¨æ³•-1"><a href="#åŸºæœ¬ç”¨æ³•-1" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h3><p>constç”¨æ¥å£°æ˜å¸¸é‡ï¼Œå¸¸é‡æŒ‡çš„å°±æ˜¯ä¸€æ—¦å£°æ˜ï¼Œå…¶å€¼æ˜¯ä¸èƒ½è¢«ä¿®æ”¹çš„ã€‚</p>
<p>è¿™ä¸€ç‚¹ä¸å˜é‡æ˜¯ä¸ä¸€æ ·çš„ï¼Œè€Œå˜é‡æŒ‡çš„æ˜¯åœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œæ˜¯å¯ä»¥æ”¹å˜çš„é‡ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">12</span>;</span><br><span class="line">      num = <span class="number">30</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(num)</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„ä»£ç è¾“å‡ºç»“æœä¸º:30</p>
<p>ä½†æ˜¯é€šè¿‡constå‘½ä»¤å£°æ˜çš„å¸¸é‡ï¼Œå…¶å€¼æ˜¯ä¸å…è®¸è¢«ä¿®æ”¹çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.14</span>;</span><br><span class="line">PI = <span class="number">3.15</span>;</span><br><span class="line"><span class="built_in">console</span>.log(PI)</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™ã€‚</p>
<p>åœ¨ä»¥åçš„ç¼–ç¨‹ä¸­ï¼Œå¦‚æœç¡®å®šæŸä¸ªå€¼åæœŸä¸éœ€è¦æ›´æ”¹ï¼Œå°±å¯ä»¥å®šä¹‰æˆå¸¸é‡ï¼Œä¾‹å¦‚:PI,å®ƒçš„å–å€¼å°±æ˜¯3.14ï¼Œåé¢ä¸ä¼šæ”¹å˜ã€‚æ‰€ä»¥å¯ä»¥å°†å…¶å®šä¹‰ä¸ºå¸¸é‡ã€‚</p>
<h3 id="constå‘½ä»¤æ³¨æ„äº‹é¡¹"><a href="#constå‘½ä»¤æ³¨æ„äº‹é¡¹" class="headerlink" title="constå‘½ä»¤æ³¨æ„äº‹é¡¹"></a>constå‘½ä»¤æ³¨æ„äº‹é¡¹</h3><h4 id="ä¸å­˜åœ¨å¸¸é‡æå‡"><a href="#ä¸å­˜åœ¨å¸¸é‡æå‡" class="headerlink" title="ä¸å­˜åœ¨å¸¸é‡æå‡"></a>ä¸å­˜åœ¨å¸¸é‡æå‡</h4><p>ä»¥ä¸‹ä»£ç æ˜¯é”™è¯¯çš„</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(PI);</span><br><span class="line"><span class="keyword">const</span> PI = <span class="number">3.14</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="åªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ"><a href="#åªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ" class="headerlink" title="åªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ"></a>åªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ</h4><p>constå‘½ä»¤çš„ä½œç”¨åŸŸä¸letå‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">    <span class="keyword">const</span> PI = <span class="number">3.14</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(PI);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™</p>
<h4 id="æš‚æ—¶æ€§æ­»åŒº-1"><a href="#æš‚æ—¶æ€§æ­»åŒº-1" class="headerlink" title="æš‚æ—¶æ€§æ­»åŒº"></a>æš‚æ—¶æ€§æ­»åŒº</h4><p>constå‘½ä»¤ä¸letæŒ‡ä»¤ä¸€æ ·ï¼Œéƒ½æœ‰æš‚æ—¶æ€§æ­»åŒºçš„é—®é¢˜ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) {</span><br><span class="line">    <span class="built_in">console</span>.log(PI);</span><br><span class="line">    <span class="keyword">const</span> PI = <span class="number">3.14</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™</p>
<h4 id="ä¸å…è®¸é‡å¤å£°æ˜-1"><a href="#ä¸å…è®¸é‡å¤å£°æ˜-1" class="headerlink" title="ä¸å…è®¸é‡å¤å£°æ˜"></a>ä¸å…è®¸é‡å¤å£°æ˜</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> PI = <span class="number">3.14</span>;</span><br><span class="line"><span class="keyword">const</span> PI = <span class="number">3.14</span>;</span><br><span class="line"><span class="built_in">console</span>.log(PI);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™</p>
<h4 id="å¸¸é‡å£°æ˜å¿…é¡»èµ‹å€¼"><a href="#å¸¸é‡å£°æ˜å¿…é¡»èµ‹å€¼" class="headerlink" title="å¸¸é‡å£°æ˜å¿…é¡»èµ‹å€¼"></a>å¸¸é‡å£°æ˜å¿…é¡»èµ‹å€¼</h4><p>ä½¿ç”¨constå£°æ˜å¸¸é‡ï¼Œå¿…é¡»ç«‹å³è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ï¼Œä¸èƒ½åé¢è¿›è¡Œèµ‹å€¼ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI;</span><br><span class="line">PI = <span class="number">3.14</span>;</span><br><span class="line"><span class="built_in">console</span>.log(PI);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™</p>
<h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h2><h3 id="æ•°ç»„è§£æ„èµ‹å€¼åŸºæœ¬ç”¨æ³•"><a href="#æ•°ç»„è§£æ„èµ‹å€¼åŸºæœ¬ç”¨æ³•" class="headerlink" title="æ•°ç»„è§£æ„èµ‹å€¼åŸºæœ¬ç”¨æ³•"></a>æ•°ç»„è§£æ„èµ‹å€¼åŸºæœ¬ç”¨æ³•</h3><p>æ‰€è°“çš„è§£æ„èµ‹å€¼ï¼Œå°±æ˜¯ä»æ•°ç»„æˆ–è€…æ˜¯å¯¹è±¡ä¸­æå–å‡ºå¯¹åº”çš„å€¼ï¼Œç„¶åå°†æå–çš„å€¼èµ‹å€¼ç»™å˜é‡ã€‚</p>
<p>é¦–å…ˆé€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ¥çœ‹ä¸€ä¸‹ä»¥å‰æ˜¯æ€æ ·å®ç°çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">let</span> num1 = arr[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> num2 = arr[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">let</span> num3 = arr[<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(num1, num2, num3);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªæ•°ç»„arr,å¹¶ä¸”è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œä¸‹é¢ç´§è·Ÿç€é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼è·å–æ•°ç»„ä¸­çš„å€¼ï¼Œç„¶åèµ‹å€¼ç»™å¯¹åº”çš„å˜é‡ã€‚</p>
<p>è™½ç„¶è¿™ç§æ–¹å¼å¯ä»¥å®ç°ï¼Œä½†æ˜¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒéº»çƒ¦ï¼ŒES6ä¸­æä¾›äº†è§£æ„èµ‹å€¼çš„æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> [num1, num2, num3] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2, num3);</span><br></pre></td></tr></tbody></table></figure>

<p>å°†arræ•°ç»„ä¸­çš„å€¼å–å‡ºæ¥åˆ†åˆ«èµ‹å€¼ç»™äº†ï¼Œnum1,num2å’Œnum3.</p>
<p>é€šè¿‡è§‚å¯Ÿï¼Œå‘ç°è§£æ„èµ‹å€¼ç­‰å·ä¸¤ä¾§çš„ç»“æ„æ˜¯ç±»ä¼¼ã€‚</p>
<p>ä¸‹é¢å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [{</span><br><span class="line">               <span class="attr">userName</span>: <span class="string">'zs'</span>,</span><br><span class="line">               <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">           },</span><br><span class="line">           [<span class="number">1</span>, <span class="number">3</span>], <span class="number">6</span></span><br><span class="line">       ];</span><br><span class="line">       <span class="keyword">let</span> [{</span><br><span class="line">               userName,</span><br><span class="line">               age</span><br><span class="line">           },</span><br><span class="line">           [num1, num2], num3</span><br><span class="line">       ] = arr;</span><br><span class="line">       <span class="built_in">console</span>.log(userName, age, num1, num2, num3);</span><br></pre></td></tr></tbody></table></figure>

<p>å®šä¹‰äº†ä¸€ä¸ªarræ•°ç»„ï¼Œå¹¶ä¸”è¿›è¡Œäº†åˆå§‹åŒ–ï¼Œarræ•°ç»„ä¸­æœ‰å¯¹è±¡ï¼Œæ•°ç»„å’Œæ•°å€¼ã€‚</p>
<p>ç°åœ¨é€šè¿‡è§£æ„èµ‹å€¼çš„æ–¹å¼ï¼Œå°†æ•°ç»„ä¸­çš„å€¼å–å‡ºæ¥èµ‹ç»™å¯¹åº”çš„å˜é‡ï¼Œæ‰€ä»¥ç­‰å·å·¦ä¾§çš„ç»“æ„å’Œæ•°ç»„arrçš„ç»“æ„æ˜¯ä¸€æ ·çš„ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä¸æƒ³è·å–å…·ä½“çš„å€¼ï¼Œè€Œæ˜¯è·å–arræ•°ç»„å­˜å‚¨çš„jsonå¯¹è±¡ï¼Œæ•°ç»„ï¼Œé‚£ä¹ˆåº”è¯¥æ€æ ·å†™å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [{</span><br><span class="line">              <span class="attr">userName</span>: <span class="string">'zs'</span>,</span><br><span class="line">              <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">          },</span><br><span class="line">          [<span class="number">1</span>, <span class="number">3</span>], <span class="number">6</span></span><br><span class="line">      ];</span><br><span class="line">      <span class="keyword">let</span> [jsonResult, array, num] = arr;</span><br><span class="line">      <span class="built_in">console</span>.log(jsonResult, array, num);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><h5 id="å¦‚æœè§£æä¸æˆåŠŸï¼Œå¯¹åº”çš„å€¼ä¼šä¸ºundefined"><a href="#å¦‚æœè§£æä¸æˆåŠŸï¼Œå¯¹åº”çš„å€¼ä¼šä¸ºundefined" class="headerlink" title="å¦‚æœè§£æä¸æˆåŠŸï¼Œå¯¹åº”çš„å€¼ä¼šä¸ºundefined."></a>å¦‚æœè§£æä¸æˆåŠŸï¼Œå¯¹åº”çš„å€¼ä¼šä¸ºundefined.</h5><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [num1, num2] = [<span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„ä»£ç ä¸­ï¼Œnum1çš„å€¼ä¸º6ï¼Œnum2çš„å€¼ä¸ºundefined.</p>
<h5 id="ä¸å®Œå…¨è§£æ„çš„æƒ…å†µ"><a href="#ä¸å®Œå…¨è§£æ„çš„æƒ…å†µ" class="headerlink" title="ä¸å®Œå…¨è§£æ„çš„æƒ…å†µ"></a>ä¸å®Œå…¨è§£æ„çš„æƒ…å†µ</h5><p>æ‰€è°“çš„ä¸å®Œå…¨è§£æ„ï¼Œè¡¨ç¤ºç­‰å·å·¦è¾¹åªåŒ¹é…å³è¾¹æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [num1, num2] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç çš„æ‰§è¡Œç»“æœï¼šnum1=1,num2 = 2</p>
<p>ä¹Ÿå°±æ˜¯åªå–äº†æ•°ç»„ä¸­çš„å‰ä¸¤ä¸ªå€¼ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">     <span class="comment">// å¦‚æœåªå–ç¬¬ä¸€ä¸ªå€¼å‘¢ï¼Ÿ</span></span><br><span class="line">    <span class="keyword">let</span> [num1] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(num1);</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åªå–ç¬¬äºŒä¸ªå€¼å‘¢ï¼Ÿ</span></span><br><span class="line"><span class="keyword">let</span> [, num, ] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªå–ç¬¬ä¸‰ä¸ªå€¼å‘¢ï¼Ÿ</span></span><br><span class="line"><span class="keyword">let</span> [, , num] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(num);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¯¹è±¡è§£æ„èµ‹å€¼åŸºæœ¬ä½¿ç”¨"><a href="#å¯¹è±¡è§£æ„èµ‹å€¼åŸºæœ¬ä½¿ç”¨" class="headerlink" title="å¯¹è±¡è§£æ„èµ‹å€¼åŸºæœ¬ä½¿ç”¨"></a>å¯¹è±¡è§£æ„èµ‹å€¼åŸºæœ¬ä½¿ç”¨</h3><p>è§£æ„ä¸ä»…å¯ä»¥ç”¨äºæ•°ç»„ï¼Œè¿˜å¯ä»¥ç”¨äºå¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> {</span><br><span class="line">         userName,</span><br><span class="line">         userAge</span><br><span class="line">     } = {</span><br><span class="line">         <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">         <span class="attr">userAge</span>: <span class="number">20</span></span><br><span class="line">     };</span><br><span class="line">     <span class="built_in">console</span>.log(userName, userAge);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨å¯¹ å¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„ï¼šå˜é‡åå¿…é¡»ä¸å±æ€§çš„åç§°ä¸€è‡´ï¼Œæ‰èƒ½å¤Ÿå–åˆ°æ­£ç¡®çš„å€¼ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    name,</span><br><span class="line">    age</span><br><span class="line">} = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">    <span class="attr">userAge</span>: <span class="number">20</span></span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></tbody></table></figure>

<p>è¾“å‡ºçš„ç»“æœéƒ½æ˜¯undefined.</p>
<p>é‚£ä¹ˆåº”è¯¥æ€æ ·è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> {</span><br><span class="line">          <span class="attr">userName</span>: name,</span><br><span class="line">          <span class="attr">userAge</span>: age</span><br><span class="line">      } = {</span><br><span class="line">          <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">          <span class="attr">userAge</span>: <span class="number">20</span></span><br><span class="line">      }</span><br><span class="line">      <span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç è§£å†³äº†å¯¹åº”çš„é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼çš„åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><strong>å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹å€¼ç»™å¯¹åº”çš„å˜é‡ã€‚</strong></p>
<p>æŠŠä¸Šé¢çš„ä»£ç ï¼Œæ”¹é€ æˆå¦‚ä¸‹çš„å½¢å¼ï¼Œæ›´å®¹æ˜“ç†è§£ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">    <span class="attr">userAge</span>: <span class="number">21</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    <span class="attr">userName</span>: name,</span><br><span class="line">    <span class="attr">userAge</span>: age</span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name, age)</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæŒ‰ç…§ES5çš„æ–¹å¼ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = obj.userName</span><br><span class="line"><span class="keyword">let</span> age = obj.userAge</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å¯¹è±¡è§£æ„èµ‹å€¼æ³¨æ„äº‹é¡¹"><a href="#å¯¹è±¡è§£æ„èµ‹å€¼æ³¨æ„äº‹é¡¹" class="headerlink" title="å¯¹è±¡è§£æ„èµ‹å€¼æ³¨æ„äº‹é¡¹"></a>å¯¹è±¡è§£æ„èµ‹å€¼æ³¨æ„äº‹é¡¹</h3><h4 id="é»˜è®¤è§£æ„"><a href="#é»˜è®¤è§£æ„" class="headerlink" title="é»˜è®¤è§£æ„"></a>é»˜è®¤è§£æ„</h4><p>æ‰€è°“çš„é»˜è®¤è§£æ„ï¼ŒæŒ‡çš„æ˜¯å–å‡ºæ¥å€¼å°±ç”¨å–å‡ºæ¥çš„å€¼ï¼Œå¦‚æœå–ä¸å‡ºæ¥å°±ç”¨é»˜è®¤çš„å€¼ã€‚</p>
<p>æ¼”ç¤ºé»˜è®¤è§£æ„ä¹‹å‰ï¼Œå…ˆæ¥çœ‹å¦‚ä¸‹çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    name,</span><br><span class="line">    age</span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></tbody></table></figure>

<p>ä½ æƒ³ä¸€ä¸‹è¾“å‡ºç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>è¾“å‡ºçš„ç»“æœæ˜¯ï¼šzs  undefined</p>
<p>ä¹Ÿå°±æ˜¯nameå˜é‡çš„å€¼ä¸º:â€˜zsâ€™, ageå˜é‡çš„å€¼ä¸º:â€™undefinedâ€™.</p>
<p>ç”±äºæ²¡æœ‰ç»™ageå˜é‡èµ‹å€¼æ‰€ä»¥è¯¥å˜é‡çš„å€¼ä¸ºâ€™undefinedâ€™.</p>
<p>ç°åœ¨ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢çš„ç¨‹åº</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    name,</span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></tbody></table></figure>

<p>ç°åœ¨ç»™ageè¿™ä¸ªå˜é‡èµ‹äº†ä¸€ä¸ªé»˜è®¤å€¼ä¸º20ï¼Œæ‰€ä»¥è¾“å‡ºçš„ç»“æœä¸ºï¼šzs 20</p>
<p>è¿™ä¹Ÿå°±æ˜¯åˆšæ‰æ‰€è¯´åˆ°çš„é»˜è®¤è§£æ„ï¼Œä¹Ÿå°±æ˜¯å–å‡ºæ¥å€¼å°±ç”¨å–å‡ºæ¥çš„å€¼ï¼Œå¦‚æœå–ä¸å‡ºæ¥å°±ç”¨é»˜è®¤çš„å€¼ã€‚</p>
<p>ç°åœ¨å†é—®ä½ ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåœ¨å¯¹åº”ä¸­æœ‰ageå±æ€§ï¼Œé‚£ä¹ˆå¯¹åº”çš„ç­‰å·å·¦ä¾§çš„ageè¿™ä¸ªå˜é‡çš„å€¼æ˜¯å¤šå°‘å‘¢?</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">26</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    name,</span><br><span class="line">    age = <span class="number">20</span></span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(name, age);</span><br></pre></td></tr></tbody></table></figure>

<p>è¾“å‡ºçš„ç»“æœä¸º: zs  26</p>
<p>è¿™å°±æ˜¯ï¼Œå–å‡ºæ¥å€¼å°±ç”¨å–å‡ºæ¥çš„ï¼Œå–ä¸å‡ºæ¥å°±ç”¨é»˜è®¤å€¼ã€‚</p>
<h4 id="åµŒå¥—ç»“æ„å¯¹è±¡çš„è§£æ„"><a href="#åµŒå¥—ç»“æ„å¯¹è±¡çš„è§£æ„" class="headerlink" title="åµŒå¥—ç»“æ„å¯¹è±¡çš„è§£æ„"></a>åµŒå¥—ç»“æ„å¯¹è±¡çš„è§£æ„</h4><p>è§£æ„ä¹Ÿå¯ä»¥ç”¨äºå¯¹åµŒå¥—ç»“æ„çš„å¯¹è±¡ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">arr</span>: [</span><br><span class="line">        <span class="string">"Hello"</span>, {</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">'World'</span></span><br><span class="line">        }</span><br><span class="line">    ]</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    <span class="attr">arr</span>: [str, {</span><br><span class="line">        msg</span><br><span class="line">    }]</span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(str, msg);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­è¦æ³¨æ„çš„æ˜¯ï¼šarråªæ˜¯ä¸€ç§æ ‡å¿—æˆ–è€…æ˜¯ä¸€ç§æ¨¡å¼ï¼Œä¸æ˜¯å˜é‡ï¼Œå› æ­¤ä¸ä¼šè¢«èµ‹å€¼ã€‚</p>
<p>å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹:</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">local</span>: {</span><br><span class="line">        <span class="attr">start</span>: {</span><br><span class="line">            <span class="attr">x</span>: <span class="number">20</span>,</span><br><span class="line">            <span class="attr">y</span>: <span class="number">30</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    <span class="attr">local</span>: {</span><br><span class="line">        <span class="attr">start</span>: {</span><br><span class="line">            x,</span><br><span class="line">            y</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">} = obj;</span><br><span class="line"><span class="built_in">console</span>.log(x, y);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¯¥æ¡ˆä¾‹ä¸­åˆ›å»ºäº†ä¸€ä¸ªobjå¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­åˆåµŒå¥—äº†ä¸€ä¸ªlocalå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªè¡¨ç¤ºä½ç½®çš„åæ ‡å¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­åˆåµŒå¥—äº†ä¸€ä¸ªstartå¯¹è±¡ï¼Œstartå¯¹è±¡å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªä½ç½®çš„èµ·å§‹åæ ‡ç‚¹ï¼Œæ‰€ä»¥åœ¨è¯¥å¯¹è±¡ä¸­æœ‰ä¸¤ä¸ªå±æ€§ä¸ºx,yï¼Œåˆ†åˆ«è¡¨ç¤ºæ¨ªåæ ‡å’Œçºµåæ ‡ã€‚</p>
<p>æ‰€ä»¥è¯´objå¯¹è±¡æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„åµŒå¥—ç»“æ„çš„å¯¹è±¡ï¼Œç°åœ¨å¯¹è¯¥å¯¹è±¡è¿›è¡Œè§£æ„ï¼Œé‚£ä¹ˆåœ¨ç­‰å·çš„å·¦ä¾§çš„ç»“æ„è¦å’Œobjå¯¹è±¡çš„ç»“æ„ä¸€è‡´ï¼Œæœ€åè¾“å‡ºæ‰“å°x,yçš„å€¼ã€‚</p>
<p>é—®é¢˜ï¼šå¦‚æœç°åœ¨è¦æ‰“å°ç­‰å·å·¦ä¾§çš„localå’Œstartï¼Œé‚£ä¹ˆè¾“å‡ºçš„ç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ä¼šå‡ºé”™ï¼ŒåŸå› å°±æ˜¯åœ¨ç­‰å·çš„å·¦ä¾§ï¼Œåªæœ‰xå’Œyæ˜¯å˜é‡ï¼Œlocalå’Œstartéƒ½æ˜¯ä¸€ç§æ ‡è¯†ï¼Œä¸€ç§æ¨¡å¼ï¼Œæ‰€ä»¥ä¸ä¼šè¢«èµ‹å€¼ã€‚</p>
<h3 id="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"><a href="#å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼" class="headerlink" title="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"></a>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h3><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è¿›è¡Œè§£æ„èµ‹å€¼ï¼Œè¿™æ˜¯å› ä¸ºå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼äºæ•°ç»„çš„å¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c, d, e, f] = <span class="string">'itcast'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d, e, f);</span><br></pre></td></tr></tbody></table></figure>

<p>ç±»ä¼¼äºæ•°ç»„çš„å¯¹è±¡éƒ½æœ‰lengthå±æ€§ï¼Œå› æ­¤ä¹Ÿå¯ä»¥å¯¹è¿™ä¸ªå±æ€§è¿›è¡Œè§£æ„èµ‹å€¼ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    <span class="attr">length</span>: len</span><br><span class="line">} = <span class="string">'itcast'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'len='</span>, len);</span><br></pre></td></tr></tbody></table></figure>

<h3 id="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"><a href="#å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼" class="headerlink" title="å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼"></a>å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</h3><p>å‡½æ•°çš„å‚æ•°ä¹Ÿèƒ½å¤Ÿè¿›è¡Œè§£æ„çš„èµ‹å€¼ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">[x, y]</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(test([<span class="number">3</span>, <span class="number">6</span>]));</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå‡½æ•°testçš„å‚æ•°ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯é€šè¿‡è§£æ„å¾—åˆ°çš„å˜é‡xå’Œy.</p>
<p>å‡½æ•°çš„å‚æ•°çš„è§£æ„ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤çš„å€¼ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">{</span></span></span><br><span class="line"><span class="params"><span class="function">    x = <span class="number">0</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    y = <span class="number">0</span></span></span></span><br><span class="line"><span class="params"><span class="function">} = {}</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> [x, y];</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(test({</span><br><span class="line">    <span class="attr">x</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">6</span></span><br><span class="line">}));</span><br></pre></td></tr></tbody></table></figure>

<p>å½“ç„¶å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„è°ƒç”¨</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">test({<span class="attr">x</span>:<span class="number">3</span>})</span><br><span class="line">test({})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="è§£æ„èµ‹å€¼çš„å¥½å¤„"><a href="#è§£æ„èµ‹å€¼çš„å¥½å¤„" class="headerlink" title="è§£æ„èµ‹å€¼çš„å¥½å¤„"></a>è§£æ„èµ‹å€¼çš„å¥½å¤„</h3><h4 id="äº¤æ¢å˜é‡çš„å€¼"><a href="#äº¤æ¢å˜é‡çš„å€¼" class="headerlink" title="äº¤æ¢å˜é‡çš„å€¼"></a>äº¤æ¢å˜é‡çš„å€¼</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> num2 = <span class="number">6</span>;</span><br><span class="line">[num1, num2] = [num2, num1];</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼"><a href="#å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼" class="headerlink" title="å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼"></a>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = test();</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œè¿”å›äº†ä¸‰ä¸ªå€¼ï¼Œå½“ç„¶åœ¨å®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µç¡®å®šè¿”å›çš„æ•°æ®çš„ä¸ªæ•°ã€‚</p>
<p>å¦‚æœï¼Œæˆ‘åªæƒ³æ¥æ”¶è¿”å›ä¸­çš„ä¸€éƒ¨åˆ†å€¼å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¥æ”¶ç¬¬ä¸€ä¸ªå€¼</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">let</span> [a] = test();</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¥æ”¶å‰ä¸¤ä¸ªå€¼</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">let</span> [a, b] = test();</span><br><span class="line">        <span class="built_in">console</span>.log(a, b);</span><br><span class="line">        <span class="comment">// åªæ¥æ”¶ç¬¬ä¸€ä¸ªå€¼å’Œç¬¬ä¸‰ä¸ªå€¼ã€‚</span></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">let</span> [a, , b] = test();</span><br><span class="line">        <span class="built_in">console</span>.log(a, b);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡"><a href="#å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡" class="headerlink" title="å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡"></a>å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡</h4><p>å¯ä»¥å°†å‡½æ•°è¿”å›çš„å¤šä¸ªå€¼å°è£…åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">num1</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">num2</span>: <span class="number">6</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    num1,</span><br><span class="line">    num2</span><br><span class="line">} = test();</span><br><span class="line"><span class="built_in">console</span>.log(num1, num2);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®"><a href="#æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®" class="headerlink" title="æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®"></a>æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®</h4><p>è§£æ„èµ‹å€¼å¯¹æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®ä¹Ÿéå¸¸æœ‰ç”¨ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userData = {</span><br><span class="line">    <span class="attr">id</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="attr">userAge</span>: <span class="number">20</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> {</span><br><span class="line">    id,</span><br><span class="line">    userName,</span><br><span class="line">    userAge</span><br><span class="line">} = userData;</span><br><span class="line"><span class="built_in">console</span>.log(id, userName, userAge);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šçš„ä»£ç å¯ä»¥å¿«é€Ÿæå–JSONä¸­çš„æ•°æ®ã€‚</p>
<h2 id="æ‰©å±•è¿ç®—ç¬¦ä¸restè¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦ä¸restè¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ä¸restè¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦ä¸<code>rest</code>è¿ç®—ç¬¦</h2><h3 id="æ‰©å±•è¿ç®—ç¬¦"><a href="#æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦"></a>æ‰©å±•è¿ç®—ç¬¦</h3><p>æ‰©å±•è¿ç®—ç¬¦çš„è¡¨ç°å½¢å¼æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰,å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„è½¬æ¢ä¸ºç”¨é€—å·åˆ†éš”çš„åºåˆ—ã€‚</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹çœ‹ä¸€ä¸‹åŸºæœ¬çš„åº”ç”¨ï¼Œæ¡ˆä¾‹çš„è¦æ±‚æ˜¯å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>å…ˆé‡‡ç”¨ä¼ ç»Ÿçš„åšæ³•ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr3 = [].concat(arr1, arr2);</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦æ¥å®Œæˆä¸Šé¢çš„æ¡ˆä¾‹</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr3 = [...arr1, ...arr2];</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œå‘ç°ä¹Ÿå®ç°äº†æˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„ç»“æœï¼Œ<code>...arr1</code>æ˜¯å°† <code>arr1</code>è¿™ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰çš„å…ƒç´ å–å‡ºæ¥ï¼Œç„¶åç»„æˆ â€˜1,2,3â€™è¿™ä¸ªå½¢å¼ï¼Œæ”¾åˆ° <code>...arr1</code>è¿™ä¸ªä½ç½®ï¼ŒåŒç†arr2ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p>
<p>é€šè¿‡æ‰©å±•è¿ç®—ç¬¦å®ç°èµ·æ¥å‘ç°æ›´åŠ çš„ç®€å•ã€‚</p>
<p>å½“ç„¶æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å®ç°çš„æ¡ˆä¾‹ï¼Œè½¬æˆES5çœ‹ä¸€ä¸‹ã€‚</p>
<p>è½¬æˆES5çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="keyword">var</span> arr3 = [].concat(arr1, arr2);</span><br><span class="line"><span class="built_in">console</span>.log(arr3);</span><br></pre></td></tr></tbody></table></figure>

<p>å‘ç°å’Œæˆ‘ä»¬æœ€å¼€å§‹å®ç°çš„æ˜¯ä¸€æ ·çš„ã€‚</p>
<h3 id="æ‰©å±•è¿ç®—ç¬¦åº”ç”¨åœºæ™¯"><a href="#æ‰©å±•è¿ç®—ç¬¦åº”ç”¨åœºæ™¯" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦åº”ç”¨åœºæ™¯"></a>æ‰©å±•è¿ç®—ç¬¦åº”ç”¨åœºæ™¯</h3><h4 id="ä»£æ›¿æ•°ç»„ä¸­çš„applyæ–¹æ³•"><a href="#ä»£æ›¿æ•°ç»„ä¸­çš„applyæ–¹æ³•" class="headerlink" title="ä»£æ›¿æ•°ç»„ä¸­çš„applyæ–¹æ³•"></a>ä»£æ›¿æ•°ç»„ä¸­çš„applyæ–¹æ³•</h4><p>ç°åœ¨æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ã€‚</p>
<p>æ±‚æœ€å¤§å€¼ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯ï¼š</p>
<p>é€šè¿‡å¾ªç¯çš„æ–¹å¼æ¥å®Œæˆï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">56</span>];</span><br><span class="line"><span class="keyword">let</span> max = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; arr.length; index++) {</span><br><span class="line">    <span class="keyword">if</span> (arr[index] &gt; max) {</span><br><span class="line">        max = arr[index];</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"max="</span>, max);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™ç§æ–¹å¼éå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨Mathå¯¹è±¡ä¸­çš„maxæ–¹æ³•æ¥å®Œæˆ.</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸‹Math.maxçš„åŸºæœ¬ç”¨æ³•</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(<span class="number">1</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">67</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ˜¯ç”¨Math.maxæ¥è®¡ç®—æ•°ç»„ä¸­çš„æœ€å¤§å€¼ã€‚ï¼ˆES5çš„å†™æ³•ï¼‰</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">56</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr));</span><br></pre></td></tr></tbody></table></figure>

<p>è™½ç„¶å¯ä»¥ä½¿ç”¨<code>Math.max.apply</code>æ¥å®ç°ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯å¾ˆéº»çƒ¦ï¼Œ</p>
<p>è¿™é‡Œå°±å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">12</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">56</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(...arr));</span><br><span class="line">	</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼ˆä¸ç®¡ES5è¿˜æ˜¯ES6ï¼‰ï¼Œç”±äºJavaScriptä¸æä¾›æ±‚æ•°ç»„ä¸­æœ€å¤§å€¼çš„å‡½æ•°ï¼Œæ‰€ä»¥åªèƒ½å°†æ•°ç»„è½¬æ¢æˆä¸€ä¸ªå‚æ•°çš„åˆ—è¡¨ï¼Œç„¶åå†è¿›è¡Œç›¸åº”çš„æ±‚å€¼ã€‚</p>
<h4 id="ç”¨äºå‡½æ•°è°ƒç”¨"><a href="#ç”¨äºå‡½æ•°è°ƒç”¨" class="headerlink" title="ç”¨äºå‡½æ•°è°ƒç”¨"></a>ç”¨äºå‡½æ•°è°ƒç”¨</h4><p>åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œå‚æ•°çš„ä¼ é€’ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼Œæ›´æœ‰åˆ©äºå‚æ•°çš„ä¼ é€’ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">num1, num2</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> array = [<span class="number">23</span>, <span class="number">56</span>];</span><br><span class="line"><span class="built_in">console</span>.log(test(...array));</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æ‰©å±•è¿ç®—ç¬¦ï¼Œå°†arrayè¿™ä¸ªæ•°ç»„ä¸­çš„å€¼å–å‡ºæ¥ï¼Œç„¶å23èµ‹å€¼ç»™äº†num1,56èµ‹å€¼ç»™äº†num2.</p>
<p>ä¸‹é¢ï¼Œå†çœ‹ä¸€ä¸ªä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å¤„ç†å‡½æ•°å‚æ•°çš„æ¡ˆä¾‹ã€‚</p>
<p>æŠŠä¸€ç»„æ•°æ®æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">array, ...items</span>) </span>{</span><br><span class="line">    array.push(...items);</span><br><span class="line">    <span class="built_in">console</span>.log(array)</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> array = [<span class="number">23</span>, <span class="number">56</span>];</span><br><span class="line">test(array, <span class="number">90</span>, <span class="number">78</span>, <span class="number">98</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>testè¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ï¼šæŠŠ90,78,98è¿™ä¸‰ä¸ªæ•°æ·»åŠ åˆ°arrayè¿™ä¸ªæ•°ç»„ä¸­ï¼Œ</p>
<p>åœ¨è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼š90,78,98 è¿™ä¸‰ä¸ªæ•°æ®ç»™äº†itemsè¿™ä¸ªå‚æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†åé¢æ‰€è®²è§£çš„restå‚æ•°ï¼Œæ‰€ä»¥itemsè¿™ä¸ªå‚æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶ååœ¨testè¿™ä¸ªå‡½æ•°ä½“å†…ï¼Œåˆé€šè¿‡æ‰©å±•è¿ç®—ç¬¦å°†itemsè¿™ä¸ªæ•°ç»„ä¸­çš„æ•°æ®å–å‡ºæ¥ç»™äº†arrayè¿™ä¸ªæ•°ç»„ã€‚</p>
<h3 id="restè¿ç®—ç¬¦"><a href="#restè¿ç®—ç¬¦" class="headerlink" title="restè¿ç®—ç¬¦"></a><code>rest</code>è¿ç®—ç¬¦</h3><h4 id="restå‚æ•°åŸºæœ¬ä½¿ç”¨"><a href="#restå‚æ•°åŸºæœ¬ä½¿ç”¨" class="headerlink" title="restå‚æ•°åŸºæœ¬ä½¿ç”¨"></a>restå‚æ•°åŸºæœ¬ä½¿ç”¨</h4><p>åœ¨<code>ES6</code>ä¸­å¼•å…¥äº†restå‚æ•°ï¼Œå½¢å¼ä¸ºâ€â€¦å˜é‡åâ€ï¼Œç”¨äºè·å–å‡½æ•°ä¸­çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚restå‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">s, num1, num2</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> s + (num1 + num2);</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="string">'+'</span>, <span class="number">2</span>, <span class="number">3</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢å®šä¹‰çš„å‡½æ•°ä¸­ï¼Œä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼šæ˜¯ä¸€ä¸ªâ€˜+â€™å·ï¼Œåé¢ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºè¿›è¡ŒåŠ æ³•è¿ç®—çš„æ•°æ®ã€‚</p>
<p>ä½†æ˜¯ï¼Œé—®é¢˜æ˜¯å¦‚æœå‚ä¸è¿ç®—çš„æ•°æ®æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆå®šä¹‰çš„å‚æ•°ä¹Ÿå°±æ¯”è¾ƒå¤šï¼Œè¿™æ ·æ¯”è¾ƒéº»çƒ¦ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨restå‚æ•°å½¢å¼ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(values);</span><br><span class="line">}</span><br><span class="line">add(<span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç è¾“å‡ºå‘ç°ï¼Œvaluesè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä¼ é€’çš„æ•°æ®éƒ½å­˜å‚¨åˆ°è¿™ä¸ªæ•°ç»„ä¸­ï¼Œä¸‹é¢å¯ä»¥å°†æ•°æ®ä»è¿™ä¸ªæ•°ç»„ä¸­å–å‡ºæ¥ï¼Œè¿›è¡Œè¿ç®—ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>{</span><br><span class="line">    <span class="comment">// console.log(values);</span></span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; values.length; index++) {</span><br><span class="line">        sum += values[index];</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>, <span class="number">3</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„å¾ªç¯æ–¹å¼ï¼Œä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿçš„æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>forEach</code>çš„å½¢å¼æ¥è¿›è¡Œå¾ªç¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">...values</span>) </span>{</span><br><span class="line">     <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">     values.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>{</span><br><span class="line">         sum += item</span><br><span class="line">     })</span><br><span class="line">     <span class="keyword">return</span> sum;</span><br><span class="line"> }</span><br><span class="line"> <span class="built_in">console</span>.log(add(<span class="number">2</span>, <span class="number">3</span>));</span><br></pre></td></tr></tbody></table></figure>
<p>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ª<code>rest</code>è¿ç®—ç¬¦çš„åŸºæœ¬ä½¿ç”¨</p>
<p>è§£æ„ä¼šå°†ç›¸åŒæ•°æ®ç»“æ„å¯¹åº”çš„å€¼èµ‹ç»™å¯¹åº”çš„å˜é‡ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æƒ³å°†å…¶ä¸­çš„ä¸€éƒ¨åˆ†å€¼ç»Ÿä¸€èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>rest</code>è¿ç®—ç¬¦ã€‚</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">let</span> [arr1, ...arr2] = arr; <span class="comment">//è¿›è¡Œè§£æ„å¤„ç†</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr1); <span class="comment">// 1</span></span><br><span class="line">    <span class="built_in">console</span>.log(arr2); <span class="comment">// [2,3,4,5,6]</span></span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>arr</code>ç»è¿‡è§£æ„åï¼Œå˜é‡<code>arr1</code>çš„å€¼ä¸º1ï¼Œè€Œé€šè¿‡<code>rest</code>è¿ç®—ç¬¦ä¼šå°†åé¢æ‰€æœ‰çš„å€¼éƒ½ç»Ÿä¸€èµ‹å€¼ç»™<code>arr2</code>å˜é‡ï¼Œå¾—åˆ°çš„<code>arr2</code>ä¸ºä¸€ä¸ªæ•°ç»„ã€‚</p>
<h4 id="restå‚æ•°çš„å¥½å¤„"><a href="#restå‚æ•°çš„å¥½å¤„" class="headerlink" title="restå‚æ•°çš„å¥½å¤„"></a>restå‚æ•°çš„å¥½å¤„</h4><p>åœ¨ä»¥å‰çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨<code>arguments</code>.</p>
<p>é‚£ä¹ˆè¿™ç§ç”¨æ³•æ¯”<code>arguments</code> æœ‰ä»€ä¹ˆæ ·çš„å¥½å¤„å‘¢ï¼Ÿ</p>
<p>å¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œä½¿ç”¨çš„æ˜¯ <code>arguments</code>ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortFunc</span>(<span class="params"></span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>).sort()</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sortFunc(<span class="number">23</span>, <span class="number">12</span>, <span class="number">67</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸‹é¢ä½¿ç”¨ restçš„æ–¹å¼</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortFunc</span>(<span class="params">...values</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> values.sort()</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(sortFunc(<span class="number">23</span>, <span class="number">12</span>, <span class="number">67</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>å› ä¸ºvaluesè¿™ä¸ªå‚æ•°æœ¬èº«å°±æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨sortå‡½æ•°ï¼Œè¿›è¡Œæ•°æ®çš„æ’åºæ“ä½œã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šçš„å¯¹æ¯”ï¼Œå‘ç°ä½¿ç”¨restè¿™ç§å‚æ•°çš„å†™æ³•æ›´ç®€æ´ã€‚</p>
<h4 id="restå‚æ•°æ³¨æ„é—®é¢˜"><a href="#restå‚æ•°æ³¨æ„é—®é¢˜" class="headerlink" title="restå‚æ•°æ³¨æ„é—®é¢˜"></a>restå‚æ•°æ³¨æ„é—®é¢˜</h4><p>åœ¨ä½¿ç”¨restè¿™ç§å‚æ•°çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„ï¼š restå‚æ•°ä¹‹åä¸èƒ½å†æœ‰å…¶ä»–çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´restå‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a, ...b, c</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(a);</span><br><span class="line">    <span class="built_in">console</span>.log(b);</span><br><span class="line">    <span class="built_in">console</span>.log(c);</span><br><span class="line">}</span><br><span class="line">test(<span class="number">1</span>, <span class="number">23</span>, <span class="number">2</span>, <span class="number">5</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç ä¼šå‡ºé”™ï¼Œè¦æ±‚restå‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
<p>é€šè¿‡å‰é¢å¯¹æ‰©å±•è¿ç®—ç¬¦å’Œ<code>rest</code>è¿ç®—ç¬¦çš„è®²è§£ï¼Œæˆ‘ä»¬çŸ¥é“ä¸¤è€…æ˜¯äº’ä¸ºé€†è¿ç®—ï¼Œæ‰©å±•è¿ç®—ç¬¦æ˜¯å°†æ•°ç»„åˆ†éš”æˆç‹¬ç«‹çš„åºåˆ—ï¼Œè€Œ<code>rest</code>è¿ç®—ç¬¦æ˜¯å°†ç‹¬ç«‹çš„åºåˆ—åˆå¹¶æˆä¸€ä¸ªæ•°ç»„ã€‚</p>
<p>æ—¢ç„¶ä¸¤è€…éƒ½æ˜¯é€šè¿‡3ä¸ªç‚¹(â€¦)æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆå¦‚ä½•åˆ¤æ–­è¿™3ä¸ªç‚¹å±äºå“ªä¸€ç§è¿ç®—ç¬¦å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥éµå¾ªå¦‚ä¸‹çš„è§„åˆ™ï¼š</p>
<p>ç¬¬ä¸€ï¼šå½“3ä¸ªç‚¹(â€¦)å‡ºç°åœ¨å‡½æ•°çš„å½¢å‚ä¸Šæˆ–è€…å‡ºç°åœ¨èµ‹å€¼å·çš„å·¦ä¾§ï¼Œåˆ™è¡¨ç¤ºçš„å°±æ˜¯<code>rest</code>è¿ç®—ç¬¦</p>
<p>ç¬¬äºŒï¼šå½“3ä¸ªç‚¹(â€¦)å‡ºç°åœ¨å‡½æ•°çš„å®å‚ä¸Šæˆ–è€…å‡ºç°åœ¨èµ‹å€¼å·çš„å³ä¾§ï¼Œåˆ™è¡¨ç¤ºå®ƒä¸ºæ‰©å±•è¿ç®—ç¬¦ã€‚</p>
<h2 id="ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°"><a href="#ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°"></a>ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°</h2><h3 id="ç®­å¤´å‡½æ•°åŸºæœ¬ä½¿ç”¨"><a href="#ç®­å¤´å‡½æ•°åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ç®­å¤´å‡½æ•°åŸºæœ¬ä½¿ç”¨"></a>ç®­å¤´å‡½æ•°åŸºæœ¬ä½¿ç”¨</h3><p>åœ¨ES6ä¸­å…è®¸ä½¿ç”¨ â€œç®­å¤´â€ï¼ˆ=&gt;ï¼‰æ¥å®šä¹‰å‡½æ•°ã€‚</p>
<p>å…ˆä½¿ç”¨ä¼ ç»Ÿçš„æ–¹å¼å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ä¼ ç»Ÿæ–¹å¼å®šä¹‰å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">3</span>, <span class="number">6</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ä¼ ç»Ÿæ–¹å¼æ¥å®šä¹‰å‡½æ•°çš„æ—¶å€™ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>ç®­å¤´å‡½æ•°çš„ä½¿ç”¨</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">x, y</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">9</span>, <span class="number">8</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è°ƒç”¨fè¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°†9å’Œ8ä¼ é€’ç»™äº†x,yè¿™ä¸¤ä¸ªå‚æ•°ï¼Œç„¶åè¿›è¡ŒåŠ æ³•è¿ç®—ã€‚</p>
<p>å¦‚æœå‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå¯ä»¥çœç•¥å°æ‹¬å·ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function"><span class="params">num</span> =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> num / <span class="number">2</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">6</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œåªéœ€è¦å†™ä¸€å¯¹å°æ‹¬å·å°±å¯ä»¥ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">() =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="number">9</span> / <span class="number">3</span>;</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(f());</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢æˆ‘ä»¬å†™çš„ä»£ç ä¸­ï¼Œå‘ç°å‡½æ•°ä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œé‚£ä¹ˆè¿™æ—¶æ˜¯å¯ä»¥çœç•¥å¤§æ‹¬å·çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y;</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">3</span>, <span class="number">6</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>æŠŠä¸Šé¢çš„ä»£ç è½¬æ¢æˆES5çš„å†™æ³•ï¼Œå‘ç°å’Œæˆ‘ä»¬å‰é¢å†™çš„ä»£ç æ˜¯ä¸€æ ·çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y</span>) </span>{</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">3</span>, <span class="number">6</span>));</span><br></pre></td></tr></tbody></table></figure>

<h3 id="ç®­å¤´å‡½æ•°æ³¨æ„äº‹é¡¹"><a href="#ç®­å¤´å‡½æ•°æ³¨æ„äº‹é¡¹" class="headerlink" title="ç®­å¤´å‡½æ•°æ³¨æ„äº‹é¡¹"></a>ç®­å¤´å‡½æ•°æ³¨æ„äº‹é¡¹</h3><h4 id="ç›´æ¥è¿”å›å¯¹è±¡"><a href="#ç›´æ¥è¿”å›å¯¹è±¡" class="headerlink" title="ç›´æ¥è¿”å›å¯¹è±¡"></a>ç›´æ¥è¿”å›å¯¹è±¡</h4><p>å¦‚æœå¸Œæœ›ç®­å¤´å‡½æ•°<strong>ç›´æ¥</strong>è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œåº”è¯¥æ€æ ·å†™å‘¢ï¼Ÿ</p>
<p>ä½ å¯èƒ½è®¤ä¸ºå¾ˆç®€å•ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„å†™æ³•</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">id, name</span>) =&gt;</span> {</span><br><span class="line">    <span class="attr">id</span>: id,</span><br><span class="line">    <span class="attr">userName</span>: name</span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>, <span class="string">'zs'</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>ä½†æ˜¯ä¸Šé¢çš„å†™æ³•æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºè¿™æ—¶å¤§æ‹¬å·è¢«è§£é‡Šä¸ºä»£ç å—ï¼Œè§£å†³çš„åŠæ³•æ˜¯ï¼šåœ¨å¯¹è±¡å¤–é¢åŠ ä¸Šå°æ‹¬å·,</p>
<p>æ‰€ä»¥ï¼Œæ­£ç¡®çš„å†™æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">id, name</span>) =&gt;</span> ({</span><br><span class="line">    <span class="attr">id</span>: id,</span><br><span class="line">    <span class="attr">userName</span>: name</span><br><span class="line">});</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>, <span class="string">'zs'</span>));</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡æ‰“å°ï¼Œå‘ç°è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„å†™æ³•</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="function">(<span class="params">id, name</span>) =&gt;</span> {</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">id</span>: id,</span><br><span class="line">        <span class="attr">userName</span>: name</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(f(<span class="number">1</span>, <span class="string">'zs'</span>));</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h4 id="ç®­å¤´å‡½æ•°ä¸­thisçš„é—®é¢˜"><a href="#ç®­å¤´å‡½æ•°ä¸­thisçš„é—®é¢˜" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸­thisçš„é—®é¢˜"></a>ç®­å¤´å‡½æ•°ä¸­thisçš„é—®é¢˜</h4><p>ä¸‹é¢å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œæ¥ç†è§£thisçš„åº”ç”¨ã€‚</p>
<p>çœ‹ä¸€ä¸‹ï¼Œå¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">    <span class="function"><span class="title">getUserName</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName();</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šä»£ç æ‰§è¡Œçš„ç»“æœä¸ºï¼šâ€™lsâ€™,å¹¶ä¸”åœ¨è¯¥ç¨‹åºä¸­<code>this</code> ä¸ºå½“å‰çš„personå¯¹è±¡ã€‚</p>
<p>ç°åœ¨ï¼Œå°†ä¸Šé¢çš„ä»£ç ä¿®æ”¹ä¸€ä¸‹ï¼Œè¦æ±‚å»¶è¿Ÿ1ç§’é’Ÿä»¥åï¼Œå†è¾“å‡ºç”¨æˆ·åçš„åç§°ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">    <span class="function"><span class="title">getUserName</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName)</span><br><span class="line">        }, <span class="number">1000</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName();</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„è¾“å‡ºç»“æœä¸ºï¼š<code>undefined</code>ï¼Œå› ä¸ºåœ¨setTimeoutä¸­thisæŒ‡çš„æ˜¯window,è€Œä¸æ˜¯personå¯¹è±¡ã€‚</p>
<p>ä¸ºäº†è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œå¯ä»¥å°†ä»£ç è¿›è¡Œå¦‚ä¸‹çš„ä¿®æ”¹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'ls'</span>,</span><br><span class="line">    <span class="function"><span class="title">getUserName</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="keyword">let</span> that = <span class="built_in">this</span>;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">            <span class="built_in">console</span>.log(that.userName)</span><br><span class="line">        }, <span class="number">1000</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName();</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨è¿›å…¥setTimeoutè¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œæå‰å°†thisèµ‹å€¼ç»™thatå˜é‡ï¼Œç„¶ååœ¨setTimeoutä¸­ä½¿ç”¨that,é‚£ä¹ˆè¿™æ—¶thatæŒ‡çš„å°±æ˜¯personå¯¹è±¡ã€‚</p>
<p>ä¸Šé¢çš„è§£å†³æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ä¿®æ”¹æˆç®­å¤´å‡½æ•°çš„å½¢å¼ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'wangwu'</span>,</span><br><span class="line">    <span class="function"><span class="title">getUserName</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">        },<span class="number">1000</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName();</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°åœ¨ç®­å¤´å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨thisæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<p>ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼š<strong>åœ¨ç®­å¤´å‡½æ•°ä¸­æ˜¯æ²¡æœ‰thisçš„ï¼Œå¦‚æœåœ¨ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨äº†this,é‚£ä¹ˆå®é™…ä¸Šä½¿ç”¨çš„æ˜¯å¤–å±‚ä»£ç å—çš„this.  ç®­å¤´å‡½æ•°ä¸ä¼šåˆ›å»ºè‡ªå·±çš„<code>this,å®ƒåªä¼šä»è‡ªå·±çš„ä½œç”¨åŸŸé“¾çš„ä¸Šä¸€å±‚ç»§æ‰¿this</code></strong></p>
<p>æˆ–è€…é€šä¿—çš„ç†è§£ï¼š<strong>æ‰¾å‡ºå®šä¹‰ç®­å¤´å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼ˆå³åŒ…å«ç®­å¤´å‡½æ•°æœ€è¿‘çš„å‡½æ•°æˆ–è€…æ˜¯å¯¹è±¡ï¼‰ï¼Œé‚£ä¹ˆä¸Šä¸‹æ–‡æ‰€å¤„çš„çˆ¶ä¸Šä¸‹æ–‡å³ä¸ºthis.</strong></p>
<p>é‚£ä¹ˆåœ¨æˆ‘ä»¬è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ<code>setTimeout</code>å‡½æ•°ä¸­ä½¿ç”¨äº†ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¸­ç”¨äº†<code>this,</code>è€Œè¿™æ—¶<code>this</code>æŒ‡çš„æ˜¯å¤–å±‚ä»£ç å—ä¹Ÿå°±æ˜¯<code>person</code> ,æ‰€ä»¥ç®­å¤´å‡½æ•°ä¸­ä½¿ç”¨çš„thisæŒ‡çš„å°±æ˜¯<code>person</code>(åŒ…å«ç®­å¤´å‡½æ•°æœ€è¿‘çš„å‡½æ•°æ˜¯<code>setTimeout</code>,é‚£ä¹ˆåŒ…å«<code>setTimeout</code>è¿™ä¸ªå‡½æ•°çš„æœ€è¿‘çš„å‡½æ•°æˆ–è€…æ˜¯å¯¹è±¡æ˜¯è°å‘¢ï¼Ÿå¯¹äº†ï¼Œæ˜¯<code>getUserName</code>è¿™ä¸ªå‡½æ•°ï¼Œè€Œ<code>getUserName</code>è¿™ä¸ªå‡½æ•°æ˜¯å±äºå“ªä¸ªå¯¹è±¡å‘¢ï¼Ÿæ˜¯<code>person</code>,æ‰€ä»¥<code>this</code>ä¸º<code>person</code>)</p>
<p>ä¸‹é¢ï¼Œå†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼šï¼ˆå¯ä»¥å°†ä¸‹é¢çš„ä»£ç è½¬æ¢æˆES5çš„ä»£ç ï¼‰</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="attr">getUserName</span>: <span class="function">() =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName();</span><br></pre></td></tr></tbody></table></figure>

<p>è¾“å‡ºç»“æœä¸º:undefined</p>
<p>å› ä¸ºè¿™æ—¶åŒ…å«<code>getUserName</code>è¿™ä¸ªç®­å¤´å‡½æ•°æœ€è¿‘çš„å¯¹è±¡æ˜¯person(è¿™é‡Œä¹Ÿå°±æ˜¯è¯´<code>getUserName</code>è¿™ä¸ªç®­å¤´å‡½æ•°çš„ä¸Šä¸‹æ–‡ä¸º<code>person</code>),é‚£ä¹ˆ<code>person</code>å¯¹è±¡æ‰€å¤„çš„çˆ¶ä¸Šä¸‹æ–‡(ä¹Ÿå°±æ˜¯åŒ…å«personè¿™ä¸ªå¯¹è±¡æœ€è¿‘çš„å¯¹è±¡)ï¼Œæ˜¯è°å‘¢ï¼Ÿå¯¹äº†ï¼Œå°±æ˜¯<code>window</code>ã€‚</p>
<p>ä¸‹é¢å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="function"><span class="title">getUserName</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="function">() =&gt;</span> {</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.getUserName()();</span><br></pre></td></tr></tbody></table></figure>

<p>æ ¹æ®ä¸Šé¢æ€»ç»“çš„è§„å¾‹æ˜¯ï¼Œè¿™æ®µä»£ç è¾“å‡ºçš„ç»“æœæ˜¯ï¼šâ€™zhangsanâ€™.</p>
<p>åœ¨è¿™é‡Œè¿˜éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼š</p>
<p>ç”±äºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,æ‰€ä»¥ä¸èƒ½ä½¿ç”¨ <code>call()</code>ã€<code>apply()</code>ã€<code>bind()</code>è¿™äº›æ–¹æ³•æ¥æ”¹å˜thisçš„æŒ‡å‘ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> adder = {</span><br><span class="line">        <span class="attr">base</span>: <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line">        <span class="attr">add</span>: <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>{</span><br><span class="line">            <span class="keyword">let</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v + <span class="built_in">this</span>.base;</span><br><span class="line">            <span class="keyword">let</span> b = {</span><br><span class="line">                <span class="attr">base</span>: <span class="number">3</span></span><br><span class="line">            };</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> f.call(b, a);</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="built_in">console</span>.log(adder.add(<span class="number">1</span>))</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢ä»£ç æ‰§è¡Œçš„ç»“æœä¸º:2</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨<code>call( )</code>æ¥æ”¹å˜thisçš„æŒ‡å‘ï¼Œæœ¬æ„æ˜¯æƒ³è®©thisæŒ‡å‘bè¿™ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å®é™…ä¸Šthisè¿˜æ˜¯adderè¿™ä¸ªå¯¹è±¡ã€‚</p>
<h4 id="ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯"><a href="#ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯" class="headerlink" title="ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯"></a>ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯</h4><p>ç¬¬ä¸€ï¼šä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ï¼Œä¸èƒ½ä½¿ç”¨<code>new</code>æ“ä½œç¬¦</p>
<p>æ„é€ å‡½æ•°æ˜¯é€šè¿‡<code>new</code>æ“ä½œç¬¦ç”Ÿæˆå¯¹è±¡å®ä¾‹çš„ï¼Œç”Ÿæˆå®ä¾‹çš„è¿‡ç¨‹ä¹Ÿæ˜¯é€šè¿‡æ„é€ å‡½æ•°ç»™å®ä¾‹ç»‘å®š<code>this</code>çš„è¿‡ç¨‹ï¼Œè€Œç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°ã€‚</p>
<p>å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>{</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>); <span class="comment">//æ­£å¸¸</span></span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šæ˜¯æˆ‘ä»¬å‰é¢ç»å¸¸ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œæ²¡æœ‰é—®é¢˜</p>
<p>ä¸‹é¢çœ‹ä¸€ä¸‹ä½¿ç”¨ç®­å¤´å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°çš„æƒ…å†µ</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Person = <span class="function">(<span class="params">name</span>) =&gt;</span> {</span><br><span class="line">     <span class="built_in">this</span>.userName = name;</span><br><span class="line">   };</span><br><span class="line">   <span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">"lisi"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>å½“æ‰§è¡Œä¸Šé¢çš„ç¨‹åºçš„æ—¶å€™ï¼Œä¼šå‡ºç°é”™è¯¯</p>
<p>ç¬¬äºŒï¼šæ²¡æœ‰<code>prototype</code>å±æ€§</p>
<p>å› ä¸ºåœ¨ç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰<code>this</code>,ä¹Ÿå°±ä¸å­˜åœ¨è‡ªå·±çš„ä½œç”¨åŸŸï¼Œå› æ­¤ç®­å¤´å‡½æ•°æ˜¯æ²¡æœ‰<code>prototype</code>å±æ€§çš„ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Person = <span class="function">(<span class="params">name</span>) =&gt;</span> {</span><br><span class="line">      <span class="built_in">this</span>.userName = name;</span><br><span class="line">    };</span><br><span class="line">    <span class="built_in">console</span>.log(Person.prototype); <span class="comment">// undefined</span></span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ï¼šä¸é€‚åˆå°†åŸå‹å‡½æ•°å®šä¹‰æˆç®­å¤´å‡½æ•°</p>
<p>åœ¨ç»™æ„é€ å‡½æ•°æ·»åŠ åŸå‹å‡½æ•°æ—¶ï¼Œå¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå…¶ä¸­çš„<code>this</code>ä¼šæŒ‡å‘å…¨å±€ä½œç”¨åŸŸ<code>window</code>,è€Œä¸ä¼šæŒ‡å‘æ„é€ å‡½æ•°ã€‚</p>
<p>å› æ­¤å¹¶ä¸ä¼šè®¿é—®åˆ°æ„é€ å‡½æ•°æœ¬èº«ï¼Œä¹Ÿå°±æ— æ³•è®¿é—®åˆ°å®ä¾‹å±æ€§ï¼Œå¤±å»äº†åŸå‹å‡½æ•°çš„æ„ä¹‰ã€‚</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>{</span><br><span class="line">       <span class="built_in">this</span>.userName = name;</span><br><span class="line">     }</span><br><span class="line">     Person.prototype.sayHello = <span class="function">() =&gt;</span> {</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// window</span></span><br><span class="line">       <span class="built_in">console</span>.log(<span class="built_in">this</span>.userName); <span class="comment">// undefined</span></span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">"zhangsan"</span>);</span><br><span class="line">     p.sayHello();</span><br></pre></td></tr></tbody></table></figure>





<h2 id="å¯¹è±¡çš„æ‰©å±•"><a href="#å¯¹è±¡çš„æ‰©å±•" class="headerlink" title="å¯¹è±¡çš„æ‰©å±•"></a>å¯¹è±¡çš„æ‰©å±•</h2><h3 id="å±æ€§ä¸æ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ–¹å¼"><a href="#å±æ€§ä¸æ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ–¹å¼" class="headerlink" title="å±æ€§ä¸æ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ–¹å¼"></a>å±æ€§ä¸æ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ–¹å¼</h3><p>ä»¥å‰åˆ›å»ºå¯¹è±¡çš„æ–¹å¼ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="keyword">let</span> userAge = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">userName</span>: userName,</span><br><span class="line">    <span class="attr">userAge</span>: userAge</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°å¯¹è±¡ä¸­çš„å±æ€§åå’Œå˜é‡åæ˜¯ä¸€æ ·çš„ï¼Œåƒè¿™ç§æƒ…å†µï¼Œåœ¨ES6ä¸­æ˜¯å¯ä»¥ç®€åŒ–å¦‚ä¸‹å½¢å¼ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="keyword">let</span> userAge = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    userName,</span><br><span class="line">    userAge</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šä»£ç å¯ä»¥å‘ç°ï¼šåœ¨ES6ä¸­ï¼Œå¦‚æœå¯¹è±¡çš„å±æ€§åå’Œå˜é‡åæ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä¸¤è€…å¯ä»¥åˆäºŒä¸ºä¸€ã€‚</p>
<p>å½“ç„¶ï¼Œé™¤äº†å±æ€§å¯ä»¥ç®€å†™ï¼Œæ–¹æ³•ä¹Ÿå¯ä»¥ç®€å†™ï¼Œä»¥å‰å®šä¹‰æ–¹æ³•çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="keyword">let</span> userAge = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    userName,</span><br><span class="line">    userAge,</span><br><span class="line">    <span class="attr">sayHello</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ä½ å¥½'</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.sayHello();</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ES6ä¸­å¯ä»¥ç®€åŒ–æˆå¦‚ä¸‹çš„å½¢å¼:</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> userName = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="keyword">let</span> userAge = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    userName,</span><br><span class="line">    userAge,</span><br><span class="line">    <span class="function"><span class="title">sayHello</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Hello'</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">person.sayHello();</span><br></pre></td></tr></tbody></table></figure>

<p>æ‰€ä»¥åœ¨ä»¥åçš„ç¼–ç¨‹ä¸­ï¼Œä¼šç»å¸¸çœ‹åˆ°æˆ–è€…æ˜¯ç”¨åˆ°è¿™ç§<code>ES6</code>çš„è¡¨ç¤ºå½¢å¼ã€‚</p>
<h3 id="Object-assign-æ–¹æ³•"><a href="#Object-assign-æ–¹æ³•" class="headerlink" title="Object.assign( )æ–¹æ³•"></a>Object.assign( )æ–¹æ³•</h3><h4 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><p>ç°åœ¨ï¼Œæœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œå°†ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ‹·è´ç»™å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œåº”è¯¥æ€æ ·å¤„ç†ï¼Ÿ</p>
<p>ä½ å¯èƒ½ä¼šè¯´ï¼Œå¾ˆç®€å•ï¼Œå¯ä»¥é€šè¿‡å¾ªç¯çš„æ–¹å¼æ¥æ¥å®ç°ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zhangsan'</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> obj2 = {</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> obj3 = {};</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj1) {</span><br><span class="line">    obj3[key] = obj1[key];</span><br><span class="line">}</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj2) {</span><br><span class="line">    obj3[key] = obj2[key];</span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'obj3='</span>, obj3);</span><br></pre></td></tr></tbody></table></figure>

<p>è™½ç„¶é€šè¿‡å¾ªç¯çš„æ–¹å¼ï¼Œå¯ä»¥å®ç°å¯¹è±¡å±æ€§çš„æ‹·è´ï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ã€‚ä¸‹é¢è®²è§£ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼š<code>Object.assign( )</code>æ–¹æ³•.</p>
<p><code>Object.assign( )</code>æ–¹æ³•ç”¨æ¥æºå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ã€‚è¯¥æ–¹æ³•è‡³å°‘éœ€è¦ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œåé¢çš„å‚æ•°éƒ½æ˜¯æºå¯¹è±¡ã€‚åªè¦æœ‰ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = {</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> source = {</span><br><span class="line">    <span class="attr">c</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">4</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(target, source);</span><br><span class="line"><span class="built_in">console</span>.log(target);</span><br></pre></td></tr></tbody></table></figure>

<p>æœ€ç»ˆçš„ç»“æœï¼šå°†sourceå¯¹è±¡ä¸­çš„å±æ€§æ‹·è´åˆ°targetå¯¹è±¡ä¸Šã€‚</p>
<p>åœ¨ä¸Šé¢çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥çœ‹å‡ºå‚æ•°ä¸ä»…ä¸¤ä¸ªï¼Œå¯ä»¥æœ‰å¤šä¸ªï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ä¸€å®šæ˜¯ç›®æ ‡å¯¹è±¡ï¼Œä¸‹é¢å†çœ‹ä¸€ä¸ªå¤šä¸ªå‚æ•°çš„æ¡ˆä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = {</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> source = {</span><br><span class="line">    <span class="attr">c</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">4</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> source1 = {</span><br><span class="line">    <span class="attr">e</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">f</span>: <span class="number">6</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(target, source, source1);</span><br><span class="line"><span class="built_in">console</span>.log(target);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå°†sourceå’Œ<code>source1</code>è¿™ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§éƒ½æ‹·è´ç»™äº†targetå¯¹è±¡ã€‚</p>
<h4 id="æ·±æµ…æ‹·è´é—®é¢˜"><a href="#æ·±æµ…æ‹·è´é—®é¢˜" class="headerlink" title="æ·±æµ…æ‹·è´é—®é¢˜"></a>æ·±æµ…æ‹·è´é—®é¢˜</h4><p>é€šè¿‡<code>Object.assign( )</code>æ–¹æ³•ï¼Œå®ç°çš„æ‹·è´åªæ‹·è´äº†å±æ€§çš„å€¼ï¼Œå±äºæµ…æ‹·è´ã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'å¼ ä¸‰'</span>,</span><br><span class="line">    <span class="attr">address</span>: {</span><br><span class="line">        <span class="attr">city</span>: <span class="string">'åŒ—äº¬'</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> obj2 = {};</span><br><span class="line"><span class="built_in">Object</span>.assign(obj2, obj1);</span><br><span class="line">obj2.address.city = <span class="string">"ä¸Šæµ·"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj1="</span>, obj1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj2="</span>, obj2);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸­å¯¹<code>obj2</code>è¿™ä¸ªå¯¹è±¡çš„cityå±æ€§çš„å€¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œå‘ç°å¯¹åº”çš„<code>obj1</code>å¯¹è±¡ä¸­çš„cityå±æ€§çš„å€¼ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è¿™æ ·ï¼Œæˆ‘ä»¬å¸Œæœ›ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼æ—¶ï¼Œä¸ä¼šå½±å“åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å€¼ã€‚</p>
<p>é‚£ä¹ˆå¯¹åº”çš„è¦å®ç°ç›¸åº”çš„æ·±æ‹·è´ã€‚</p>
<p>å…³äºæ·±æ‹·è´ï¼Œå®ç°æ–¹å¼æ¯”è¾ƒå¤šï¼Œä¸‹é¢ç®€å•çš„è¯´ä¸€ç§æ–¹å¼ï¼š(è¿™é‡Œåªæ˜¯ç®€å•çš„æ¨¡æ‹Ÿ)</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">source</span>) </span>{</span><br><span class="line">    <span class="keyword">let</span> newObj = {};</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> source) {</span><br><span class="line">        <span class="comment">// ç”±äºaddresså±æ€§ä¸ºå¯¹è±¡ï¼Œæ‰€ä»¥æ‰§è¡Œé€’å½’ã€‚</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> source[key] === <span class="string">'object'</span>) {</span><br><span class="line">            newObj[key] = clone(source[key]);</span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            <span class="comment">// å¦‚æœæ˜¯nameå±æ€§ç›´æ¥èµ‹å€¼</span></span><br><span class="line">            newObj[key] = source[key];</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> newObj;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'å¼ ä¸‰'</span>,</span><br><span class="line">    <span class="attr">address</span>: {</span><br><span class="line">        <span class="attr">city</span>: <span class="string">'åŒ—äº¬'</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> obj2 = clone(obj1);</span><br><span class="line">obj2.address.city = <span class="string">"ä¸Šæµ·"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj1="</span>, obj1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj2="</span>, obj2);</span><br></pre></td></tr></tbody></table></figure>



<h4 id="æ³¨æ„äº‹é¡¹-1"><a href="#æ³¨æ„äº‹é¡¹-1" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><p>1ã€å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡æœ‰åŒåå±æ€§ï¼Œé‚£ä¹ˆåé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = {</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> source = {</span><br><span class="line">    <span class="attr">b</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">4</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(target, source);</span><br><span class="line"><span class="built_in">console</span>.log(target);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ï¼Œå°†sourceå¯¹è±¡ä¸­çš„å±æ€§æ‹·è´ç»™äº†targetå¯¹è±¡ï¼Œä½†æ˜¯sourceå¯¹è±¡ä¸­æœ‰bè¿™ä¸ªå±æ€§ï¼Œè€Œä¸”targetå¯¹è±¡ä¸Šä¹Ÿæœ‰bå±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„ç»“æœæ˜¯:sourceå¯¹è±¡ä¸­çš„bå±æ€§è¦†ç›–æ‰targetå¯¹è±¡ä¸­çš„bå±æ€§ã€‚</p>
<p>2ã€ä¸å¯æšä¸¾çš„å±æ€§ä¸ä¼šè¢«å¤åˆ¶ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {};</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'b'</span>, {</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>: <span class="string">'world'</span></span><br><span class="line">})</span><br><span class="line"><span class="keyword">let</span> obj1 = {</span><br><span class="line">    <span class="attr">a</span>: <span class="string">'hello'</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">Object</span>.assign(obj1, obj);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'obj1='</span>, obj1);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé€šè¿‡<code>Object.defineProperty()</code>æ–¹æ³•ä¸ºobjå¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªå±æ€§b,è¿™ä¸ªå±æ€§çš„å€¼ä¸º â€˜worldâ€™,å¹¶ä¸”æŒ‡å®šäº†enumerableè¿™ä¸ªå±æ€§çš„å€¼ä¸ºfalse.ä¹Ÿå°±æ˜¯ä¸å¯ä»¥è¢«æšä¸¾ã€‚ä¹Ÿå°±æ˜¯è¯¥å±æ€§ä¸å¯ä»¥é€šè¿‡for inæ¥è¿›è¡Œéå†ã€‚</p>
<p>æœ€ç»ˆï¼Œé€šè¿‡<code>Object.assign</code>è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ‹·è´ï¼Œå‘ç°<code>obj1</code>å¯¹è±¡ä¸­æ²¡æœ‰objå¯¹è±¡çš„bè¿™ä¸ªå±æ€§ã€‚</p>
<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><h3 id="Symbolç®€ä»‹"><a href="#Symbolç®€ä»‹" class="headerlink" title="Symbolç®€ä»‹"></a>Symbolç®€ä»‹</h3><p>åœ¨å…·ä½“è®²è§£Symbolä¹‹å‰ï¼Œå…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜ã€‚</p>
<p><code>ES5</code>çš„å¯¹è±¡å±æ€§åéƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™æ ·å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªã€‚</p>
<p>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">      <span class="attr">num</span>: <span class="number">10</span>,</span><br><span class="line">      <span class="string">"num 1"</span>: <span class="number">20</span></span><br><span class="line">  }</span><br><span class="line">  <span class="built_in">console</span>.log(obj.num);</span><br><span class="line">  <span class="built_in">console</span>.log(obj[<span class="string">"num 1"</span>]);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ï¼Œå¯ä»¥å‘ç°åœ¨å¯¹è±¡ä¸­å®šä¹‰çš„å±æ€§çš„åç§°æœ¬èº«å°±æ˜¯å­—ç¬¦ä¸²ï¼Œè€Œä¸”å‘ç°â€œnum 1â€ä¸­é—´æ˜¯æœ‰ç©ºæ ¼çš„ï¼Œæ‰€ä»¥åœ¨è®¿é—®è¯¥å±æ€§çš„æ—¶å€™ï¼Œé€šè¿‡[ ]çš„å½¢å¼æ¥è¿›è¡Œè®¿é—®ã€‚</p>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆè¯´å®¹æ˜“é€ æˆå±æ€§åçš„å†²çªå‘¢ï¼Ÿ</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼šä½ ç”¨äº†ä¸€ä¸ªåˆ«äººæä¾›çš„å¯¹è±¡ï¼Œä½†æ˜¯åˆæƒ³ä¸ºè¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„æ–¹æ³•æˆ–è€…æ˜¯å±æ€§ï¼Œæ–°æ–¹æ³•æˆ–è€…æ˜¯æ–°å±æ€§çš„åç§°æœ‰å¯èƒ½ä¸ç°æœ‰å¯¹è±¡ä¸­çš„å±æ€§åç§°æˆ–è€…æ˜¯æ–¹æ³•çš„åç§°äº§ç”Ÿå†²çªã€‚å¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œèƒ½å¤Ÿä¿è¯æ¯ä¸ªå±æ€§çš„åå­—éƒ½æ˜¯å”¯ä¸€çš„ï¼Œ<strong>é‚£ä¹ˆå°±èƒ½å¤Ÿä»æ ¹æœ¬ä¸Šé˜²æ­¢å±æ€§åç§°çš„å†²çªé—®é¢˜</strong>ã€‚è¿™ä¹Ÿå°±æ˜¯ES6å¼•å…¥Symbolçš„åŸå› ã€‚</p>
<p>Symbolæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ˜¯JavaScriptè¯­è¨€çš„ç¬¬7ç§æ•°æ®ç±»å‹ï¼Œå‰6ç§åˆ†åˆ«æ˜¯:undefined,null,å¸ƒå°”å€¼ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼å’Œå¯¹è±¡ã€‚</p>
<p>Symbolç±»å‹çš„å€¼æ˜¯é€šè¿‡Symbolå‡½æ•°ç”Ÿæˆçš„ã€‚å®ƒçš„å€¼æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œä¹Ÿå°±æ˜¯å”¯ä¸€çš„ï¼Œå¯ä»¥ä¿è¯å¯¹è±¡ä¸­å±æ€§åç§°çš„å”¯ä¸€ã€‚</p>
<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç æµ‹è¯•ç±»å‹</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> s);</span><br></pre></td></tr></tbody></table></figure>

<p>å¯¹åº”çš„è¾“å‡ºç±»å‹ä¸ºâ€symbolâ€</p>
<p>ä¸‹é¢åˆ›å»ºSymbolç±»å‹çš„å˜é‡ï¼Œç„¶åè¿›è¡Œæ‰“å°è¾“å‡ºã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s1);</span><br></pre></td></tr></tbody></table></figure>

<p>å‘ç°è¾“å‡ºçš„ç»“æœéƒ½æ˜¯ï¼šSymbol( )ã€‚</p>
<p>è¾“å‡ºçš„ç»“æœéƒ½æ˜¯Symbol( ),é‚£ä¹ˆæ— æ³•åŒºåˆ†ï¼Œå“ªä¸ªSymbol( )æ˜¯så˜é‡çš„ï¼Œå“ªä¸ªæ˜¯s1å˜é‡çš„ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒSymbol( )å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºå¯¹Symbolçš„æè¿°ï¼Œä¸»è¦æ˜¯ä¸ºäº†åœ¨æ§åˆ¶å°è¿›è¡Œè¾“å‡ºæ‰“å°çš„æ—¶å€™ï¼Œèƒ½å¤ŸåŒºåˆ†å¼€ï¼ŒSymbolæœ€ç»ˆæ˜¯å±äºå“ªä¸ªå˜é‡çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">'s'</span>);</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">'s1'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s1);</span><br></pre></td></tr></tbody></table></figure>

<p>è¾“å‡ºçš„ç»“æœä¸ºï¼šSymbol(s)å’ŒSymbol(s1)</p>
<p>æ³¨æ„ï¼šSymbolå‡½æ•°çš„å‚æ•°åªè¡¨ç¤ºå¯¹å½“å‰Symbolå€¼ï¼ˆç»“æœï¼‰çš„æè¿°ï¼Œå› æ­¤ç›¸åŒå‚æ•°çš„Symbolå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸ç›¸ç­‰çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">'s'</span>);</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">'s'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s === s1);</span><br></pre></td></tr></tbody></table></figure>

<p>ä»¥ä¸Šç»“æœä¸ºï¼šfalse.</p>
<p>###Symbolåº”ç”¨åœºæ™¯</p>
<h4 id="ä½œä¸ºå±æ€§åçš„Symbol"><a href="#ä½œä¸ºå±æ€§åçš„Symbol" class="headerlink" title="ä½œä¸ºå±æ€§åçš„Symbol"></a>ä½œä¸ºå±æ€§åçš„Symbol</h4><p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œè®²è§£è¿‡ç”±äºSymbolçš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¿è¯å¯¹è±¡ä¸­ä¸ä¼šå‡ºç°åŒåçš„å±æ€§ã€‚ä¸‹é¢ï¼Œå…ˆæ¥è®²è§£ä¸€ä¸‹ï¼Œæ€æ ·ä½¿ç”¨Symbolä½œä¸ºå±æ€§åï¼Œç„¶åå†çœ‹ä¸€ä¸‹æ€æ ·ä¿è¯å¯¹è±¡ä¸­ä¸ä¼šå‡ºç°åŒåå±æ€§ã€‚</p>
<p>ç¬¬ä¸€ç§æ·»åŠ å±æ€§çš„æ–¹å¼ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> obj = {}</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ç§æ·»åŠ å±æ€§çš„æ–¹å¼</span></span><br><span class="line">obj[mySymbol] = <span class="string">'hello'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj[mySymbol]);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬äºŒç§æ·»åŠ å±æ€§çš„æ–¹å¼ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    [mySymbol]: <span class="string">'world'</span> <span class="comment">// æ³¨æ„mySymbolå¿…é¡»åŠ ä¸Šæ–¹æ‹¬å·ï¼Œå¦åˆ™ä¸ºå­—ç¬¦ä¸²è€Œä¸æ˜¯Symbolç±»å‹ã€‚</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(obj[mySymbol]);</span><br></pre></td></tr></tbody></table></figure>

<p>ç¬¬ä¸‰ç§æ·»åŠ å±æ€§çš„æ–¹å¼</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> mySymbol = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> obj = {};</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, mySymbol, {</span><br><span class="line">    <span class="attr">value</span>: <span class="string">'ä½ å¥½'</span></span><br><span class="line">})</span><br><span class="line"><span class="built_in">console</span>.log(obj[mySymbol]);</span><br></pre></td></tr></tbody></table></figure>

<h4 id="é˜²æ­¢å±æ€§åç§°å†²çª"><a href="#é˜²æ­¢å±æ€§åç§°å†²çª" class="headerlink" title="é˜²æ­¢å±æ€§åç§°å†²çª"></a>é˜²æ­¢å±æ€§åç§°å†²çª</h4><p>åœ¨å‰é¢ï¼Œå·²ç»è®²è§£äº†æ€æ ·ä½¿ç”¨Symbolä½œä¸ºå±æ€§åäº†ï¼Œä¸‹é¢çœ‹ä¸€ä¸‹æ€æ ·é€šè¿‡Symbolæ¥é˜²æ­¢å±æ€§åçš„å†²çªã€‚</p>
<p>ä¸‹é¢å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶ååŠ¨æ€çš„å‘å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªidå±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">    obj.id = <span class="number">42</span>;</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">    obj.id = <span class="number">369</span>;</span><br><span class="line">}</span><br><span class="line">test1(obj);</span><br><span class="line">test2(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«æ˜¯test1å’Œtest2å‘objè¿™ä¸ªå¯¹è±¡ä¸­åŠ¨æ€æ·»åŠ idå±æ€§ï¼Œåœ¨è¿™é‡Œå¯ä»¥æŠŠè¿™ä¸¤ä¸ªå‡½æ•°æƒ³è±¡æˆä¸¤ä¸ªä¸åŒçš„æ¨¡å—ï¼Œæˆ–è€…æ˜¯ä¸¤ä¸ªä¸åŒå¼€å‘äººå‘˜æ¥å®ç°çš„åŠŸèƒ½ã€‚</p>
<p>ä½†æ˜¯é—®é¢˜æ˜¯ï¼Œç”±äºtest2( )è¿™ä¸ªå‡½æ•°åæ‰§è¡Œï¼Œæ‰€ä»¥ä¼šå°†test1( )è¿™ä¸ªå‡½æ•°åˆ›å»ºçš„idå±æ€§çš„å€¼è¦†ç›–æ‰ã€‚é‚£ä¹ˆè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨Symbolä½œä¸ºå±æ€§åæ¥è§£å†³ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> mySymbol = <span class="built_in">Symbol</span>(<span class="string">'lib1'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">    obj[mySymbol] = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> mySymbol2 = <span class="built_in">Symbol</span>(<span class="string">'lib2'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">obj</span>) </span>{</span><br><span class="line">    obj[mySymbol2] = <span class="number">369</span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">test1(obj);</span><br><span class="line">test2(obj);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥å‘ç°ï¼Œé€šè¿‡Symbolè§£å†³äº†å±æ€§åç§°å†²çªçš„é—®é¢˜ã€‚</p>
<h2 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h2><h3 id="Proxyç®€ä»‹"><a href="#Proxyç®€ä»‹" class="headerlink" title="Proxyç®€ä»‹"></a>Proxyç®€ä»‹</h3><p>Proxyå¯ä»¥ç†è§£æˆåœ¨å¯¹è±¡å‰æ·»åŠ äº†ä¸€ä¸ªâ€œæ‹¦æˆªâ€å±‚ï¼Œå¤–ç•Œåœ¨å¯¹è¯¥å¯¹è±¡è¿›è¡Œè®¿é—®æ—¶ï¼Œå¿…é¡»å…ˆé€šè¿‡è¿™ä¸ªæ‹¦æˆªå±‚ã€‚å› æ­¤æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥å¯¹å¤–ç•Œçš„è®¿é—®è¿›è¡Œè¿‡æ»¤å’Œæ”¹å†™ã€‚Proxyè¿™ä¸ªè¯çš„æ„æ€æ˜¯ä»£ç†çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ç”±Proxyæ¥â€œä»£ç†â€æŸäº›æ“ä½œã€‚æ‰€ä»¥åˆç§°ä¹‹ä¸ºâ€œä»£ç†å™¨â€ã€‚</p>
<p>Proxyçš„ä½¿ç”¨</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy=<span class="keyword">new</span> <span class="built_in">Proxy</span>(target,handler)</span><br></pre></td></tr></tbody></table></figure>

<p>target:è¡¨ç¤ºæ‰€è¦æ‹¦æˆªçš„ç›®æ ‡å¯¹è±¡(åŸæ¥è¦è®¿é—®çš„å¯¹è±¡)</p>
<p>handler:ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºæ‹¦æˆªçš„è¡Œä¸ºå’Œè§„åˆ™ã€‚</p>
<p>è¦æƒ³ä½¿ç”¨Proxyæ¥å®Œæˆå¯¹è±¡çš„æ‹¦æˆªï¼Œé™¤äº†åˆ›å»ºå¯¹è±¡ä»¥å¤–ï¼Œè¿˜éœ€è¦æŒ‡å®šå¯¹åº”çš„æ‹¦æˆªçš„æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢ä½¿ç”¨ä¸€ä¸‹<code>get()</code>è¿™ä¸ªæ‹¦æˆªæ–¹æ³•ï¼Œæ¥ä½“ä¼šä¸€ä¸‹Proxyæ‹¦æˆªå™¨çš„ä½¿ç”¨ã€‚</p>
<p><code>get( )</code>æ–¹æ³•ç”¨äºæ‹¦æˆªæŸä¸ªå±æ€§çš„è¯»å–æ“ä½œã€‚</p>
<p>ä¸‹é¢å…ˆçœ‹å¦‚ä¸‹çš„ä»£ç </p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> student = {</span><br><span class="line">    <span class="attr">userName</span>: <span class="string">'å¼ ä¸‰'</span></span><br><span class="line">}</span><br><span class="line"><span class="built_in">console</span>.log(student.userName);</span><br><span class="line"><span class="built_in">console</span>.log(student.userAge);</span><br></pre></td></tr></tbody></table></figure>

<p>è¿™æ®µä»£ç éå¸¸çš„ç®€å•ï¼Œå®šä¹‰äº†ä¸€ä¸ªstudentå¯¹è±¡ï¼Œåœ¨è¯¥å¯¹è±¡ä¸­æ·»åŠ äº†ä¸€ä¸ªuserName,ä¸‹é¢å¯ä»¥ç›´æ¥é€šè¿‡å¯¹è±¡ååŠ ä¸Šç‚¹çš„æ–¹å¼æ¥è·å–å¯¹åº”çš„å±æ€§çš„å€¼ã€‚ä½†æ˜¯ï¼Œé—®é¢˜æ˜¯ï¼Œåœ¨studentè¿™ä¸ªå¯¹è±¡ä¸­ï¼Œåªæ˜¯å®šä¹‰äº†userNameè¿™ä¸ªå±æ€§ï¼Œå¹¶æ²¡æœ‰å®šä¹‰userAge,ä½†æ˜¯å½“é€šè¿‡student.userAgeè¿™ä¸ªæ–¹å¼æ¥è·å–çš„æ—¶å€™ï¼Œå‘ç°å¾—åˆ°çš„ç»“æœæ˜¯undefined.</p>
<p>é‚£ä¹ˆï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¸Œæœ›å¦‚æœè®¿é—®å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§çš„æ—¶å€™ï¼Œåº”è¯¥ç»™å‡ºç›¸åº”çš„é”™è¯¯æç¤ºï¼Œè¦æƒ³å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œå°±è¦ç”¨åˆ°Proxyä¸­çš„<code>get()</code>æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨è®¿é—®æŸä¸ªå¯¹è±¡çš„å±æ€§ä¹‹å‰ï¼Œå…ˆæ‹¦æˆªä¸€ä¸‹ï¼Œçœ‹ä¸€ä¸‹æ‰€è®¿é—®çš„å¯¹è±¡æ˜¯å¦æœ‰å¯¹åº”çš„å±æ€§ï¼Œå¦‚æœæœ‰ï¼Œç»§ç»­è®¿é—®ï¼Œå¦‚æœæ²¡æœ‰ç»™ç”¨æˆ·ä¸€ä¸ªé”™è¯¯çš„æç¤ºã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> student = {</span><br><span class="line">     <span class="attr">userName</span>: <span class="string">'å¼ ä¸‰'</span></span><br><span class="line"> }</span><br><span class="line"> <span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(student, {</span><br><span class="line">     <span class="attr">get</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, property</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (property <span class="keyword">in</span> target) {</span><br><span class="line">             <span class="keyword">return</span> target[property];</span><br><span class="line">         } <span class="keyword">else</span> {</span><br><span class="line">             <span class="comment">// ï¼ˆå¼•ç”¨é”™è¯¯ï¼‰ å¯¹è±¡ä»£è¡¨å½“ä¸€ä¸ªä¸å­˜åœ¨çš„å˜é‡è¢«å¼•ç”¨æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚</span></span><br><span class="line">             <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">ReferenceError</span>(<span class="string">'è®¿é—®çš„å±æ€§'</span> + property + <span class="string">"ä¸å­˜åœ¨"</span>)</span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line"> })</span><br><span class="line"> <span class="built_in">console</span>.log(proxy.userName);</span><br><span class="line"> <span class="built_in">console</span>.log(proxy.userAge);</span><br></pre></td></tr></tbody></table></figure>

<p><code>get()</code> æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œ`ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºçš„æ˜¯è¦è®¿é—®çš„å±æ€§ã€‚</p>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥ä½“ä¼šå‡ºæ‰€è°“çš„ â€œæ‹¦æˆªâ€çš„å«ä¹‰äº†ï¼Œä¹Ÿå°±æ˜¯åœ¨è®¿é—®æŸä¸ªå±æ€§çš„å€¼ä¹‹å‰ï¼Œå…ˆåˆ¤æ–­ä¸€ä¸‹è¯¥å¯¹è±¡æ˜¯å¦æœ‰å¯¹åº”çš„å±æ€§ï¼Œå¦‚æœæœ‰å°±è¿”å›å±æ€§çš„å€¼ï¼Œæ²¡æœ‰å°±ç»™å‡ºç›¸åº”çš„é”™è¯¯æç¤ºã€‚</p>
<p><strong>æ³¨æ„ï¼šè¦ä½¿Proxyèµ·ä½œç”¨ï¼Œå¿…é¡»é’ˆå¯¹Proxyå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œä¸æ˜¯é’ˆå¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œæ“ä½œ(ä¸Šé¢çš„æ˜¯studentå¯¹è±¡)ã€‚</strong></p>
<h4 id="set-æ–¹æ³•"><a href="#set-æ–¹æ³•" class="headerlink" title="set( )æ–¹æ³•"></a>set( )æ–¹æ³•</h4><p><code>set()</code> æ–¹æ³•ç”¨äºæ‹¦æˆªæŸä¸ªå±æ€§çš„èµ‹å€¼æ“ä½œã€‚</p>
<p>å‡å¦‚ï¼ŒStudentå¯¹è±¡æœ‰ä¸€ä¸ªageå±æ€§ï¼Œè¡¨ç¤ºå­¦ç”Ÿçš„å¹´é¾„ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è¦æ±‚å¯¹å¹´é¾„è¿›è¡Œé™åˆ¶ï¼Œå¦‚æœå¤§äº60å²ï¼Œç»™å‡ºé”™è¯¯æç¤ºï¼Œè¿™æ ·åœ¨è¿™é‡Œå¯ä»¥ä½¿ç”¨Proxyå¯¹è±¡ä¿è¯ageå±æ€§çš„å–å€¼æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> student = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'zs'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(student, {</span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">obj, prop, value</span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'obj='</span>, obj);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'prop='</span>, prop);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'value='</span>, value);</span><br><span class="line">        <span class="keyword">if</span> (prop === <span class="string">'age'</span>) {</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">Number</span>.isInteger(value)) {</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'å¹´é¾„ä¸æ˜¯æ•´æ•°ï¼'</span>)</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (value &gt; <span class="number">60</span>) {</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">RangeError</span>(<span class="string">'å¹´é¾„å¤ªå¤§äº†'</span>)</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">})</span><br><span class="line">proxy.age = <span class="string">'80'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(proxy.age);</span><br></pre></td></tr></tbody></table></figure>

<p><code>set()</code>æ–¹æ³•</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ‹¦æˆªçš„å¯¹è±¡ã€‚</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ“ä½œçš„å±æ€§åç§°ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¡¨ç¤ºå±æ€§çš„å€¼ã€‚</p>
<h4 id="apply-æ–¹æ³•"><a href="#apply-æ–¹æ³•" class="headerlink" title="apply( )æ–¹æ³•"></a>apply( )æ–¹æ³•</h4><p><code>apply()</code> æ–¹æ³•æ‹¦æˆªå‡½æ•°çš„è°ƒç”¨ï¼Œå‡½æ•°è°ƒç”¨åŒ…æ‹¬ç›´æ¥è°ƒç”¨ï¼Œcallå‡½æ•°è°ƒç”¨å’Œapplyå‡½æ•°è°ƒç”¨ï¼Œä¸‰ç§è°ƒç”¨æ“ä½œæ–¹å¼ã€‚</p>
<p>ä¸‹é¢å…ˆçœ‹ä¸€ä¸‹<code>apply()</code>å‡½æ•°çš„è¯­æ³•</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> handler={</span><br><span class="line">    <span class="function"><span class="title">apply</span>(<span class="params">target,ctx,args</span>)</span>{</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>apply( )</code>å‡½æ•°å¯ä»¥æœ‰ä¸‰ä¸ªå‚æ•°,</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨ç¤ºç›®æ ‡å¯¹è±¡,ä¹Ÿå°±æ˜¯è¦æ‹¦æˆªçš„å‡½æ•°</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ï¼šè¡¨ç¤ºç›®æ ‡å¯¹è±¡çš„ä¸Šä¸‹æ–‡å¯¹è±¡(this)</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šè¡¨ç¤ºç›®æ ‡å¯¹è±¡çš„å‚æ•°æ•°ç»„ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = <span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'ä½ å¥½'</span> + msg;</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> handler = {</span><br><span class="line">    <span class="attr">apply</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, ctx, args</span>) </span>{</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'target='</span>, target);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'ctx='</span>, ctx === obj);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'args='</span>, args);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'hello'</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler);</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    proxy,</span><br><span class="line"></span><br><span class="line">};</span><br><span class="line"><span class="built_in">console</span>.log(obj.proxy(<span class="string">'å¼ ä¸‰'</span>))</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æ‰§è¡Œtargetè¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œä¼šè¢«Proxyæ‰€æ‹¦æˆªã€‚</p>
<h4 id="has-æ–¹æ³•"><a href="#has-æ–¹æ³•" class="headerlink" title="has( ) æ–¹æ³•"></a>has( ) æ–¹æ³•</h4><p><code>has()</code> å¯ä»¥éšè—æŸäº›å±æ€§ï¼Œä¸è¢«inæ“ä½œç¬¦å‘ç°ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {</span><br><span class="line">    <span class="attr">_name</span>: <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> handler = {</span><br><span class="line">    <span class="function"><span class="title">has</span>(<span class="params">target, key</span>)</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'target='</span>, target);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'key='</span>, key);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(user, handler);</span><br><span class="line"><span class="string">'_name'</span> <span class="keyword">in</span> proxy; <span class="comment">// è‡ªåŠ¨è°ƒç”¨ has æ–¹æ³•</span></span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼šhasæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ï¼šè¡¨ç¤ºç›®çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°ï¼šè¡¨ç¤ºæ“ä½œçš„å±æ€§ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ï¼ŒæŠŠ<code>user</code> å¯¹è±¡ä¸­ <code>_name</code> å±æ€§éšè—èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯æ— æ³•é€šè¿‡<code>in</code> è¿ç®—ç¬¦å‘ç°è¯¥å±æ€§ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user = {</span><br><span class="line">    <span class="attr">_name</span>: <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> handler = {</span><br><span class="line">    <span class="function"><span class="title">has</span>(<span class="params">target, key</span>)</span> {</span><br><span class="line">        <span class="comment">// console.log('target=', target);</span></span><br><span class="line">        <span class="comment">// console.log('key=', key);</span></span><br><span class="line">        <span class="keyword">if</span> (key[<span class="number">0</span>] === <span class="string">'_'</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> key <span class="keyword">in</span> target;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(user, handler);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'_name'</span> <span class="keyword">in</span> proxy);</span><br></pre></td></tr></tbody></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¦‚æœå¯¹è±¡ä¸­çš„å±æ€§åç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸‹ç”»çº¿ï¼Œé‚£ä¹ˆhasæ–¹æ³•ä¼šè¿”å›false,ä»è€Œä¸ä¼šè¢« <code>in</code> è¿ç®—ç¬¦å‘ç°ï¼Œä½†æ˜¯å¦‚æœå°†  <code>console.log('_name' in proxy);</code> æ¢æˆ   <code>console.log('age' in proxy);</code>  è¿”å›ä¸ºtrue.</p>
<h3 id="åº”ç”¨åœºæ™¯-2"><a href="#åº”ç”¨åœºæ™¯-2" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><h4 id="æ•°æ®æ ¡éªŒ"><a href="#æ•°æ®æ ¡éªŒ" class="headerlink" title="æ•°æ®æ ¡éªŒ"></a>æ•°æ®æ ¡éªŒ</h4><p>åœ¨å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œå·²ç»è®²è§£è¿‡åŸºæœ¬çš„æ•°æ®æ ¡éªŒï¼Œä¸‹é¢çœ‹ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„æ•°æ®æ ¡éªŒçš„æ¡ˆä¾‹ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>{</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> {</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">''</span>;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">19</span>;</span><br><span class="line">        <span class="keyword">return</span> validator(<span class="built_in">this</span>, personValidators);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">// å®šä¹‰æ ¡éªŒè§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> personValidators = {</span><br><span class="line">        <span class="function"><span class="title">name</span>(<span class="params">val</span>)</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> val === <span class="string">'string'</span>;</span><br><span class="line">        },</span><br><span class="line">        <span class="function"><span class="title">age</span>(<span class="params">val</span>)</span> {</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">typeof</span> val === <span class="string">'number'</span> &amp;&amp; val &gt; <span class="number">18</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// å®Œæˆæ ¡éªŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validator</span>(<span class="params">target, validator</span>) </span>{</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, {</span><br><span class="line">        <span class="attr">_validator</span>: validator,</span><br><span class="line">        <span class="function"><span class="title">set</span>(<span class="params">target, key, value</span>)</span> {</span><br><span class="line">            <span class="keyword">if</span> (target.hasOwnProperty(key)) {</span><br><span class="line">                <span class="keyword">let</span> v = <span class="built_in">this</span>._validator[key]; <span class="comment">//æ ¹æ®keyè·å–å…·ä½“çš„æ ¡éªŒè§„åˆ™</span></span><br><span class="line">                <span class="keyword">if</span> (v(value)) {</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, key, value);</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`ä¸èƒ½ç»™<span class="subst">${key}</span>å±æ€§è®¾ç½®<span class="subst">${value}</span>`</span>);</span><br><span class="line">                }</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">`<span class="subst">${key}</span> ä¸å­˜åœ¨`</span>)</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line"><span class="comment">// æ³¨æ„è¿™é‡Œè¿”å›çš„æ˜¯Proxyå¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">person.name = <span class="string">'zhangsan'</span>;</span><br><span class="line">person.age = <span class="number">19</span>;</span><br><span class="line"><span class="comment">// person.name = 90;</span></span><br><span class="line"><span class="comment">// person.age = 15;</span></span><br><span class="line"><span class="built_in">console</span>.log(person);</span><br></pre></td></tr></tbody></table></figure>

<p>é€šè¿‡ä¸Šé¢çš„æ¡ˆä¾‹ï¼Œå°†å¯¹è±¡çš„åˆ›å»ºï¼Œæ•°æ®éªŒè¯çš„è§„åˆ™ï¼Œä»¥åŠå…·ä½“çš„éªŒè¯æ–¹å¼éƒ½è¿›è¡Œäº†åˆ†ç¦»ï¼Œæ•´ä½“ç»“æ„æ›´åŠ çš„æ¸…æ™°ï¼Œä»£ç æ›´åŠ çš„å®¹æ˜“ç»´æŠ¤ã€‚</p>
<h4 id="ç®€å•æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®š"><a href="#ç®€å•æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="ç®€å•æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®š"></a>ç®€å•æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®š</h4><p>å¤§å®¶éƒ½çŸ¥é“åœ¨<code>V</code>ue`ä¸­ï¼Œæ˜¯æœ‰åŒå‘ç»‘å®šåŠŸèƒ½çš„ï¼Œä¸‹é¢é€šè¿‡Proxyæ¥æ¨¡æ‹Ÿä¸€ä¸‹ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> input = <span class="built_in">document</span>.getElementById(<span class="string">'txtInput'</span>);</span><br><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.getElementById(<span class="string">'txtP'</span>);</span><br><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    <span class="attr">text</span>: <span class="string">''</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">let</span> newObj = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, {</span><br><span class="line"></span><br><span class="line">    <span class="attr">set</span>: <span class="function"><span class="keyword">function</span>(<span class="params">target, key, value</span>) </span>{</span><br><span class="line">        <span class="keyword">if</span> (target.hasOwnProperty(key)) {</span><br><span class="line">            input.value = value;</span><br><span class="line">            p.innerHTML = value;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Reflect</span>.set(target, key, value);</span><br><span class="line">    },</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>{</span><br><span class="line">    newObj.text = e.target.value;</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥å€¼ä»¥åï¼Œå¯¹åº”çš„ä¼šåœ¨pæ ‡ç­¾ä¸­è¿›è¡Œå±•ç¤ºï¼Œé€šè¿‡åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­ï¼Œå¦‚æœç»™ newObjä¸­çš„textå±æ€§èµ‹å€¼ï¼Œå¯¹åº”çš„æ–‡æœ¬æ¡†å’ŒPæ ‡ç­¾å†…å®¹ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<h4 id="å®ç°çœŸæ­£çš„ç§æœ‰å±æ€§"><a href="#å®ç°çœŸæ­£çš„ç§æœ‰å±æ€§" class="headerlink" title="å®ç°çœŸæ­£çš„ç§æœ‰å±æ€§"></a>å®ç°çœŸæ­£çš„ç§æœ‰å±æ€§</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">const</span> userInfo = {</span><br><span class="line">       <span class="attr">_id</span>: <span class="number">123</span>,</span><br><span class="line">       <span class="attr">getAllUsers</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"è·å–æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯"</span>);</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">getUserById</span>: <span class="function"><span class="keyword">function</span> (<span class="params">userId</span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"æ ¹æ®ç”¨æˆ·çš„ç¼–å·ï¼ŒæŸ¥è¯¢æŒ‡å®šçš„ä¿¡æ¯"</span> + userId);</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">saveUser</span>: <span class="function"><span class="keyword">function</span> (<span class="params">user</span>) </span>{</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">"ä¿å­˜ç”¨æˆ·ä¿¡æ¯"</span>);</span><br><span class="line">       },</span><br><span class="line">     };</span><br><span class="line">     <span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(userInfo, {</span><br><span class="line">       <span class="attr">get</span>: <span class="function"><span class="keyword">function</span> (<span class="params">target, prop</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (prop[<span class="number">0</span>] === <span class="string">"_"</span>) {</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">         }</span><br><span class="line">         <span class="keyword">return</span> target[prop];</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">set</span>: <span class="function"><span class="keyword">function</span> (<span class="params">target, prop, value</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (prop[<span class="number">0</span>] !== <span class="string">"_"</span>) {</span><br><span class="line">           target[prop] = value;</span><br><span class="line">         }</span><br><span class="line">       },</span><br><span class="line">       <span class="attr">has</span>: <span class="function"><span class="keyword">function</span> (<span class="params">target, prop</span>) </span>{</span><br><span class="line">         <span class="keyword">if</span> (prop[<span class="number">0</span>] === <span class="string">"_"</span>) {</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">         }</span><br><span class="line">         <span class="keyword">return</span> prop <span class="keyword">in</span> target;</span><br><span class="line">       },</span><br><span class="line">     });</span><br><span class="line">     <span class="built_in">console</span>.log(proxy._id); <span class="comment">//undefined</span></span><br><span class="line">     proxy.getAllUsers(); <span class="comment">// è·å–æ‰€æœ‰ç”¨æˆ·çš„ä¿¡æ¯</span></span><br><span class="line">     proxy.getUserById(<span class="number">123</span>); <span class="comment">// æ ¹æ®ç”¨æˆ·çš„ç¼–å·ï¼ŒæŸ¥è¯¢æŒ‡å®šçš„ä¿¡æ¯123</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"_id"</span> <span class="keyword">in</span> proxy); <span class="comment">//false</span></span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"saveUser"</span> <span class="keyword">in</span> proxy); <span class="comment">// true</span></span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<h2 id="Setç»“æ„"><a href="#Setç»“æ„" class="headerlink" title="Setç»“æ„"></a>Setç»“æ„</h2><p>Setç»“æ„ä¸æ•°ç»„ç±»ä¼¼ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤å€¼ã€‚</p>
<h3 id="å¸¸ç”¨çš„æ“ä½œæ–¹æ³•"><a href="#å¸¸ç”¨çš„æ“ä½œæ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„æ“ä½œæ–¹æ³•"></a>å¸¸ç”¨çš„æ“ä½œæ–¹æ³•</h3><p>å…³äºå¸¸ç”¨çš„æ“ä½œæ–¹æ³•ï¼Œè¿™é‡Œä¼šè®²è§£å¦‚ä¸‹4ä¸ªã€‚</p>
<p><code>add(value)</code> : æ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å›Setç»“æ„æœ¬èº«ã€‚</p>
<p><code>delete(value)</code>: åˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸ</p>
<p><code>has(value)</code>  : è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°æ˜¯å¦ä¸ºSetçš„æˆå‘˜.</p>
<p><code>clear()</code>: æ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<h4 id="add-æ–¹æ³•"><a href="#add-æ–¹æ³•" class="headerlink" title="add( )æ–¹æ³•"></a>add( )æ–¹æ³•</h4><p>ä¸‹é¢å…ˆçœ‹ä¸€ä¸‹ <code>add( )</code>æ–¹æ³•çš„ä½¿ç”¨</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç”¨åˆ°äº†sizeå±æ€§ï¼Œè¿™ä¸ªå±æ€§è¿”å›çš„æ˜¯Setç»“æ„ä¸­çš„æˆå‘˜æ€»æ•°ã€‚</p>
<p>Setç»“æ„ä¸­çš„æˆå‘˜æ˜¯ä¸å…è®¸å‡ºç°é‡å¤å€¼çš„ï¼Œä¸‹é¢æµ‹è¯•ä¸€ä¸‹ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line">s.add(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåˆæ·»åŠ äº†ä¸€ä¸ªæ•°å­—3ï¼Œä½†æ˜¯åœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œå‘ç°3è¿™ä¸ªæ•°å€¼åªå‡ºç°äº†ä¸€æ¬¡ï¼Œå¹¶ä¸”æ€»æ•°çš„ä¸ªæ•°ä¹Ÿæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥Setæ˜¯ä¸å…è®¸å‡ºç°é‡å¤çš„ã€‚</p>
<h4 id="has-æ–¹æ³•-1"><a href="#has-æ–¹æ³•-1" class="headerlink" title="has( )æ–¹æ³•"></a>has( )æ–¹æ³•</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">5</span>))</span><br></pre></td></tr></tbody></table></figure>

<h4 id="delete-æ–¹æ³•"><a href="#delete-æ–¹æ³•" class="headerlink" title="delete( )æ–¹æ³•"></a>delete( )æ–¹æ³•</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br><span class="line"><span class="built_in">console</span>.log(s.delete(<span class="number">3</span>)) <span class="comment">//åˆ é™¤æˆåŠŸè¿”å›true.</span></span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">5</span>))</span><br></pre></td></tr></tbody></table></figure>

<h4 id="clear-æ–¹æ³•"><a href="#clear-æ–¹æ³•" class="headerlink" title="clear()æ–¹æ³•"></a>clear()æ–¹æ³•</h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br><span class="line"><span class="built_in">console</span>.log(s.size);</span><br><span class="line"><span class="built_in">console</span>.log(s.delete(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">console</span>.log(s.has(<span class="number">5</span>))</span><br><span class="line">s.clear();<span class="comment">// æ¸…é™¤æ‰€æœ‰é¡¹</span></span><br><span class="line"><span class="built_in">console</span>.log(s);</span><br></pre></td></tr></tbody></table></figure>

<p>Setç»“æ„æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„ç»“æ„ï¼Œé‚£ä¹ˆæ€æ ·è½¬æ¢æˆä¸€ä¸ªçœŸæ­£çš„æ•°æ®å‘¢?</p>
<p>å¯ä»¥é€šè¿‡å‰é¢å­¦ä¹ çš„ <code>Arrray.from</code>  æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">s.add(<span class="number">1</span>);</span><br><span class="line">s.add(<span class="number">2</span>);</span><br><span class="line">s.add(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> array = <span class="built_in">Array</span>.from(s);</span><br><span class="line"><span class="built_in">console</span>.log(array);</span><br></pre></td></tr></tbody></table></figure>

<p>åœ¨ä½¿ç”¨æ•°ç»„ç¼–ç¨‹çš„æ—¶å€™ï¼Œç»å¸¸ä¼šç”¨åˆ°ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯æ¸…é™¤æ•°ç»„ä¸­çš„é‡å¤çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œå¯ä»¥å€ŸåŠ©äºSetç»“æ„æ¥å®Œæˆã€‚</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">      <span class="comment">// æ¸…é™¤æ•°ç»„ä¸­çš„é‡å¤æ•°æ®.</span></span><br><span class="line"><span class="comment">// Setå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„æˆ–è€…æ˜¯ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ã€‚</span></span><br><span class="line">      <span class="keyword">let</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">      <span class="keyword">let</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(array);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(s));</span><br></pre></td></tr></tbody></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">è·¯å°é›¨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://www.abigailcui.com/2020/09/25/JavaScript-1/">https://www.abigailcui.com/2020/09/25/JavaScript-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://www.abigailcui.com" target="_blank">Abigail Cuiçš„å°ç«™</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JS/">JS</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/09/26/JavaScript-2/"><img class="prev-cover" src="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">JavaScript-2</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/01/%E7%A7%98%E5%AF%86%E8%8A%B1%E5%9B%AD/"><img class="next-cover" src="https://pic.qqtn.com/up/2020-4/15870171919617644.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ç§˜å¯†èŠ±å›­</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2020/09/27/JavaScript-3/" title="JavaScript-3"><img class="cover" src="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-27</div><div class="title">JavaScript-3</div></div></a></div><div><a href="/2020/09/28/JavaScript-4/" title="JavaScript-4"><img class="cover" src="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-28</div><div class="title">JavaScript-4</div></div></a></div><div><a href="/2020/09/26/JavaScript-2/" title="JavaScript-2"><img class="cover" src="https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-26</div><div class="title">JavaScript-2</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">JavaScriptåŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">åŸºæœ¬æ•°æ®ç±»å‹ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Undefined%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.1.</span> <span class="toc-text">Undefinedç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Null%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.2.</span> <span class="toc-text">Nullç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Undefined%E4%B8%8Enull%E6%AF%94%E8%BE%83"><span class="toc-number">1.1.3.</span> <span class="toc-text">Undefinedä¸nullæ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Boolean%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.4.</span> <span class="toc-text">Booleanç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Number%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.5.</span> <span class="toc-text">Numberç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Number%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.1.5.1.</span> <span class="toc-text">Numberç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#isNaN-%E5%87%BD%E6%95%B0%E4%B8%8ENumber-isNaN-%E5%87%BD%E6%95%B0%E5%AF%B9%E6%AF%94"><span class="toc-number">1.1.5.2.</span> <span class="toc-text">isNaN( )å‡½æ•°ä¸Number.isNaN( )å‡½æ•°å¯¹æ¯”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.1.6.</span> <span class="toc-text">Stringç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#String%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">1.1.6.1.</span> <span class="toc-text">Stringç±»å‹å®šä¹‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95"><span class="toc-number">1.1.6.2.</span> <span class="toc-text">å­—ç¬¦ä¸²å¸¸è§ç®—æ³•</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%89%E4%BA%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.1.</span> <span class="toc-text">ç­‰äºè¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%AD%89%E4%BA%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">ä¸‰ç­‰äºè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E7%AD%89%E4%BA%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">åŒç­‰äºè¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.2.2.</span> <span class="toc-text">typeofè¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%88%A4%E7%A9%BA%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">å¸¸ç”¨çš„åˆ¤ç©ºæ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.4.</span> <span class="toc-text">æµç¨‹æ§åˆ¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">å¼•ç”¨æ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Object%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text">Objectç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#new-%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.1.1.</span> <span class="toc-text">new æ“ä½œç¬¦çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E7%90%86%E8%A7%A3"><span class="toc-number">2.1.2.</span> <span class="toc-text">åŸå‹å¯¹è±¡ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E7%9A%84-prototype-%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">å‡½æ•°å¯¹è±¡çš„ prototype å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#constructor-%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">constructor å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84-proto-%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.2.3.</span> <span class="toc-text">å¯¹è±¡çš„ __proto__ å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7"><span class="toc-number">2.1.3.</span> <span class="toc-text">åŸå‹å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE"><span class="toc-number">2.1.3.0.1.</span> <span class="toc-text">å±æ€§è®¿é—®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%88%A4%E6%96%AD"><span class="toc-number">2.1.3.0.2.</span> <span class="toc-text">å±æ€§åˆ¤æ–­</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7%E8%8E%B7%E5%8F%96"><span class="toc-number">2.1.3.0.3.</span> <span class="toc-text">æ‰€æœ‰å±æ€§è·å–</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-Object-create-%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.4.</span> <span class="toc-text">1.4 Object.create( )æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.1.4.1.</span> <span class="toc-text">åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">2.1.4.2.</span> <span class="toc-text">å®ç°åŸç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.1.4.3.</span> <span class="toc-text">åº”ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-create-%E4%B8%8Enew-Object-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.1.5.</span> <span class="toc-text">Object.create( )ä¸new Object()çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9Fnew%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.1.6.</span> <span class="toc-text">æ¨¡æ‹Ÿnewæ“ä½œç¬¦çš„å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%90%86%E8%A7%A3"><span class="toc-number">2.1.7.</span> <span class="toc-text">åŸå‹é“¾ç†è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.8.</span> <span class="toc-text">åŸå‹é“¾ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8C%BA%E5%88%86"><span class="toc-number">2.1.9.</span> <span class="toc-text">å±æ€§çš„åŒºåˆ†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Array%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.2.</span> <span class="toc-text">Arrayç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7-%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E6%98%AF%E6%95%B0%E7%BB%84%E8%BF%98%E6%98%AF%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.1.</span> <span class="toc-text">æ€æ · åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#instanceof%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.2.1.1.</span> <span class="toc-text">instanceofè¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.1.2.</span> <span class="toc-text">é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87toString-%E5%87%BD%E6%95%B0%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.1.3.</span> <span class="toc-text">é€šè¿‡toString( )å‡½æ•°æ¥åˆ¤æ–­</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Array-isArray-%E5%87%BD%E6%95%B0%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">2.2.1.4.</span> <span class="toc-text">é€šè¿‡Array.isArray( )å‡½æ•°æ¥åˆ¤æ–­</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7%E8%BF%87%E6%BB%A4%E6%95%B0%E7%BB%84%E4%B8%AD%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.2.2.</span> <span class="toc-text">æ€æ ·è¿‡æ»¤æ•°ç»„ä¸­æ»¡è¶³æ¡ä»¶çš„æ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7%E5%AF%B9%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%81%9A%E7%B4%AF%E5%8A%A0%E5%A4%84%E7%90%86"><span class="toc-number">2.2.3.</span> <span class="toc-text">æ€æ ·å¯¹æ•°ç»„å…ƒç´ åšç´¯åŠ å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7%E6%B1%82%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E5%80%BC%E4%B8%8E%E6%9C%80%E5%B0%8F%E5%80%BC"><span class="toc-number">2.2.4.</span> <span class="toc-text">æ€æ ·æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼ä¸æœ€å°å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86%E7%9A%84%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">2.2.5.</span> <span class="toc-text">æ•°ç»„éå†çš„æ–¹å¼æœ‰å“ªäº›</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87for%E5%BE%AA%E7%8E%AF"><span class="toc-number">2.2.5.1.</span> <span class="toc-text">é€šè¿‡forå¾ªç¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8forEach-%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.5.2.</span> <span class="toc-text">ä½¿ç”¨forEach( )å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8map-%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.5.3.</span> <span class="toc-text">ä½¿ç”¨map( )å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8some-%E5%87%BD%E6%95%B0%E4%B8%8Eevery-%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.5.4.</span> <span class="toc-text">ä½¿ç”¨some( )å‡½æ•°ä¸every( )å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8find-%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.5.5.</span> <span class="toc-text">ä½¿ç”¨find( )å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0find%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.6.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°findæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0filter%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.7.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°filteræ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0some%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.8.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°someå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0every%E5%87%BD%E6%95%B0"><span class="toc-number">2.2.9.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°everyå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0map%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.10.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°mapæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0reduce%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.11.</span> <span class="toc-text">æ‰‹åŠ¨å®ç°reduceæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7%E5%AE%9E%E7%8E%B0%E6%95%B0%E7%BB%84%E7%9A%84%E5%8E%BB%E9%87%8D"><span class="toc-number">2.2.12.</span> <span class="toc-text">æ€æ ·å®ç°æ•°ç»„çš„å»é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E6%95%B0%E7%BB%84%E9%81%8D%E5%8E%86%E5%8E%BB%E9%87%8D"><span class="toc-number">2.2.12.1.</span> <span class="toc-text">åˆ©ç”¨æ•°ç»„éå†å»é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%94%AE%E5%80%BC%E5%AF%B9%E5%8E%BB%E9%87%8D"><span class="toc-number">2.2.12.2.</span> <span class="toc-text">åˆ©ç”¨é”®å€¼å¯¹å»é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Set%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8E%BB%E9%87%8D"><span class="toc-number">2.2.12.3.</span> <span class="toc-text">ä½¿ç”¨Setæ•°æ®ç»“æ„å»é‡</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%8E%E6%A0%B7%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E4%B8%AD%E6%9C%80%E5%A4%9A%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.2.13.</span> <span class="toc-text">æ€æ ·è·å–æ•°ç»„ä¸­æœ€å¤šçš„å…ƒç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%94%AE%E5%80%BC%E5%AF%B9%E5%AE%9E%E7%8E%B0"><span class="toc-number">2.2.13.1.</span> <span class="toc-text">åˆ©ç”¨é”®å€¼å¯¹å®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96"><span class="toc-number">2.2.13.2.</span> <span class="toc-text">ç®—æ³•ä¼˜åŒ–</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%87%BD%E6%95%B0"><span class="toc-number">3.</span> <span class="toc-text">ä¸‰ã€å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">å‡½æ•°å®šä¹‰æœ‰å“ªå‡ ç§å®ç°æ–¹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Function-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">Function( )æ„é€ å‡½æ•°å®šä¹‰å‡½æ•°çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.3.</span> <span class="toc-text">å‡½æ•°è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">3.4.</span> <span class="toc-text">å‡½æ•°å£°æ˜ä¸å‡½æ•°è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%B8%B8%E8%A7%81%E7%9A%84%E8%B0%83%E7%94%A8%E6%A8%A1%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">3.5.</span> <span class="toc-text">å‡½æ•°å¸¸è§çš„è°ƒç”¨æ¨¡å¼æœ‰å“ªäº›</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E5%8F%82%E4%B8%8E%E5%BD%A2%E5%8F%82%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8C%BA%E5%88%AB"><span class="toc-number">3.6.</span> <span class="toc-text">å®å‚ä¸å½¢å‚æœ‰å“ªäº›åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Barguments%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.7.</span> <span class="toc-text">ä»‹ç»ä¸€ä¸‹argumentså¯¹è±¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#arguments%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.8.</span> <span class="toc-text">argumentså¯¹è±¡æœ‰å“ªäº›åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E4%B8%80%E4%B8%8B%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.9.</span> <span class="toc-text">è¯´ä¸€ä¸‹æ™®é€šå‡½æ•°ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%EF%BC%8C%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0%E6%8F%90%E5%8D%87"><span class="toc-number">3.10.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯å˜é‡æå‡ï¼Œä»€ä¹ˆæ˜¯å‡½æ•°æå‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">3.10.1.</span> <span class="toc-text">ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E4%B8%AD%E5%85%B3%E4%BA%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">3.10.2.</span> <span class="toc-text">é¢è¯•ä¸­å…³äºä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">3.10.3.</span> <span class="toc-text">å˜é‡æå‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E6%8F%90%E5%8D%87"><span class="toc-number">3.10.4.</span> <span class="toc-text">å‡½æ•°æå‡</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">3.11.</span> <span class="toc-text">é—­åŒ…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E7%8E%AF%E5%A2%83"><span class="toc-number">3.11.1.</span> <span class="toc-text">æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85"><span class="toc-number">3.11.2.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯é—­åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">3.11.3.</span> <span class="toc-text">é—­åŒ…çš„åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">3.11.4.</span> <span class="toc-text">é—­åŒ…å¸¸è§é¢è¯•é¢˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">3.11.5.</span> <span class="toc-text">é—­åŒ…ä¼˜ç¼ºç‚¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this%E6%8C%87%E5%90%91"><span class="toc-number">3.12.</span> <span class="toc-text">thisæŒ‡å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">3.12.1.</span> <span class="toc-text">å¸¸è§é¢è¯•é¢˜</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E3%80%81call-%E5%87%BD%E6%95%B0%EF%BC%8Capply-%E5%87%BD%E6%95%B0%EF%BC%8Cbind-%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%8C%BA%E5%88%AB"><span class="toc-number">3.13.</span> <span class="toc-text">13ã€call()å‡½æ•°ï¼Œapply( )å‡½æ•°ï¼Œbind( )å‡½æ•°çš„ä½¿ç”¨ä¸åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#call-%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.13.1.</span> <span class="toc-text">call( )å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#apply-%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.13.2.</span> <span class="toc-text">apply( )å‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bind%E5%87%BD%E6%95%B0%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.13.3.</span> <span class="toc-text">bindå‡½æ•°çš„åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E4%B8%AA%E5%87%BD%E6%95%B0%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">3.13.4.</span> <span class="toc-text">ä¸‰ä¸ªå‡½æ•°çš„æ¯”è¾ƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-1"><span class="toc-number">3.13.5.</span> <span class="toc-text">åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%86%99call%E3%80%81apply%E5%8F%8Abind%E5%87%BD%E6%95%B0"><span class="toc-number">3.13.6.</span> <span class="toc-text">æ‰‹å†™callã€applyåŠbindå‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9"><span class="toc-number">3.14.</span> <span class="toc-text">å›è°ƒå‡½æ•°æœ‰ä»€ä¹ˆç¼ºç‚¹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%87%BD%E6%95%B0%E8%A2%AB%E7%A7%B0%E4%B8%BA%E4%B8%80%E7%AD%89%E5%85%AC%E6%B0%91%EF%BC%9F"><span class="toc-number">3.15.</span> <span class="toc-text">ä¸ºä»€ä¹ˆå‡½æ•°è¢«ç§°ä¸ºä¸€ç­‰å…¬æ°‘ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.</span> <span class="toc-text">å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">5.1.</span> <span class="toc-text">1ã€å¯¹è±¡çš„å±æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.2.</span> <span class="toc-text">å±æ€§è®¿é—®æ–¹å¼çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">5.3.</span> <span class="toc-text">åˆ›å»ºå¯¹è±¡æœ‰å“ªå‡ ç§æ–¹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.4.</span> <span class="toc-text">å¯¹è±¡æ‹·è´</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.4.1.</span> <span class="toc-text">æµ…æ‹·è´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">5.4.2.</span> <span class="toc-text">æ·±æ‹·è´</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%86%99%E5%8E%9F%E5%9E%8B%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">5.5.</span> <span class="toc-text">é‡å†™åŸå‹å¯¹è±¡çš„é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">5.6.</span> <span class="toc-text">ç»§æ‰¿çš„å®ç°æ–¹å¼æœ‰å“ªäº›</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E5%9E%8B%E9%93%BE%E7%BB%A7%E6%89%BF"><span class="toc-number">5.6.1.</span> <span class="toc-text">åŸå‹é“¾ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%BB%A7%E6%89%BF"><span class="toc-number">5.6.2.</span> <span class="toc-text">æ„é€ å‡½æ•°ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E7%BB%A7%E6%89%BF"><span class="toc-number">5.6.3.</span> <span class="toc-text">æ‹·è´ç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%BB%A7%E6%89%BF"><span class="toc-number">5.6.4.</span> <span class="toc-text">ç»„åˆç»§æ‰¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%84%E7%94%9F%E5%BC%8F%E7%BB%84%E5%90%88%E7%BB%A7%E6%89%BF"><span class="toc-number">5.6.5.</span> <span class="toc-text">å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%8B%9FjQuery%E5%AE%9E%E7%8E%B0"><span class="toc-number">5.7.</span> <span class="toc-text">æ¨¡æ‹ŸjQueryå®ç°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8B%E9%9D%A2%E6%88%91%E4%BB%AC%E5%AE%9E%E7%8E%B0jQuery%E7%9A%84%E6%89%A9%E5%B1%95%E5%8A%9F%E8%83%BD"><span class="toc-number">5.8.</span> <span class="toc-text">**ä¸‹é¢æˆ‘ä»¬å®ç°jQueryçš„æ‰©å±•åŠŸèƒ½</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM%E4%B8%8E%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">DOMä¸äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">6.1.</span> <span class="toc-text">é€‰æ‹©å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTMLCollection%E5%AF%B9%E8%B1%A1%E4%B8%8ENodeList%E5%AF%B9%E8%B1%A1%E5%8C%BA%E5%88%AB"><span class="toc-number">6.2.</span> <span class="toc-text">HTMLCollectionå¯¹è±¡ä¸NodeListå¯¹è±¡åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84DOM%E6%93%8D%E4%BD%9C%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-number">6.3.</span> <span class="toc-text">å¸¸è§çš„DOMæ“ä½œæœ‰å“ªäº›ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DOM%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="toc-number">6.4.</span> <span class="toc-text">DOMæ€§èƒ½é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E4%BC%A0%E6%92%AD"><span class="toc-number">6.5.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯äº‹ä»¶ä¼ æ’­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%8D%95%E8%8E%B7"><span class="toc-number">6.6.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯äº‹ä»¶çš„æ•è·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="toc-number">6.7.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯äº‹ä»¶å†’æ³¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="toc-number">6.8.</span> <span class="toc-text">é˜»æ­¢äº‹ä»¶å†’æ³¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E4%B8%8E%E4%BA%8B%E4%BB%B6%E6%8D%95%E8%8E%B7%E9%97%AE%E9%A2%98"><span class="toc-number">6.9.</span> <span class="toc-text">äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è·é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="toc-number">6.10.</span> <span class="toc-text">Eventå¯¹è±¡ä½¿ç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E4%B8%89%E7%A7%8D%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B"><span class="toc-number">6.11.</span> <span class="toc-text">ä»‹ç»ä¸€ä¸‹ä¸‰ç§äº‹ä»¶æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98"><span class="toc-number">6.12.</span> <span class="toc-text">ä»‹ç»ä¸€ä¸‹äº‹ä»¶å§”æ‰˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13%E3%80%81%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E9%87%8D%E6%8E%92%E4%B8%8E%E9%87%8D%E7%BB%98"><span class="toc-number">6.13.</span> <span class="toc-text">13ã€ä»‹ç»ä¸€ä¸‹æµè§ˆå™¨çš„é‡æ’ä¸é‡ç»˜</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#AJAX"><span class="toc-number">7.</span> <span class="toc-text">AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFAJAX"><span class="toc-number">7.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯AJAX</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AJAX%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">7.2.</span> <span class="toc-text">AJAXåŸç†æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AJAX%E5%9F%BA%E6%9C%AC%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">7.3.</span> <span class="toc-text">AJAXåŸºæœ¬çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFreadyState%EF%BC%9F"><span class="toc-number">7.3.0.0.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯readyStateï¼Ÿ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFstatus%EF%BC%9F"><span class="toc-number">7.3.0.0.2.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯statusï¼Ÿ</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AJAX%E4%BC%98%E7%BC%BA%E7%82%B9%E5%88%86%E6%9E%90"><span class="toc-number">7.4.</span> <span class="toc-text">AJAXä¼˜ç¼ºç‚¹åˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Get%E5%92%8CPost%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">7.5.</span> <span class="toc-text">Getå’ŒPostè¯·æ±‚æ•°æ®çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Get%E5%92%8CPost%E8%AF%B7%E6%B1%82%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">7.6.</span> <span class="toc-text">Getå’ŒPostè¯·æ±‚çš„åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5"><span class="toc-number">7.7.</span> <span class="toc-text">æµè§ˆå™¨åŒæºç­–ç•¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BC%9A%E6%9C%89%E8%B7%A8%E5%9F%9F%E9%99%90%E5%88%B6%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="toc-number">7.8.</span> <span class="toc-text">ä¸ºä»€ä¹ˆæµè§ˆå™¨ä¼šæœ‰è·¨åŸŸé™åˆ¶çš„é—®é¢˜ï¼Ÿ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E6%BC%94%E7%A4%BA"><span class="toc-number">7.9.</span> <span class="toc-text">è·¨åŸŸé—®é¢˜æ¼”ç¤º</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CORS"><span class="toc-number">7.10.</span> <span class="toc-text">CORS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSONP"><span class="toc-number">7.11.</span> <span class="toc-text">JSONP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6"><span class="toc-number">8.</span> <span class="toc-text">ES6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#let-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">8.1.</span> <span class="toc-text">let å…³é”®å­—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">8.1.1.</span> <span class="toc-text">åŸºæœ¬ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let%E4%B8%8Evar%E5%8C%BA%E5%88%AB"><span class="toc-number">8.1.2.</span> <span class="toc-text">letä¸varåŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">8.1.3.</span> <span class="toc-text">å—çº§ä½œç”¨åŸŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F"><span class="toc-number">8.1.3.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%EF%BC%9F"><span class="toc-number">8.1.3.2.</span> <span class="toc-text">ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ES6%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">8.1.3.3.</span> <span class="toc-text">ES6å—çº§ä½œç”¨åŸŸ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let%E5%91%BD%E4%BB%A4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.1.4.</span> <span class="toc-text">letå‘½ä»¤æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">8.1.4.1.</span> <span class="toc-text">ä¸å­˜åœ¨å˜é‡æå‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA"><span class="toc-number">8.1.4.2.</span> <span class="toc-text">æš‚æ—¶æ€§æ­»åŒº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D%E5%A3%B0%E6%98%8E"><span class="toc-number">8.1.4.3.</span> <span class="toc-text">ä¸å…è®¸é‡å¤å£°æ˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const%E5%91%BD%E4%BB%A4"><span class="toc-number">8.2.</span> <span class="toc-text">constå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95-1"><span class="toc-number">8.2.1.</span> <span class="toc-text">åŸºæœ¬ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const%E5%91%BD%E4%BB%A4%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.2.2.</span> <span class="toc-text">constå‘½ä»¤æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%B8%B8%E9%87%8F%E6%8F%90%E5%8D%87"><span class="toc-number">8.2.2.1.</span> <span class="toc-text">ä¸å­˜åœ¨å¸¸é‡æå‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AA%E5%9C%A8%E5%A3%B0%E6%98%8E%E7%9A%84%E5%9D%97%E7%BA%A7%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%86%85%E6%9C%89%E6%95%88"><span class="toc-number">8.2.2.2.</span> <span class="toc-text">åªåœ¨å£°æ˜çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA-1"><span class="toc-number">8.2.2.3.</span> <span class="toc-text">æš‚æ—¶æ€§æ­»åŒº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%85%81%E8%AE%B8%E9%87%8D%E5%A4%8D%E5%A3%B0%E6%98%8E-1"><span class="toc-number">8.2.2.4.</span> <span class="toc-text">ä¸å…è®¸é‡å¤å£°æ˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E9%87%8F%E5%A3%B0%E6%98%8E%E5%BF%85%E9%A1%BB%E8%B5%8B%E5%80%BC"><span class="toc-number">8.2.2.5.</span> <span class="toc-text">å¸¸é‡å£°æ˜å¿…é¡»èµ‹å€¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">8.3.</span> <span class="toc-text">è§£æ„èµ‹å€¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">8.3.1.</span> <span class="toc-text">æ•°ç»„è§£æ„èµ‹å€¼åŸºæœ¬ç”¨æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.3.2.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E8%A7%A3%E6%9E%90%E4%B8%8D%E6%88%90%E5%8A%9F%EF%BC%8C%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%E4%BC%9A%E4%B8%BAundefined"><span class="toc-number">8.3.2.0.1.</span> <span class="toc-text">å¦‚æœè§£æä¸æˆåŠŸï¼Œå¯¹åº”çš„å€¼ä¼šä¸ºundefined.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8D%E5%AE%8C%E5%85%A8%E8%A7%A3%E6%9E%84%E7%9A%84%E6%83%85%E5%86%B5"><span class="toc-number">8.3.2.0.2.</span> <span class="toc-text">ä¸å®Œå…¨è§£æ„çš„æƒ…å†µ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">8.3.3.</span> <span class="toc-text">å¯¹è±¡è§£æ„èµ‹å€¼åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.3.4.</span> <span class="toc-text">å¯¹è±¡è§£æ„èµ‹å€¼æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%A7%A3%E6%9E%84"><span class="toc-number">8.3.4.1.</span> <span class="toc-text">é»˜è®¤è§£æ„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A7%A3%E6%9E%84"><span class="toc-number">8.3.4.2.</span> <span class="toc-text">åµŒå¥—ç»“æ„å¯¹è±¡çš„è§£æ„</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">8.3.5.</span> <span class="toc-text">å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">8.3.6.</span> <span class="toc-text">å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">8.3.7.</span> <span class="toc-text">è§£æ„èµ‹å€¼çš„å¥½å¤„</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E6%8D%A2%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC"><span class="toc-number">8.3.7.1.</span> <span class="toc-text">äº¤æ¢å˜é‡çš„å€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%AF%E4%BB%A5%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC"><span class="toc-number">8.3.7.2.</span> <span class="toc-text">å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.3.7.3.</span> <span class="toc-text">å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%90%E5%8F%96JSON%E5%AF%B9%E8%B1%A1%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">8.3.7.4.</span> <span class="toc-text">æå–JSONå¯¹è±¡ä¸­çš„æ•°æ®</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E4%B8%8Erest%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.4.</span> <span class="toc-text">æ‰©å±•è¿ç®—ç¬¦ä¸restè¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.4.1.</span> <span class="toc-text">æ‰©å±•è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">8.4.2.</span> <span class="toc-text">æ‰©å±•è¿ç®—ç¬¦åº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E6%9B%BF%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84apply%E6%96%B9%E6%B3%95"><span class="toc-number">8.4.2.1.</span> <span class="toc-text">ä»£æ›¿æ•°ç»„ä¸­çš„applyæ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8"><span class="toc-number">8.4.2.2.</span> <span class="toc-text">ç”¨äºå‡½æ•°è°ƒç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rest%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">8.4.3.</span> <span class="toc-text">restè¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">8.4.3.1.</span> <span class="toc-text">restå‚æ•°åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0%E7%9A%84%E5%A5%BD%E5%A4%84"><span class="toc-number">8.4.3.2.</span> <span class="toc-text">restå‚æ•°çš„å¥½å¤„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rest%E5%8F%82%E6%95%B0%E6%B3%A8%E6%84%8F%E9%97%AE%E9%A2%98"><span class="toc-number">8.4.3.3.</span> <span class="toc-text">restå‚æ•°æ³¨æ„é—®é¢˜</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-number">8.5.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ç®­å¤´å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">8.5.1.</span> <span class="toc-text">ç®­å¤´å‡½æ•°åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.5.2.</span> <span class="toc-text">ç®­å¤´å‡½æ•°æ³¨æ„äº‹é¡¹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E8%BF%94%E5%9B%9E%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.5.2.1.</span> <span class="toc-text">ç›´æ¥è¿”å›å¯¹è±¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%ADthis%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">8.5.2.2.</span> <span class="toc-text">ç®­å¤´å‡½æ•°ä¸­thisçš„é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8D%E9%80%82%E5%90%88%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="toc-number">8.5.2.3.</span> <span class="toc-text">ç®­å¤´å‡½æ•°ä¸é€‚åˆçš„åœºæ™¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95"><span class="toc-number">8.6.</span> <span class="toc-text">å¯¹è±¡çš„æ‰©å±•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%B8%8E%E6%96%B9%E6%B3%95%E7%9A%84%E7%AE%80%E6%B4%81%E8%A1%A8%E7%A4%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">8.6.1.</span> <span class="toc-text">å±æ€§ä¸æ–¹æ³•çš„ç®€æ´è¡¨ç¤ºæ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object-assign-%E6%96%B9%E6%B3%95"><span class="toc-number">8.6.2.</span> <span class="toc-text">Object.assign( )æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-number">8.6.2.1.</span> <span class="toc-text">åŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D%E9%97%AE%E9%A2%98"><span class="toc-number">8.6.2.2.</span> <span class="toc-text">æ·±æµ…æ‹·è´é—®é¢˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9-1"><span class="toc-number">8.6.2.3.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbol"><span class="toc-number">8.7.</span> <span class="toc-text">Symbol</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Symbol%E7%AE%80%E4%BB%8B"><span class="toc-number">8.7.1.</span> <span class="toc-text">Symbolç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E4%B8%BA%E5%B1%9E%E6%80%A7%E5%90%8D%E7%9A%84Symbol"><span class="toc-number">8.7.1.1.</span> <span class="toc-text">ä½œä¸ºå±æ€§åçš„Symbol</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E6%AD%A2%E5%B1%9E%E6%80%A7%E5%90%8D%E7%A7%B0%E5%86%B2%E7%AA%81"><span class="toc-number">8.7.1.2.</span> <span class="toc-text">é˜²æ­¢å±æ€§åç§°å†²çª</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Proxy"><span class="toc-number">8.8.</span> <span class="toc-text">Proxy</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Proxy%E7%AE%80%E4%BB%8B"><span class="toc-number">8.8.1.</span> <span class="toc-text">Proxyç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set-%E6%96%B9%E6%B3%95"><span class="toc-number">8.8.1.1.</span> <span class="toc-text">set( )æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#apply-%E6%96%B9%E6%B3%95"><span class="toc-number">8.8.1.2.</span> <span class="toc-text">apply( )æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#has-%E6%96%B9%E6%B3%95"><span class="toc-number">8.8.1.3.</span> <span class="toc-text">has( ) æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-2"><span class="toc-number">8.8.2.</span> <span class="toc-text">åº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C"><span class="toc-number">8.8.2.1.</span> <span class="toc-text">æ•°æ®æ ¡éªŒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%A8%A1%E6%8B%9F%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">8.8.2.2.</span> <span class="toc-text">ç®€å•æ¨¡æ‹ŸåŒå‘æ•°æ®ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%9C%9F%E6%AD%A3%E7%9A%84%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="toc-number">8.8.2.3.</span> <span class="toc-text">å®ç°çœŸæ­£çš„ç§æœ‰å±æ€§</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E7%BB%93%E6%9E%84"><span class="toc-number">8.9.</span> <span class="toc-text">Setç»“æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-number">8.9.1.</span> <span class="toc-text">å¸¸ç”¨çš„æ“ä½œæ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#add-%E6%96%B9%E6%B3%95"><span class="toc-number">8.9.1.1.</span> <span class="toc-text">add( )æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#has-%E6%96%B9%E6%B3%95-1"><span class="toc-number">8.9.1.2.</span> <span class="toc-text">has( )æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#delete-%E6%96%B9%E6%B3%95"><span class="toc-number">8.9.1.3.</span> <span class="toc-text">delete( )æ–¹æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#clear-%E6%96%B9%E6%B3%95"><span class="toc-number">8.9.1.4.</span> <span class="toc-text">clear()æ–¹æ³•</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://gitee.com/abigailcui/blogimage/raw/master/img/QGIS.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021  <i id="heartbeat" class="fa fas fa-heartbeat"></i> è·¯å°é›¨</div><div class="footer_custom_text">plain living and high thinking</div></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><canvas id="universe"></canvas><div class="aplayer no-destroy" data-id="000PeZCQ1i4XVs" data-server="tencent" data-type="artist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="true" muted></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="150" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="true"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = [
  'title',
  '#config-diff',
  '#body-wrap',
  '#rightside-config-hide',
  '#rightside-config-show',
  '.js-pjax'
]

if (false) {
  pjaxSelectors.unshift('meta[property="og:image"]', 'meta[property="og:title"]', 'meta[property="og:url"]')
}

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.removeEventListener('scroll', window.tocScrollFn)
  window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // Analytics
  if (false) {
    MtaH5.pgv()
  }

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>function history_calendar_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>é‚£å¹´ä»Šæ—¥</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>';
                console.log('å·²æŒ‚è½½history_calendar')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // æ— æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // æœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            history_calendar_injector_config()
        } </script><script data-pjax  src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-card-history/baiduhistory/js/main.js"></script><script data-pjax>function electric_clock_injector_config(){
                var parent_div_git = document.getElementsByClassName('sticky_layout')[0];
                var item_html = '<div class="card-widget card-clock"><div class="card-glass"><div class="card-background"><div class="card-content"><div id="hexo_electric_clock"><img id="card-clock-loading" src="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-clock/clock/images/weather/loading.gif" style="height: 120px; width: 100%;" data-ll-status="loading" class="entered loading"></div></div></div></div></div>';
                console.log('å·²æŒ‚è½½electric_clock')
                // parent_div_git.innerHTML=item_html+parent_div_git.innerHTML // æ— æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
                parent_div_git.insertAdjacentHTML("afterbegin",item_html) // æœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
            }if( document.getElementsByClassName('sticky_layout')[0] && (location.pathname ==='/'|| '/' ==='all')){

            electric_clock_injector_config()
        } </script><script src="https://pv.sohu.com/cityjson?ie=utf-8"></script><script data-pjax  src="https://cdn.jsdelivr.net/gh/Zfour/hexo-electric-clock@1.0.6/clock.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body></html>